require=function(){function e(t,r,i){function s(a,o){if(!r[a]){if(!t[a]){var l="function"==typeof require&&require;if(!o&&l)return l(a,!0);if(n)return n(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=r[a]={exports:{}};t[a][0].call(c.exports,function(e){var r=t[a][1][e];return s(r||e)},c,c.exports,e,t,r,i)}return r[a].exports}for(var n="function"==typeof require&&require,a=0;a<i.length;a++)s(i[a]);return s}return e}()({1:[function(e,t,r){"use strict";function i(e,t,r){"function"!=typeof t||r||(r=t,t=void 0);const i=(new this).setAsync(e,t);return"function"==typeof r?void i.then(r):i}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;r.default=i},{}],2:[function(e,t,r){"use strict";function i(){return this.data.map(e=>e.id)}function s(e,...t){return(0,o.format)(e,(0,l.clean)(this.data),...t)}function n(e={}){(0,a.validateOutputOptions)(e);const t=Object.assign({},this.defaultOptions,this._options.output,e),{type:r,style:i}=t,[s,n]=i.split("-"),o="citation"===s?"bibliography":"csl"===s?"data":s,l="string"===r?"text":"json"===r?"object":r;let u;switch(o){case"bibliography":{const{lang:e,append:r,prepend:i}=t;u={template:n,lang:e,format:l,append:r,prepend:i};break}case"data":case"bibtex":case"bibtxt":case"ndjson":case"ris":u={type:l};break;default:throw new Error(`Invalid style "${o}"`)}const c=this.format(o,Object.assign(u,e._newOptions)),{format:m}=t;if("real"===m&&"html"===l&&"undefined"!=typeof document&&"function"==typeof document.createElement){const e=document.createElement("div");return e.innerHTML=c,e.firstChild}return"string"===m&&"object"==typeof c?JSON.stringify(c):c}Object.defineProperty(r,"__esModule",{value:!0}),r.format=s,r.get=n,r.getIds=i;var a=e("./validate.js"),o=e("../plugins/output.js"),l=e("../plugins/input/csl.js")},{"../plugins/input/csl.js":24,"../plugins/output.js":32,"./validate.js":9}],3:[function(e,t,r){"use strict";function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var s={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=n?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(s,a,o):s[a]=e[a]}return s.default=e,r&&r.set(e,s),s}function n(e,t={}){return this instanceof n?(this._options=t,this.log=[],this.data=[],this.set(e,t),this.options(t),this):new n(e,t)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=s(e("./log.js")),o=s(e("./options.js")),l=s(e("./set.js")),u=s(e("./sort.js")),c=s(e("./get.js")),m=s(e("./static.js"));Object.assign(n.prototype,a,o,l,u,c),n.prototype[Symbol.iterator]=function*(){yield*this.data},Object.assign(n,m);r.default=n},{"./get.js":2,"./log.js":4,"./options.js":5,"./set.js":6,"./sort.js":7,"./static.js":8}],4:[function(e,t,r){"use strict";function i(){return this.log.length}function s(e=1){if(e<=0||e>this.currentVersion())return null;{const[t,r]=this.log[e-1],i=new this.constructor(JSON.parse(t),JSON.parse(r));return i.log=this.log.slice(0,e),i}}function n(e=1){return this.retrieveVersion(this.currentVersion()-e)}function a(){return this.retrieveVersion(this.currentVersion())}function o(){return this.log.push([JSON.stringify(this.data),JSON.stringify(this._options)]),this}Object.defineProperty(r,"__esModule",{value:!0}),r.currentVersion=i,r.retrieveLastVersion=a,r.retrieveVersion=s,r.save=o,r.undo=n},{}],5:[function(e,t,r){"use strict";function i(e,t){return(0,s.validateOutputOptions)(e),t&&this.save(),Object.assign(this._options,e),this}Object.defineProperty(r,"__esModule",{value:!0}),r.defaultOptions=void 0,r.options=i;var s=e("./validate.js");r.defaultOptions={format:"real",type:"json",style:"csl",lang:"en-US"}},{"./validate.js":9}],6:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t={},r=!1){return!0!==t&&!0!==r||this.save(),this.data.push(...(0,u.chain)(e,t)),this.data.filter(e=>!Object.prototype.hasOwnProperty.call(e,"id")).forEach(e=>{e.id=(0,c.default)(this.getIds(),"temp_id_")}),this}async function n(e,t={},r=!1){return!0!==t&&!0!==r||this.save(),this.data.push(...await(0,u.chainAsync)(e,t)),this.data.filter(e=>!Object.prototype.hasOwnProperty.call(e,"id")).forEach(e=>{e.id=(0,c.default)(this.getIds(),"temp_id_")}),this}function a(e,t={},r=!1){return!0!==t&&!0!==r||this.save(),this.data=[],"boolean"!=typeof t?this.add(e,t):this.add(e)}async function o(e,t={},r=!1){return!0!==t&&!0!==r||this.save(),this.data=[],"boolean"!=typeof t?this.addAsync(e,t):this.addAsync(e)}function l(e){return e&&this.save(),this.data=[],this._options={},this}Object.defineProperty(r,"__esModule",{value:!0}),r.add=s,r.addAsync=n,r.reset=l,r.set=a,r.setAsync=o;var u=e("../plugins/input/index.js"),c=i(e("../util/fetchId.js"))},{"../plugins/input/index.js":28,"../util/fetchId.js":36}],7:[function(e,t,r){"use strict";function i(e,t,r="label"===t){let i=r?(0,o.getLabel)(e):e[t];switch(t){case"author":case"editor":return i.map(e=>e.literal||e.family||(0,l.format)(e));case"accessed":case"issued":return i["date-parts"][0];case"page":return i.split("-").map(e=>parseInt(e));case"edition":case"issue":case"volume":return i=parseInt(i),isNaN(i)?-1/0:i;default:return i||-1/0}}function s(e,t,r,s=/^!/.test(r)){r=r.replace(/^!/,"");const n=i(e,r),a=i(t,r);return(s?-1:1)*(n>a?1:n<a?-1:0)}function n(...e){return(t,r)=>{const i=e.slice();let n=0;for(;!n&&i.length;)n=s(t,r,i.shift());return n}}function a(e=[],t){return t&&this.save(),this.data.sort("function"==typeof e?e:n(...e,"label")),this}Object.defineProperty(r,"__esModule",{value:!0}),r.sort=a;var o=e("../plugin-common/output/label.js"),l=e("@citation-js/name")},{"../plugin-common/output/label.js":19,"@citation-js/name":42}],8:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var s={async:!0};Object.defineProperty(r,"async",{enumerable:!0,get:function(){return n.default}});var n=i(e("./async.js")),a=e("./validate.js");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(s,e)||e in r&&r[e]===a[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return a[e]}}))})},{"./async.js":1,"./validate.js":9}],9:[function(e,t,r){"use strict";function i(e){if("object"!=typeof e)throw new TypeError("Options not an object!");const{format:t,type:r,style:i,lang:s,append:u,prepend:c}=e;if(t&&!n.includes(t))throw new TypeError(`Option format ("${t}") should be one of: ${n}`);if(r&&!a.includes(r))throw new TypeError(`Option type ("${r}") should be one of: ${a}`);if(i&&!o.includes(i)&&!/^citation/.test(i))throw new TypeError(`Option style ("${i}") should be one of: ${o}`);if(s&&"string"!=typeof s)throw new TypeError(`Option lang should be a string, but is a ${typeof s}`);if(c&&!l.includes(typeof c))throw new TypeError(`Option prepend should be a string or a function, but is a ${typeof c}`);if(u&&!l.includes(typeof u))throw new TypeError(`Option append should be a string or a function, but is a ${typeof u}`);if(/^citation/.test(i)&&"json"===r)throw new Error(`Combination type/style of json/citation-* is not valid: ${r}/${i}`);return!0}function s(e){if("object"!=typeof e)throw new TypeError("Options should be an object");if(e.output)i(e.output);else{if(e.maxChainLength&&"number"!=typeof e.maxChainLength)throw new TypeError("Option maxChainLength should be a number");if(e.forceType&&"string"!=typeof e.forceType)throw new TypeError("Option forceType should be a string");if(null!=e.generateGraph&&"boolean"!=typeof e.generateGraph)throw new TypeError("Option generateGraph should be a boolean");if(null!=e.strict&&"boolean"!=typeof e.strict)throw new TypeError("Option strict should be a boolean");if(null!=e.target&&"string"!=typeof e.target)throw new TypeError("Option target should be a boolean")}return!0}Object.defineProperty(r,"__esModule",{value:!0}),r.validateOptions=s,r.validateOutputOptions=i;const n=["real","string"],a=["json","html","string","rtf"],o=["csl","bibtex","bibtxt","citation-*","ris","ndjson"],l=["string","function"]},{}],10:[function(e,t,r){(function(e){(function(){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;const t={_output(e,t,r){this._log.push(t,r),this._levels.indexOf(e)<this._levels.indexOf(this.level)||this._console.log(t,...r)},_console:null,_log:[],_levels:["http","debug","unmapped","info","warn","error","silent"],level:"silent"};for(const e of t._levels)t[e]=((r,...i)=>t._output(e,r,i));"function"==typeof console.Console?t._console=new console.Console(e.stderr):t._console=console;r.default=t}).call(this)}).call(this,e("_process"))},{_process:147}],11:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function n(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var i={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=n?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(i,a,o):i[a]=e[a]}return i.default=e,r&&r.set(e,i),i}var a=n(e("../plugins")),o=e("./input/"),l=i(e("./output/"));a.add(o.ref,{input:o.formats,output:l.default})},{"../plugins":22,"./input/":14,"./output/":17}],12:[function(e,t,r){"use strict";function i(){return[]}Object.defineProperty(r,"__esModule",{value:!0}),r.parse=i},{}],13:[function(e,t,r){"use strict";function i(e){return e.value||e.textContent}Object.defineProperty(r,"__esModule",{value:!0}),r.parse=i},{}],14:[function(e,t,r){"use strict";function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var s={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=n?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(s,a,o):s[a]=e[a]}return s.default=e,r&&r.set(e,s),s}Object.defineProperty(r,"__esModule",{value:!0}),r.ref=r.parsers=r.formats=void 0;var n=s(e("./empty.js")),a=s(e("./json.js")),o=s(e("./jquery.js")),l=s(e("./html.js"));r.ref="@else",r.parsers={empty:n,json:a,jquery:o,html:l},r.formats={"@empty/text":{parse:n.parse,parseType:{dataType:"String",predicate:e=>""===e}},"@empty/whitespace+text":{parse:n.parse,parseType:{dataType:"String",predicate:/^\s+$/}},"@empty":{parse:n.parse,parseType:{dataType:"Primitive",predicate:e=>null==e}},"@else/json":{parse:a.parse,parseType:{dataType:"String",predicate:/^\s*(\{[\S\s]*\}|\[[\S\s]*\])\s*$/}},"@else/url":{parseType:{dataType:"String",predicate:/^https?:\/\/(([\w-]+\.)*[\w-]+)(:\d+)?(\/[^?/]*)*(\?[^#]*)?(#.*)?$/i}},"@else/jquery":{parse:o.parse,parseType:{dataType:"ComplexObject",predicate:e=>"undefined"!=typeof jQuery&&e instanceof jQuery}},"@else/html":{parse:l.parse,parseType:{dataType:"ComplexObject",predicate:e=>"undefined"!=typeof HTMLElement&&e instanceof HTMLElement}}}},{"./empty.js":12,"./html.js":13,"./jquery.js":15,"./json.js":16}],15:[function(e,t,r){"use strict";function i(e){return e.val()||e.text()||e.html()}Object.defineProperty(r,"__esModule",{value:!0}),r.parse=i},{}],16:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function s(e){if("string"!=typeof e)return JSON.parse(e);try{return JSON.parse(e)}catch(t){return n.default.debug("[plugin-common]","Invalid JSON, switching to experimental parser"),a.forEach(([t,r])=>{e=e.replace(t,r)}),JSON.parse(e)}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.parse=s;var n=i(e("../../logger.js"));const a=[[/((?:\[|:|,)\s*)'((?:\\'|[^'])*?[^\\])?'(?=\s*(?:\]|}|,))/g,'$1"$2"'],[/((?:(?:"|]|}|\/[gmiuys]|\.|(?:\d|\.|-)*\d)\s*,|{)\s*)(?:"([^":\n]+?)"|'([^":\n]+?)'|([^":\n]+?))(\s*):/g,'$1"$2$3$4"$5:']]},{"../../logger.js":10}],17:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var s=i(e("./json.js")),n=i(e("./label.js"));r.default=Object.assign({},s.default,n.default)},{"./json.js":18,"./label.js":19}],18:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function n(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var i={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=n?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(i,a,o):i[a]=e[a]}return i.default=e,r&&r.set(e,i),i}function a(e,t,r){return e+(t<r.length-1?",":"")}function o(e,t){const r=Array.isArray(e);let i;return i=r?e.map(e=>l(e,t)):Object.keys(e).filter(t=>JSON.stringify(e[t])).map(r=>`"${r}": ${l(e[r],t)}`),i=i.map(a).map(e=>t.listItem.join(e)),i=t.list.join(i.join("")),r?`[${i}]`:`{${i}}`}function l(e,t){return"object"==typeof e&&null!==e?0===e.length?"[]":0===Object.keys(e).length?"{}":o(e,t):JSON.stringify(e)}function u(e,t){let r=e.map(e=>o(e,t));return r=r.map(a).map(e=>t.entry.join(e)),r=r.join(""),t.bibliographyContainer.join(`[${r}]`)}function c(e){return u(e,m.dict.get("html"))}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,r.getJsonWrapper=c;var m=n(e("../../plugins/index.js")),p=n(e("../../util/index.js")),h=i(e("../../logger.js"));r.default={data:(e,{type:t,format:r=t||"text",version:i="1.0.2"}={})=>(i<"1.0.2"&&(e=p.downgradeCsl(e)),"object"===r?p.deepCopy(e):"text"===r?JSON.stringify(e,null,2):(h.default.warn("[core]","This feature (JSON output with special formatting) is unstable. See https://github.com/larsgw/citation.js/issues/144"),u(e,m.dict.get(r)))),ndjson:(e,{version:t="1.0.2"}={})=>(t<"1.0.2"&&(e=p.downgradeCsl(e)),e.map(e=>JSON.stringify(e)).join("\n"))}},{"../../logger.js":10,"../../plugins/index.js":22,"../../util/index.js":38}],19:[function(e,t,r){"use strict";function i(e){if("citation-label"in e)return e["citation-label"];let t="";return e.author&&(t+=e.author[0].family||e.author[0].literal),e.issued&&e.issued["date-parts"]&&e.issued["date-parts"][0]&&(t+=e.issued["date-parts"][0][0]),e["year-suffix"]?t+=e["year-suffix"]:e.title&&(t+=e.title.replace(/<\/?.*?>/g,"").match(/^(?:(?:the|a|an)\s+)?(\S+)/i)[1]),t}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,r.getLabel=i;r.default={label:e=>e.reduce((e,t)=>(e[t.id]=i(t),e),{})}},{}],20:[function(e,t,r){"use strict";function i(e,t){l[e]=t}function s(e){return l[e]}function n(e){return Object.prototype.hasOwnProperty.call(l,e)}function a(e){delete l[e]}function o(){return Object.keys(l)}Object.defineProperty(r,"__esModule",{value:!0}),r.add=i,r.get=s,r.has=n,r.list=o,r.remove=a;const l={}},{}],21:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if("string"!=typeof e)throw new TypeError(`Invalid dict name, expected string, got ${typeof e}`);if("object"!=typeof t)throw new TypeError(`Invalid dict, expected object, got ${typeof t}`);for(const e in t){const r=t[e];if(!Array.isArray(r)||r.some(e=>"string"!=typeof e))throw new TypeError(`Invalid dict entry "${e}", expected array of strings`)}}function n(e,t){s(e,t),m.set(e,t)}function a(e){m.remove(e)}function o(e){return m.has(e)}function l(){return m.list()}function u(e){if(!m.has(e))throw new Error(`Dict "${e}" unavailable`);return m.get(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.add=n,r.get=u,r.has=o,r.htmlDict=void 0,r.list=l,r.register=void 0,r.remove=a,r.textDict=void 0;var c=i(e("../util/register.js"));const m=r.register=new c.default({html:{bibliographyContainer:['<div class="csl-bib-body">',"</div>"],entry:['<div class="csl-entry">',"</div>"],list:['<ul style="list-style-type:none">',"</ul>"],listItem:["<li>","</li>"]},text:{bibliographyContainer:["","\n"],entry:["","\n"],list:["\n",""],listItem:["\t","\n"]}});r.htmlDict={wr_start:'<div class="csl-bib-body">',wr_end:"</div>",en_start:'<div class="csl-entry">',en_end:"</div>",ul_start:'<ul style="list-style-type:none">',ul_end:"</ul>",li_start:"<li>",li_end:"</li>"},r.textDict={wr_start:"",wr_end:"\n",en_start:"",en_end:"\n",ul_start:"\n",ul_end:"",li_start:"\t",li_end:"\n"}},{"../util/register.js":39}],22:[function(e,t,r){"use strict";function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var s={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=n?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(s,a,o):s[a]=e[a]}return s.default=e,r&&r.set(e,s),s}function n(e,t={}){const r=f[e]={};for(const i in t){if("config"===i){r.config={[e]:t.config},h.config.add(e,t.config);continue}const s=r[i]={},n=t[i];for(const e in n){const t=n[e];s[e]=!0,h[i].add(e,t)}}}function a(e){const t=f[e];for(const e in t){const r=t[e];for(const t in r)h[e].remove(t)}delete f[e]}function o(e){return e in f}function l(){return Object.keys(f)}Object.defineProperty(r,"__esModule",{value:!0}),r.add=n,r.dict=r.config=void 0,r.has=o,r.input=void 0,r.list=l,r.output=void 0,r.remove=a;var u=s(e("./input/index.js"));r.input=u;var c=s(e("./output.js"));r.output=c;var m=s(e("./dict.js"));r.dict=m;var p=s(e("./config.js"));r.config=p;const h={input:u,output:c,dict:m,config:p},f={}},{"./config.js":20,"./dict.js":21,"./input/index.js":28,"./output.js":32}],23:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function s(e){return e.reduce((e,t)=>{const r=e[e.length-1];return r&&r.type===t.type?r.count=r.count+1||2:e.push(t),e},[]).map(e=>(e.count>1?e.count+"x ":"")+e.type).join(" -> ")}Object.defineProperty(r,"__esModule",{value:!0}),r.chainLinkAsync=r.chainLink=r.chainAsync=r.chain=void 0;var n=e("../../util/index.js"),a=i(e("../../logger.js")),o=e("./register.js"),l=e("./type.js"),u=e("./data.js"),c=e("./graph.js");class m{constructor(e,t={}){this.options=Object.assign({generateGraph:!0,forceType:(0,l.type)(e),maxChainLength:10,strict:!0,target:"@csl/list+object"},t),this.type=this.options.forceType,this.data="object"==typeof e?(0,n.deepCopy)(e):e,this.graph=[{type:this.type,data:e}],this.iteration=0}iterate(){if(0!==this.iteration){const e=(0,o.get)(this.type);e&&e.outputs?this.type=e.outputs:this.type=(0,l.type)(this.data),this.graph.push({type:this.type})}return!this.error&&this.type!==this.options.target&&(this.iteration>=this.options.maxChainLength?(this.error=new RangeError(`Max. number of parsing iterations reached (${s(this.graph)})`),!1):(this.iteration++,!0))}end(){if(this.error){if(a.default.error("[core]",this.error.message),!1!==this.options.strict)throw this.error;return[]}return"@csl/list+object"===this.options.target?(0,n.upgradeCsl)(this.data).map(this.options.generateGraph?e=>(0,c.applyGraph)(e,this.graph):c.removeGraph):this.data}}const p=(...e)=>{const t=new m(...e);for(;t.iterate();)try{t.data=(0,u.data)(t.data,t.type)}catch(e){t.error=e}return t.end()};r.chain=p;const h=e=>{const t=(0,l.type)(e),r=t.match(/array|object/)?(0,n.deepCopy)(e):e;return(0,u.data)(r,t)};r.chainLink=h;const f=async(...e)=>{const t=new m(...e);for(;t.iterate();)t.data=await(0,u.dataAsync)(t.data,t.type).catch(e=>{t.error=e});return t.end()};r.chainAsync=f;const d=async e=>{const t=(0,l.type)(e),r=t.match(/array|object/)?(0,n.deepCopy)(e):e;return(0,u.dataAsync)(r,t)};r.chainLinkAsync=d},{"../../logger.js":10,"../../util/index.js":38,"./data.js":25,"./graph.js":27,"./register.js":30,"./type.js":31}],24:[function(e,t,r){"use strict";function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){n(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function n(e,t,r){return t=a(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e){var t=o(e,"string");return"symbol"==typeof t?t:String(t)}function o(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function l(e,t){return"object"==typeof e&&null!==e&&(e.literal||e.given||e.family)?e:t&&"string"==typeof e?(0,d.parse)(e):void 0}function u(e,t){if(e instanceof Array){const r=e.map(e=>l(e,t)).filter(Boolean);return r.length?r:void 0}}function c(e,t){return e.every(e=>"number"==typeof e)?e:!t||e.some(e=>isNaN(parseInt(e)))?void 0:e.map(e=>parseInt(e))}function m(e,t){const r="date-parts";if("object"==typeof e&&null!==e){if(e[r]instanceof Array&&e[r].every(e=>e instanceof Array)){const i=e[r].map(e=>c(e,t)).filter(Boolean);return i.length?s(s({},e),{},{"date-parts":i}):void 0}if(e instanceof Array&&e.every(e=>e[r]instanceof Array)){const i=e.map(e=>c(e[r],t)).filter(Boolean);return i.length?{"date-parts":i}:void 0}if(e[r]instanceof Array){const i=c(e[r],t);return i&&{"date-parts":[i]}}return"literal"in e||"raw"in e?e:void 0}}function p(e,t){return e=h("language",e,t),!0===_[e]?e:t&&e in _?_[e]:void 0}function h(e,t,r){const i=[].concat(x[e]);switch(x[e]){case g:return l(t,r);case b:return u(t,r);case y:return m(t,r);case v:return p(t,r)}if(r){if("string"==typeof t&&i.includes("number")&&!i.includes("string")&&!isNaN(+t))return parseFloat(t);if("number"==typeof t&&i.includes("string")&&!i.includes("number"))return t.toString();if(Array.isArray(t)&&t.length)return h(e,t[0],r)}if(i.includes(typeof t))return t}function f(e,t=!0){return e.map(function(e){const r={};for(const i in e){const s=h(i,e[i],t);void 0!==s&&(r[i]=s)}return r})}Object.defineProperty(r,"__esModule",{value:!0}),r.clean=f;var d=e("@citation-js/name");const g=1,b=2,y=3,v=4,_={article:!0,"article-journal":!0,"article-magazine":!0,"article-newspaper":!0,bill:!0,book:!0,broadcast:!0,chapter:!0,classic:!0,collection:!0,dataset:!0,document:!0,entry:!0,"entry-dictionary":!0,"entry-encyclopedia":!0,event:!0,figure:!0,graphic:!0,hearing:!0,interview:!0,legal_case:!0,legislation:!0,manuscript:!0,map:!0,motion_picture:!0,musical_score:!0,pamphlet:!0,"paper-conference":!0,patent:!0,performance:!0,periodical:!0,personal_communication:!0,post:!0,"post-weblog":!0,regulation:!0,report:!0,review:!0,"review-book":!0,software:!0,song:!0,speech:!0,standard:!0,thesis:!0,treaty:!0,webpage:!0,"journal-article":"article-journal","book-chapter":"chapter","posted-content":"manuscript","proceedings-article":"paper-conference",dissertation:"thesis"},x={author:b,chair:b,"collection-editor":b,compiler:b,composer:b,"container-author":b,contributor:b,curator:b,director:b,editor:b,"editorial-director":b,"executive-producer":b,guest:b,host:b,interviewer:b,illustrator:b,narrator:b,organizer:b,"original-author":b,performer:b,producer:b,"reviewed-author":b,recipient:b,"script-writer":b,"series-creator":b,translator:b,accessed:y,"available-date":y,container:y,"event-date":y,issued:y,"original-date":y,submitted:y,type:v,categories:"object",custom:"object",id:["string","number"],language:"string",journalAbbreviation:"string",shortTitle:"string",abstract:"string",annote:"string",archive:"string",archive_collection:"string",archive_location:"string","archive-place":"string",authority:"string","call-number":"string","chapter-number":"string","citation-number":"string","citation-key":"string","citation-label":"string","collection-number":"string","collection-title":"string","container-title":"string","container-title-short":"string",dimensions:"string",division:"string",DOI:"string",edition:["string","number"],event:"string","event-title":"string","event-place":"string","first-reference-note-number":"string",genre:"string",ISBN:"string",ISSN:"string",issue:["string","number"],jurisdiction:"string",keyword:"string",locator:"string",medium:"string",note:"string",number:["string","number"],"number-of-pages":"string","number-of-volumes":["string","number"],"original-publisher":"string","original-publisher-place":"string","original-title":"string",page:"string","page-first":"string","part-number":["string","number"],"part-title":"string",PMCID:"string",PMID:"string",printing:"string",publisher:"string","publisher-place":"string",references:"string","reviewed-title":"string","reviewed-genre":"string",scale:"string",section:"string",source:"string",status:"string",supplement:["string","number"],title:"string","title-short":"string",URL:"string",version:"string",volume:["string","number"],"volume-title":"string","volume-title-short":"string","year-suffix":"string"}},{"@citation-js/name":42}],25:[function(e,t,r){"use strict";function i(e,t){if("function"==typeof c[t])return c[t](e);if("function"==typeof p[t])return p[t](e);throw new TypeError(`No synchronous parser found for ${t}`)}async function s(e,t){if("function"==typeof m[t])return m[t](e);if("function"==typeof h[t])return h[t](e);if(a(t,!1))return i(e,t);throw new TypeError(`No parser found for ${t}`)}function n(e,{parser:t,async:r}){r?m[e]=t:c[e]=t}function a(e,t){return t?m[e]||h[e]:c[e]||p[e]}function o(e,t){delete(t?m:c)[e]}function l(e){return Object.keys(e?m:c)}Object.defineProperty(r,"__esModule",{value:!0}),r.addDataParser=n,r.data=i,r.dataAsync=s,r.hasDataParser=a,r.listDataParser=l,r.removeDataParser=o;var u=e("./chain.js");const c={},m={},p={"@csl/object":e=>[e],"@csl/list+object":e=>e,"@else/list+object":e=>e.map(u.chain).flat(),"@invalid":()=>{throw new Error("This format is not supported or recognized")}},h={"@else/list+object":async e=>(await Promise.all(e.map(u.chainAsync))).flat()}},{"./chain.js":23}],26:[function(e,t,r){"use strict";function i(e){switch(e){case void 0:return"Undefined";case null:return"Null";default:return e.constructor.name}}function s(e){switch(typeof e){case"string":return"String";case"object":if(Array.isArray(e))return"Array";if("Object"===i(e))return"SimpleObject";if("Null"!==i(e))return"ComplexObject";default:return"Primitive"}}Object.defineProperty(r,"__esModule",{value:!0}),r.dataTypeOf=s,r.typeOf=i},{}],27:[function(e,t,r){"use strict";function i(e,t){if(e._graph){const r=t.findIndex(({type:e})=>"@else/list+object"===e);-1!==r&&t.splice(r+1,0,...e._graph.slice(0,-1))}return e._graph=t,e}function s(e){return delete e._graph,e}Object.defineProperty(r,"__esModule",{value:!0}),r.applyGraph=i,r.removeGraph=s},{}],28:[function(e,t,r){"use strict";function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var s={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=n?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(s,a,o):s[a]=e[a]}return s.default=e,r&&r.set(e,s),s}Object.defineProperty(r,"__esModule",{value:!0});var n={util:!0};r.util=void 0;var a=s(e("./dataType.js")),o=s(e("./graph.js")),l=s(e("./parser.js")),u=s(e("./csl.js")),c=e("./register");Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in r&&r[e]===c[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return c[e]}}))});var m=e("./chain");Object.keys(m).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in r&&r[e]===m[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return m[e]}}))});var p=e("./type");Object.keys(p).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in r&&r[e]===p[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return p[e]}}))});var h=e("./data");Object.keys(h).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in r&&r[e]===h[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return h[e]}}))});r.util=Object.assign({},a,o,l,u)},{"./chain":23,"./csl.js":24,"./data":25,"./dataType.js":26,"./graph.js":27,"./parser.js":29,"./register":30,"./type":31}],29:[function(e,t,r){"use strict";function i(e,t,r){return t=s(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e){var t=n(e,"string");return"symbol"==typeof t?t:String(t)}function n(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.TypeParser=r.FormatParser=r.DataParser=void 0;var a=e("./type.js");class o{constructor(e){i(this,"validDataTypes",["String","Array","SimpleObject","ComplexObject","Primitive"]),this.data=e}validateDataType(){const e=this.data.dataType;if(e&&!this.validDataTypes.includes(e))throw new RangeError(`dataType was ${e}; expected one of ${this.validDataTypes}`)}validateParseType(){const e=this.data.predicate;if(e&&!(e instanceof RegExp||"function"==typeof e))throw new TypeError(`predicate was ${typeof e}; expected RegExp or function`)}validateTokenList(){const e=this.data.tokenList;if(e&&"object"!=typeof e)throw new TypeError(`tokenList was ${typeof e}; expected object or RegExp`)}validatePropertyConstraint(){const e=this.data.propertyConstraint;if(e&&"object"!=typeof e)throw new TypeError(`propertyConstraint was ${typeof e}; expected array or object`)}validateElementConstraint(){const e=this.data.elementConstraint;if(e&&"string"!=typeof e)throw new TypeError(`elementConstraint was ${typeof e}; expected string`)}validateExtends(){const e=this.data.extends;if(e&&"string"!=typeof e)throw new TypeError(`extends was ${typeof e}; expected string`)}validate(){if(null===this.data||"object"!=typeof this.data)throw new TypeError(`typeParser was ${typeof this.data}; expected object`);this.validateDataType(),this.validateParseType(),this.validateTokenList(),this.validatePropertyConstraint(),this.validateElementConstraint(),this.validateExtends()}parseTokenList(){let e=this.data.tokenList;if(!e)return[];e instanceof RegExp&&(e={token:e});const{token:t,split:r=/\s+/,trim:i=!0,every:s=!0}=e,n=e=>i?e.trim():e,a=s?"every":"some",o=e=>n(e).split(r)[a](e=>t.test(e));return[o]}parsePropertyConstraint(){const e=[].concat(this.data.propertyConstraint||[]);return e.map(({props:e,match:t,value:r})=>{
switch(e=[].concat(e),t){case"any":case"some":return t=>e.some(e=>e in t&&(!r||r(t[e])));case"none":return t=>!e.some(e=>e in t&&(!r||r(t[e])));case"every":default:return t=>e.every(e=>e in t&&(!r||r(t[e])))}})}parseElementConstraint(){const e=this.data.elementConstraint;return e?[t=>t.every(t=>(0,a.type)(t)===e)]:[]}parsePredicate(){return this.data.predicate instanceof RegExp?[this.data.predicate.test.bind(this.data.predicate)]:this.data.predicate?[this.data.predicate]:[]}getCombinedPredicate(){const e=[...this.parsePredicate(),...this.parseTokenList(),...this.parsePropertyConstraint(),...this.parseElementConstraint()];return 0===e.length?()=>!0:1===e.length?e[0]:t=>e.every(e=>e(t))}getDataType(){return this.data.dataType?this.data.dataType:this.data.predicate instanceof RegExp?"String":this.data.tokenList?"String":this.data.elementConstraint?"Array":"Primitive"}get dataType(){return this.getDataType()}get predicate(){return this.getCombinedPredicate()}get extends(){return this.data.extends}}r.TypeParser=o;class l{constructor(e,{async:t}={}){this.parser=e,this.async=t}validate(){const e=this.parser;if("function"!=typeof e)throw new TypeError(`parser was ${typeof e}; expected function`)}}r.DataParser=l;class u{constructor(e,t={}){this.format=e,t.parseType&&(this.typeParser=new o(t.parseType)),t.parse&&(this.dataParser=new l(t.parse,{async:!1})),t.parseAsync&&(this.asyncDataParser=new l(t.parseAsync,{async:!0}))}validateFormat(){const e=this.format;if(!a.typeMatcher.test(e))throw new TypeError(`format name was "${e}"; didn't match expected pattern`)}validate(){this.validateFormat(),this.typeParser&&this.typeParser.validate(),this.dataParser&&this.dataParser.validate(),this.asyncDataParser&&this.asyncDataParser.validate()}}r.FormatParser=u},{"./type.js":31}],30:[function(e,t,r){"use strict";function i(e,t){const r=new l.FormatParser(e,t);r.validate();const i=m[e]||(m[e]={});r.typeParser&&((0,u.addTypeParser)(e,r.typeParser),i.type=!0),r.dataParser&&((0,c.addDataParser)(e,r.dataParser),i.data=!0),r.asyncDataParser&&((0,c.addDataParser)(e,r.asyncDataParser),i.asyncData=!0),t.outputs&&(i.outputs=t.outputs)}function s(e){return m[e]}function n(e){const t=m[e];t&&(t.type&&(0,u.removeTypeParser)(e),t.data&&(0,c.removeDataParser)(e),t.asyncData&&(0,c.removeDataParser)(e,!0),delete m[e])}function a(e){return e in m}function o(){return Object.keys(m)}Object.defineProperty(r,"__esModule",{value:!0}),r.add=i,r.get=s,r.has=a,r.list=o,r.remove=n;var l=e("./parser.js"),u=e("./type.js"),c=e("./data.js");const m={}},{"./data.js":25,"./parser.js":29,"./type.js":31}],31:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){switch(t){case"Array":return 0===e.length||e.every(e=>"@csl/object"===a(e))?"@csl/list+object":"@else/list+object";case"SimpleObject":case"ComplexObject":return"@csl/object";default:return"@invalid"}}function n(e=[],t){for(const r of e)if(f[r].predicate(t))return n(f[r].extensions,t)||r}function a(e){const t=(0,h.dataTypeOf)(e);if("Array"===t&&0===e.length)return s(e,t);const r=n(d[t],e);return r||s(e,t)}function o(e,{dataType:t,predicate:r,extends:i}){let s=[];e in g&&(s=g[e],delete g[e],p.default.debug("[core]",`Subclasses "${s}" finally registered to parent type "${e}"`));const n={predicate:r,extensions:s};if(f[e]=n,i){const t=f[i];t?t.extensions.push(e):(g[i]||(g[i]=[]),g[i].push(e),p.default.debug("[core]",`Subclass "${e}" is waiting on parent type "${i}"`))}else{const r=d[t]||(d[t]=[]);r.push(e)}}function l(e){return Object.prototype.hasOwnProperty.call(f,e)}function u(e){delete f[e];const t=[...Object.keys(d).map(e=>d[e]),...Object.keys(f).map(e=>f[e].extensions).filter(e=>e.length>0)];t.forEach(t=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)})}function c(){return Object.keys(f)}function m(){const e=t=>({name:t,children:f[t].extensions.map(e)});return{name:"Type tree",children:Object.keys(d).map(t=>({name:t,children:d[t].map(e)}))}}Object.defineProperty(r,"__esModule",{value:!0}),r.addTypeParser=o,r.hasTypeParser=l,r.listTypeParser=c,r.removeTypeParser=u,r.treeTypeParser=m,r.type=a,r.typeMatcher=void 0;var p=i(e("../../logger.js")),h=e("./dataType.js");const f={},d={},g={};r.typeMatcher=/^(?:@(.+?))(?:\/(?:(.+?)\+)?(?:(.+)))?$/},{"../../logger.js":10,"./dataType.js":26}],32:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if("string"!=typeof e)throw new TypeError(`Invalid output format name, expected string, got ${typeof e}`);if("function"!=typeof t)throw new TypeError(`Invalid formatter, expected function, got ${typeof t}`)}function n(e,t){s(e,t),m.set(e,t)}function a(e){m.remove(e)}function o(e){return m.has(e)}function l(){return m.list()}function u(e,t,...r){if(!m.has(e))throw new Error(`Output format "${e}" unavailable`);return m.get(e)(t,...r)}Object.defineProperty(r,"__esModule",{value:!0}),r.add=n,r.format=u,r.has=o,r.list=l,r.register=void 0,r.remove=a;var c=i(e("../util/register.js"));const m=r.register=new c.default},{"../util/register.js":39}],33:[function(e,t,r){"use strict";function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){n(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function n(e,t,r){return t=a(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e){var t=o(e,"string");return"symbol"==typeof t?t:String(t)}function o(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function l(e){return Array.isArray(e)?e.map(l):(e=s({},e),"event"in e&&(e["event-title"]=e.event,delete e.event),"book"===e.type&&"version"in e&&(e.type="software"),e)}function u(e){return Array.isArray(e)?e.map(u):(e=s({},e),"event-title"in e&&(e.event=e["event-title"],delete e["event-title"]),"software"===e.type&&(e.type="book"),e)}Object.defineProperty(r,"__esModule",{value:!0}),r.downgradeCsl=u,r.upgradeCsl=l},{}],34:[function(e,t,r){"use strict";function i(e,t=new Set){if("object"!=typeof e||null===e||e.constructor!==Object&&e.constructor!==Array)return e;if(t.has(e))throw new TypeError("Recursively copying circular structure");let r;if(t.add(e),e.constructor===Array)r=e.map(e=>i(e,t));else{const s={};for(const r in e)s[r]=i(e[r],t);r=s}return t.delete(e),r}Object.defineProperty(r,"__esModule",{value:!0}),r.deepCopy=i,r.default=void 0;r.default=i},{}],35:[function(e,t,r){(function(t){(function(){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function s(e){const t={},r=e instanceof g||e instanceof m.default.Headers?Array.from(e):Object.entries(e);for(const[e,i]of r)t[e.toLowerCase()]=i.toString();return t}function n(e={}){const t={headers:{accept:"*/*"},method:"GET",checkContentType:e.checkContentType};if(y&&!b&&(t.headers["user-agent"]=y),e.body){t.method="POST";const r="string"!=typeof e.body;t.body=r?JSON.stringify(e.body):e.body,t.headers["content-type"]=r?"application/json":"text/plain"}return e.headers&&Object.assign(t.headers,s(e.headers)),t}function a(e,t){if(!e.accept||"*/*"===e.accept||!t["content-type"])return!0;const[r,i]=t["content-type"].split(";")[0].trim().split("/");return e.accept.split(",").map(e=>e.split(";")[0].trim().split("/")).some(([e,t])=>!(e!==r&&"*"!==e||t!==i&&"*"!==t))}function o(e,t){const{status:r,headers:i}=e;let n;if(r>=400?n=new Error(`Server responded with status code ${r}`):!0!==t.checkContentType||a(t.headers,s(i))||(n=new Error(`Server responded with content-type ${i.get("content-type")}`)),n)throw n.status=r,n.headers=i,n.body=e.body,n;return e}function l(e,t){const r=n(t);h.default.http("[core]",r.method,e,r);const i=o((0,m.default)(e,r),r);return i.text()}async function u(e,t){const r=n(t);return h.default.http("[core]",r.method,e,r),d(e,r).then(e=>o(e,r)).then(e=>e.text())}function c(e){y=e}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,r.fetchFile=l,r.fetchFileAsync=u,r.setUserAgent=c;var m=i(e("sync-fetch")),p=i(e("fetch-ponyfill")),h=i(e("../logger.js")),f=i(e("../../package.json"));const{fetch:d,Headers:g}=(0,p.default)(),b="undefined"!=typeof location&&"undefined"!=typeof document;let y=b?"":`Citation.js/${f.default.version} Node.js/${t.version}`;r.default=l}).call(this)}).call(this,e("_process"))},{"../../package.json":50,"../logger.js":10,_process:147,"fetch-ponyfill":47,"sync-fetch":49}],36:[function(e,t,r){"use strict";function i(e,t){let r;for(;void 0===r||e.includes(r);)r=`${t}${Math.random().toString().slice(2)}`;return r}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;r.default=i},{}],37:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Grammar=void 0;var i=e("./deepCopy.js");class s{constructor(e,t){this.rules=e,this.defaultState=t,this.mainRule=Object.keys(e)[0],this.log=[]}parse(e,t){return this.lexer=e,this.token=this.lexer.next(),this.state=(0,i.deepCopy)(this.defaultState),this.log=[],this.consumeRule(t||this.mainRule)}matchEndOfFile(){return!this.token}matchToken(e){return this.token&&e===this.token.type}consumeToken(e,t){const r=this.token;if(!e||r&&r.type===e)return this.token=this.lexer.next(),r;if(!t){const t=r?`"${r.type}"`:"EOF",i=new SyntaxError(this.lexer.formatError(r,`expected "${e}", got ${t}`));throw i.message+=` (${this.log.join("->")})`,i}}consumeRule(e){this.log.push(e);const t=this.rules[e].call(this);return this.log.pop(),t}}r.Grammar=s},{"./deepCopy.js":34}],38:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"Grammar",{enumerable:!0,get:function(){return c.Grammar}}),Object.defineProperty(r,"Register",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(r,"TokenStack",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(r,"Translator",{enumerable:!0,get:function(){return m.Translator}}),Object.defineProperty(r,"deepCopy",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(r,"downgradeCsl",{enumerable:!0,get:function(){return s.downgradeCsl}}),Object.defineProperty(r,"fetchFile",{enumerable:!0,get:function(){return a.fetchFile}}),Object.defineProperty(r,"fetchFileAsync",{enumerable:!0,get:function(){return a.fetchFileAsync}}),Object.defineProperty(r,"fetchId",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(r,"setUserAgent",{enumerable:!0,get:function(){return a.setUserAgent}}),Object.defineProperty(r,"upgradeCsl",{enumerable:!0,get:function(){return s.upgradeCsl}});var s=e("./csl.js"),n=i(e("./deepCopy.js")),a=e("./fetchFile.js"),o=i(e("./fetchId.js")),l=i(e("./stack.js")),u=i(e("./register.js")),c=e("./grammar.js"),m=e("./translator.js")},{"./csl.js":33,"./deepCopy.js":34,"./fetchFile.js":35,"./fetchId.js":36,"./grammar.js":37,"./register.js":39,"./stack.js":40,"./translator.js":41}],39:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;class i{constructor(e={}){this.data=e}set(e,t){return this.data[e]=t,this}add(...e){return this.set(...e)}delete(e){return delete this.data[e],this}remove(...e){return this.delete(...e)}get(e){return this.data[e]}has(e){return Object.prototype.hasOwnProperty.call(this.data,e)}list(){return Object.keys(this.data)}}r.default=i},{}],40:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;class i{constructor(e){this.stack=e,this.index=0,this.current=this.stack[this.index]}static getPatternText(e){return`"${e instanceof RegExp?e.source:e}"`}static getMatchCallback(e){if(Array.isArray(e)){const t=e.map(i.getMatchCallback);return e=>t.some(t=>t(e))}return e instanceof Function?e:e instanceof RegExp?t=>e.test(t):t=>e===t}tokensLeft(){return this.stack.length-this.index}matches(e){return i.getMatchCallback(e)(this.current,this.index,this.stack)}matchesSequence(e){const t=this.stack.slice(this.index,this.index+e.length).join("");return"string"==typeof e?t===e:e.every((e,r)=>i.getMatchCallback(e)(t[r]))}consumeToken(e=/^[\s\S]$/,{inverse:t=!1,spaced:r=!0}={}){r&&this.consumeWhitespace();const s=this.current,n=i.getMatchCallback(e)(s,this.index,this.stack);if(!n)throw new SyntaxError(`Unexpected token at index ${this.index}: Expected ${i.getPatternText(e)}, got "${s}"`);return this.current=this.stack[++this.index],r&&this.consumeWhitespace(),s}consumeWhitespace(e=/^\s$/,{optional:t=!0}={}){return this.consume(e,{min:+!t})}consumeN(e){if(this.tokensLeft()<e)throw new SyntaxError("Not enough tokens left");const t=this.index;for(;e--;)this.current=this.stack[++this.index];return this.stack.slice(t,this.index).join("")}consumeSequence(e){if(this.matchesSequence(e))return this.consumeN(e.length);throw new SyntaxError(`Expected "${e}", got "${this.consumeN(e.length)}"`)}consume(e=/^[\s\S]$/,{min:t=0,max:r=1/0,inverse:s=!1,tokenMap:n,tokenFilter:a}={}){const o=this.index,l=i.getMatchCallback(e);for(;l(this.current,this.index,this.stack)!==s;)this.current=this.stack[++this.index];let u=this.stack.slice(o,this.index);if(u.length<t)throw new SyntaxError(`Not enough ${i.getPatternText(e)}`);if(u.length>r)throw new SyntaxError(`Too many ${i.getPatternText(e)}`);return n&&(u=u.map(n)),a&&(u=u.filter(a)),u.join("")}}r.default=i},{}],41:[function(e,t,r){"use strict";function i(e){return function(t){return"boolean"==typeof e?e:Object.keys(e).every(r=>{const i=e[r];return!0===i?r in t:!1===i?!(r in t):"function"==typeof i?i(t[r]):Array.isArray(i)?i.includes(t[r]):t[r]===i})}}function s(e,t){let r,s,n,a;if("string"==typeof e)r=s=e;else{if(!e)return null;r=t?e.target:e.source,s=t?e.source:e.target,e.convert&&(n=t?e.convert.toSource:e.convert.toTarget),e.when&&(a=t?e.when.target:e.when.source,null!=a&&(a=i(a)))}return r=[].concat(r).filter(Boolean),s=[].concat(s).filter(Boolean),{inputProp:r,outputProp:s,convert:n,condition:a}}function n(e,t){return t=t===a.CONVERT_TO_SOURCE,e=e.map(e=>s(e,t)).filter(Boolean),function(t){const r={};for(const{inputProp:i,outputProp:s,convert:n,condition:a}of e){if(0===s.length)continue;if(a&&!a(t))continue;if(0!==i.length&&i.every(e=>!(e in t)))continue;let e=i.map(e=>t[e]);if(n)try{const r=n.apply(t,e);e=1===s.length?[r]:r}catch(e){throw new Error(`Failed to convert ${i} to ${s}`,{cause:e})}s.forEach((t,i)=>{const s=e[i];void 0!==s&&(r[t]=s)})}return r}}Object.defineProperty(r,"__esModule",{value:!0}),r.Translator=void 0;class a{constructor(e){this.convertToSource=n(e,a.CONVERT_TO_SOURCE),this.convertToTarget=n(e,a.CONVERT_TO_TARGET)}}r.Translator=a,a.CONVERT_TO_SOURCE=Symbol("convert to source"),a.CONVERT_TO_TARGET=Symbol("convert to target")},{}],42:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"parse",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(r,"format",{enumerable:!0,get:function(){return n.default}});var s=i(e("./input")),n=i(e("./output"))},{"./input":43,"./output":44}],43:[function(e,t,r){"use strict";function i(e,t){return a(e)||n(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function n(e,t){var r=[],i=!0,s=!1,n=void 0;try{for(var a,o=e[Symbol.iterator]();!(i=(a=o.next()).done)&&(r.push(a.value),!t||r.length!==t);i=!0);}catch(e){s=!0,n=e}finally{try{i||null==o.return||o.return()}finally{if(s)throw n}}return r}function a(e){if(Array.isArray(e))return e}Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.parse=r.types=r.scope=void 0;const o=e=>e.replace(/$|( )|(?!^)(?=[A-Z])/g,"\\.?$1"),l=e=>`(?:${e.join("|")})\\b`,u=(e,t)=>new RegExp(`(?:^| )(${e}$)`,t),c=["mr","mrs","ms","miss","dr","herr","monsieur","hr","frau","a v m","admiraal","admiral","air cdre","air commodore","air marshal","air vice marshal","alderman","alhaji","ambassador","baron","barones","brig","brig gen","brig general","brigadier","brigadier general","brother","canon","capt","captain","cardinal","cdr","chief","cik","cmdr","coach","col","col dr","colonel","commandant","commander","commissioner","commodore","comte","comtessa","congressman","conseiller","consul","conte","contessa","corporal","councillor","count","countess","crown prince","crown princess","dame","datin","dato","datuk","datuk seri","deacon","deaconess","dean","dhr","dipl ing","doctor","dott","dott sa","dr","dr ing","dra","drs","embajador","embajadora","en","encik","eng","eur ing","exma sra","exmo sr","f o","father","first lieutient","first officer","flt lieut","flying officer","fr","frau","fraulein","fru","gen","generaal","general","governor","graaf","gravin","group captain","grp capt","h e dr","h h","h m","h r h","hajah","haji","hajim","her highness","her majesty","herr","high chief","his highness","his holiness","his majesty","hon","hr","hra","ing","ir","jonkheer","judge","justice","khun ying","kolonel","lady","lcda","lic","lieut","lieut cdr","lieut col","lieut gen","lord","m","m l","m r","madame","mademoiselle","maj gen","major","master","mevrouw","miss","mlle","mme","monsieur","monsignor","mr","mrs","ms","mstr","nti","pastor","president","prince","princess","princesse","prinses","prof","prof dr","prof sir","professor","puan","puan sri","rabbi","rear admiral","rev","rev canon","rev dr","rev mother","reverend","rva","senator","sergeant","sheikh","sheikha","sig","sig na","sig ra","sir","sister","sqn ldr","sr","sr d","sra","srta","sultan","tan sri","tan sri dato","tengku","teuku","than puying","the hon dr","the hon justice","the hon miss","the hon mr","the hon mrs","the hon ms","the hon sir","the very rev","toh puan","tun","vice admiral","viscount","viscountess","wg cdr"],m=["I","II","III","IV","V","Senior","Junior","Jr","Sr","PhD","Ph\\.D","APR","RPh","PE","MD","MA","DMD","CME","BVM","CFRE","CLU","CPA","CSC","CSJ","DC","DD","DDS","DO","DVM","EdD","Esq","JD","LLD","OD","OSB","PC","Ret","RGS","RN","RNC","SHCJ","SJ","SNJM","SSMO","USA","USAF","USAFR","USAR","USCG","USMC","USMCR","USN","USNR"],p=["Vere","Von","Van","De","Del","Della","Di","Da","Pietro","Vanden","Du","St.","St","La","Lo","Ter","O","O'","Mac","Fitz"],h=l(c.map(o)),f=l(m.map(o)),d=l(p),g=new RegExp(`^((?:${h} )*)(.*)$`,"i"),b=u(`(?:${f}, )*(?:${f})`,"i"),y=u(`${/(?:[A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1C90-\u1CBA\u1CBD-\u1CBF\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E\u213F\u2145\u2160-\u216F\u2183\u24B6-\u24CF\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AE\uA7B0-\uA7B4\uA7B6\uA7B8\uFF21-\uFF3A]|\uD801[\uDC00-\uDC27\uDCB0-\uDCD3]|\uD803[\uDC80-\uDCB2]|\uD806[\uDCA0-\uDCBF]|\uD81B[\uDE40-\uDE5F]|\uD835[\uDC00-\uDC19\uDC34-\uDC4D\uDC68-\uDC81\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB5\uDCD0-\uDCE9\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD38\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD6C-\uDD85\uDDA0-\uDDB9\uDDD4-\uDDED\uDE08-\uDE21\uDE3C-\uDE55\uDE70-\uDE89\uDEA8-\uDEC0\uDEE2-\uDEFA\uDF1C-\uDF34\uDF56-\uDF6E\uDF90-\uDFA8\uDFCA]|\uD83A[\uDD00-\uDD21]|\uD83C[\uDD30-\uDD49\uDD50-\uDD69\uDD70-\uDD89])/.source}.*`),v=u(`(?:${/(?:[a-z\xAA\xB5\xBA\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02B8\u02C0\u02C1\u02E0-\u02E4\u0345\u0371\u0373\u0377\u037A-\u037D\u0390\u03AC-\u03CE\u03D0\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0560-\u0588\u10D0-\u10FA\u10FD-\u10FF\u13F8-\u13FD\u1C80-\u1C88\u1D00-\u1DBF\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6\u1FC7\u1FD0-\u1FD3\u1FD6\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6\u1FF7\u2071\u207F\u2090-\u209C\u210A\u210E\u210F\u2113\u212F\u2134\u2139\u213C\u213D\u2146-\u2149\u214E\u2170-\u217F\u2184\u24D0-\u24E9\u2C30-\u2C5E\u2C61\u2C65\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73\u2C74\u2C76-\u2C7D\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B-\uA69D\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7AF\uA7B5\uA7B7\uA7B9\uA7F8-\uA7FA\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A]|\uD801[\uDC28-\uDC4F\uDCD8-\uDCFB]|\uD803[\uDCC0-\uDCF2]|\uD806[\uDCC0-\uDCDF]|\uD81B[\uDE60-\uDE7F]|\uD835[\uDC1A-\uDC33\uDC4E-\uDC54\uDC56-\uDC67\uDC82-\uDC9B\uDCB6-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDCEA-\uDD03\uDD1E-\uDD37\uDD52-\uDD6B\uDD86-\uDD9F\uDDBA-\uDDD3\uDDEE-\uDE07\uDE22-\uDE3B\uDE56-\uDE6F\uDE8A-\uDEA5\uDEC2-\uDEDA\uDEDC-\uDEE1\uDEFC-\uDF14\uDF16-\uDF1B\uDF36-\uDF4E\uDF50-\uDF55\uDF70-\uDF88\uDF8A-\uDF8F\uDFAA-\uDFC2\uDFC4-\uDFC9\uDFCB]|\uD83A[\uDD22-\uDD43])/.source}.*|${d}.*|\\S*)`),_=function(e=""){"string"!=typeof e&&(e+="");let t="",r="",s="";if(/[^.], /.test(e)){const i=e.split(", ");s=i.shift();const n=RegExp(f).exec(i.join(", "));t=i.splice(n&&0!==n.index?0:-1,1)[0],r=i.join(", ")}else{const i=e.split(b,2),n=i.shift().split(v,2);t=n[0],s=n[1],r=i.pop()}const n=t.match(g),a=i(n,3),o=a[1],l=a[2],u=r,c=s.split(y,2).reverse(),m=i(c,2),p=m[0],h=m[1];if(!l&&p)return p.includes(" ")?{literal:p}:{family:p};if(p){const e={"dropping-particle":o,given:l,suffix:u,"non-dropping-particle":h,family:p};return Object.keys(e).forEach(t=>{e[t]||delete e[t]}),e}return{literal:e}};r.default=r.parse=_;const x="@name";r.scope=x;const E="@name";r.types=E},{}],44:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;const i=["dropping-particle","given"],s=["suffix"],n=["non-dropping-particle","family"],a=function(e,t=!1){const r=t=>t.map(t=>e[t]||"").filter(Boolean).join(" ");if(e.literal)return e.literal;if(t){const e=r(s)?`, ${r(s)}`:"",t=r(i)?`, ${r(i)}`:"";return r(n)+e+t}return`${r([...i,...s,...n])}`};var o=a;r.default=o},{}],45:[function(e,t,r){"use strict";function i(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var i=r===t?0:4-r%4;return[r,i]}function s(e){var t=i(e),r=t[0],s=t[1];return 3*(r+s)/4-s}function n(e,t,r){return 3*(t+r)/4-r}function a(e){var t,r,s=i(e),a=s[0],o=s[1],l=new p(n(e,a,o)),u=0,c=o>0?a-4:a;for(r=0;r<c;r+=4)t=m[e.charCodeAt(r)]<<18|m[e.charCodeAt(r+1)]<<12|m[e.charCodeAt(r+2)]<<6|m[e.charCodeAt(r+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;return 2===o&&(t=m[e.charCodeAt(r)]<<2|m[e.charCodeAt(r+1)]>>4,l[u++]=255&t),1===o&&(t=m[e.charCodeAt(r)]<<10|m[e.charCodeAt(r+1)]<<4|m[e.charCodeAt(r+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t),l}function o(e){return c[e>>18&63]+c[e>>12&63]+c[e>>6&63]+c[63&e]}function l(e,t,r){for(var i,s=[],n=t;n<r;n+=3)i=(e[n]<<16&16711680)+(e[n+1]<<8&65280)+(255&e[n+2]),s.push(o(i));return s.join("")}function u(e){for(var t,r=e.length,i=r%3,s=[],n=16383,a=0,o=r-i;a<o;a+=n)s.push(l(e,a,a+n>o?o:a+n));return 1===i?(t=e[r-1],s.push(c[t>>2]+c[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],s.push(c[t>>10]+c[t>>4&63]+c[t<<2&63]+"=")),s.join("")}r.byteLength=s,r.toByteArray=a,r.fromByteArray=u;for(var c=[],m=[],p="undefined"!=typeof Uint8Array?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,d=h.length;f<d;++f)c[f]=h[f],m[h.charCodeAt(f)]=f;m["-".charCodeAt(0)]=62,m["_".charCodeAt(0)]=63},{}],46:[function(e,t,r){(function(t){(function(){"use strict";function t(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}function i(e){if(e>J)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,s.prototype),t}function s(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return l(e)}return n(e,t,r)}function n(e,t,r){if("string"==typeof e)return u(e,t);if(ArrayBuffer.isView(e))return m(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(H(e,ArrayBuffer)||e&&H(e.buffer,ArrayBuffer))return p(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(H(e,SharedArrayBuffer)||e&&H(e.buffer,SharedArrayBuffer)))return p(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var i=e.valueOf&&e.valueOf();if(null!=i&&i!==e)return s.from(i,t,r);var n=h(e);if(n)return n;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return s.from(e[Symbol.toPrimitive]("string"),t,r)
;throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function a(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function o(e,t,r){return a(e),e<=0?i(e):void 0!==t?"string"==typeof r?i(e).fill(t,r):i(e).fill(t):i(e)}function l(e){return a(e),i(e<0?0:0|f(e))}function u(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!s.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|g(e,t),n=i(r),a=n.write(e,t);return a!==r&&(n=n.slice(0,a)),n}function c(e){for(var t=e.length<0?0:0|f(e.length),r=i(t),s=0;s<t;s+=1)r[s]=255&e[s];return r}function m(e){if(H(e,Uint8Array)){var t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return c(e)}function p(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var i;return i=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(i,s.prototype),i}function h(e){if(s.isBuffer(e)){var t=0|f(e.length),r=i(t);return 0===r.length?r:(e.copy(r,0,0,t),r)}return void 0!==e.length?"number"!=typeof e.length||V(e.length)?i(0):c(e):"Buffer"===e.type&&Array.isArray(e.data)?c(e.data):void 0}function f(e){if(e>=J)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+J.toString(16)+" bytes");return 0|e}function d(e){return+e!=e&&(e=0),s.alloc(+e)}function g(e,t){if(s.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||H(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return U(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return z(e).length;default:if(n)return i?-1:U(e).length;t=(""+t).toLowerCase(),n=!0}}function b(e,t,r){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if(r>>>=0,t>>>=0,r<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,r);case"utf8":case"utf-8":return S(this,t,r);case"ascii":return k(this,t,r);case"latin1":case"binary":return N(this,t,r);case"base64":return O(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,r);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function y(e,t,r){var i=e[t];e[t]=e[r],e[r]=i}function v(e,t,r,i,n){if(0===e.length)return-1;if("string"==typeof r?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,V(r)&&(r=n?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(n)return-1;r=e.length-1}else if(r<0){if(!n)return-1;r=0}if("string"==typeof t&&(t=s.from(t,i)),s.isBuffer(t))return 0===t.length?-1:_(e,t,r,i,n);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):_(e,[t],r,i,n);throw new TypeError("val must be string, number or Buffer")}function _(e,t,r,i,s){function n(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}var a,o=1,l=e.length,u=t.length;if(void 0!==i&&(i=String(i).toLowerCase(),"ucs2"===i||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;o=2,l/=2,u/=2,r/=2}if(s){var c=-1;for(a=r;a<l;a++)if(n(e,a)===n(t,-1===c?0:a-c)){if(-1===c&&(c=a),a-c+1===u)return c*o}else-1!==c&&(a-=a-c),c=-1}else for(r+u>l&&(r=l-u),a=r;a>=0;a--){for(var m=!0,p=0;p<u;p++)if(n(e,a+p)!==n(t,p)){m=!1;break}if(m)return a}return-1}function x(e,t,r,i){r=Number(r)||0;var s=e.length-r;i?(i=Number(i),i>s&&(i=s)):i=s;var n=t.length;i>n/2&&(i=n/2);for(var a=0;a<i;++a){var o=parseInt(t.substr(2*a,2),16);if(V(o))return a;e[r+a]=o}return a}function E(e,t,r,i){return q(U(t,e.length-r),e,r,i)}function A(e,t,r,i){return q(F(t),e,r,i)}function w(e,t,r,i){return q(z(t),e,r,i)}function T(e,t,r,i){return q(G(t,e.length-r),e,r,i)}function O(e,t,r){return 0===t&&r===e.length?Y.fromByteArray(e):Y.fromByteArray(e.slice(t,r))}function S(e,t,r){r=Math.min(e.length,r);for(var i=[],s=t;s<r;){var n,a,o,l,u=e[s],c=null,m=u>239?4:u>223?3:u>191?2:1;if(s+m<=r)switch(m){case 1:u<128&&(c=u);break;case 2:n=e[s+1],128==(192&n)&&(l=(31&u)<<6|63&n,l>127&&(c=l));break;case 3:n=e[s+1],a=e[s+2],128==(192&n)&&128==(192&a)&&(l=(15&u)<<12|(63&n)<<6|63&a,l>2047&&(l<55296||l>57343)&&(c=l));break;case 4:n=e[s+1],a=e[s+2],o=e[s+3],128==(192&n)&&128==(192&a)&&128==(192&o)&&(l=(15&u)<<18|(63&n)<<12|(63&a)<<6|63&o,l>65535&&l<1114112&&(c=l))}null===c?(c=65533,m=1):c>65535&&(c-=65536,i.push(c>>>10&1023|55296),c=56320|1023&c),i.push(c),s+=m}return C(i)}function C(e){var t=e.length;if(t<=X)return String.fromCharCode.apply(String,e);for(var r="",i=0;i<t;)r+=String.fromCharCode.apply(String,e.slice(i,i+=X));return r}function k(e,t,r){var i="";r=Math.min(e.length,r);for(var s=t;s<r;++s)i+=String.fromCharCode(127&e[s]);return i}function N(e,t,r){var i="";r=Math.min(e.length,r);for(var s=t;s<r;++s)i+=String.fromCharCode(e[s]);return i}function I(e,t,r){var i=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>i)&&(r=i);for(var s="",n=t;n<r;++n)s+=Z[e[n]];return s}function P(e,t,r){for(var i=e.slice(t,r),s="",n=0;n<i.length-1;n+=2)s+=String.fromCharCode(i[n]+256*i[n+1]);return s}function j(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,r,i,n,a){if(!s.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>n||t<a)throw new RangeError('"value" argument is out of bounds');if(r+i>e.length)throw new RangeError("Index out of range")}function D(e,t,r,i,s,n){if(r+i>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function B(e,t,r,i,s){return t=+t,r>>>=0,s||D(e,t,r,4,3.4028234663852886e38,-3.4028234663852886e38),$.write(e,t,r,i,23,4),r+4}function M(e,t,r,i,s){return t=+t,r>>>=0,s||D(e,t,r,8,1.7976931348623157e308,-1.7976931348623157e308),$.write(e,t,r,i,52,8),r+8}function L(e){if(e=e.split("=")[0],e=e.trim().replace(K,""),e.length<2)return"";for(;e.length%4!=0;)e+="=";return e}function U(e,t){var r;t=t||1/0;for(var i=e.length,s=null,n=[],a=0;a<i;++a){if(r=e.charCodeAt(a),r>55295&&r<57344){if(!s){if(r>56319){(t-=3)>-1&&n.push(239,191,189);continue}if(a+1===i){(t-=3)>-1&&n.push(239,191,189);continue}s=r;continue}if(r<56320){(t-=3)>-1&&n.push(239,191,189),s=r;continue}r=65536+(s-55296<<10|r-56320)}else s&&(t-=3)>-1&&n.push(239,191,189);if(s=null,r<128){if((t-=1)<0)break;n.push(r)}else if(r<2048){if((t-=2)<0)break;n.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;n.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;n.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return n}function F(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function G(e,t){for(var r,i,s,n=[],a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),i=r>>8,s=r%256,n.push(s),n.push(i);return n}function z(e){return Y.toByteArray(L(e))}function q(e,t,r,i){for(var s=0;s<i&&!(s+r>=t.length||s>=e.length);++s)t[s+r]=e[s];return s}function H(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function V(e){return e!=e}var Y=e("base64-js"),$=e("ieee754"),W="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=s,r.SlowBuffer=d,r.INSPECT_MAX_BYTES=50;var J=2147483647;r.kMaxLength=J,s.TYPED_ARRAY_SUPPORT=t(),s.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),s.poolSize=8192,s.from=function(e,t,r){return n(e,t,r)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(e,t,r){return o(e,t,r)},s.allocUnsafe=function(e){return l(e)},s.allocUnsafeSlow=function(e){return l(e)},s.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==s.prototype},s.compare=function(e,t){if(H(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),H(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,i=t.length,n=0,a=Math.min(r,i);n<a;++n)if(e[n]!==t[n]){r=e[n],i=t[n];break}return r<i?-1:i<r?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var i=s.allocUnsafe(t),n=0;for(r=0;r<e.length;++r){var a=e[r];if(H(a,Uint8Array))n+a.length>i.length?s.from(a).copy(i,n):Uint8Array.prototype.set.call(i,a,n);else{if(!s.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,n)}n+=a.length}return i},s.byteLength=g,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},s.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},s.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},s.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?S(this,0,e):b.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){var e="",t=r.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},W&&(s.prototype[W]=s.prototype.inspect),s.prototype.compare=function(e,t,r,i,n){if(H(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===i&&(i=0),void 0===n&&(n=this.length),t<0||r>e.length||i<0||n>this.length)throw new RangeError("out of range index");if(i>=n&&t>=r)return 0;if(i>=n)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,i>>>=0,n>>>=0,this===e)return 0;for(var a=n-i,o=r-t,l=Math.min(a,o),u=this.slice(i,n),c=e.slice(t,r),m=0;m<l;++m)if(u[m]!==c[m]){a=u[m],o=c[m];break}return a<o?-1:o<a?1:0},s.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},s.prototype.indexOf=function(e,t,r){return v(this,e,t,r,!0)},s.prototype.lastIndexOf=function(e,t,r){return v(this,e,t,r,!1)},s.prototype.write=function(e,t,r,i){if(void 0===t)i="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)i=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===i&&(i="utf8")):(i=r,r=void 0)}var s=this.length-t;if((void 0===r||r>s)&&(r=s),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var n=!1;;)switch(i){case"hex":return x(this,e,t,r);case"utf8":case"utf-8":return E(this,e,t,r);case"ascii":case"latin1":case"binary":return A(this,e,t,r);case"base64":return w(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,r);default:if(n)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),n=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var X=4096;s.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),t<e&&(t=e);var i=this.subarray(e,t);return Object.setPrototypeOf(i,s.prototype),i},s.prototype.readUintLE=s.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||j(e,t,this.length);for(var i=this[e],s=1,n=0;++n<t&&(s*=256);)i+=this[e+n]*s;return i},s.prototype.readUintBE=s.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||j(e,t,this.length);for(var i=this[e+--t],s=1;t>0&&(s*=256);)i+=this[e+--t]*s;return i},s.prototype.readUint8=s.prototype.readUInt8=function(e,t){return e>>>=0,t||j(e,1,this.length),this[e]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(e,t){return e>>>=0,t||j(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(e,t){return e>>>=0,t||j(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(e,t){return e>>>=0,t||j(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(e,t){return e>>>=0,t||j(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||j(e,t,this.length);for(var i=this[e],s=1,n=0;++n<t&&(s*=256);)i+=this[e+n]*s;return s*=128,i>=s&&(i-=Math.pow(2,8*t)),i},s.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||j(e,t,this.length);for(var i=t,s=1,n=this[e+--i];i>0&&(s*=256);)n+=this[e+--i]*s;return s*=128,n>=s&&(n-=Math.pow(2,8*t)),n},s.prototype.readInt8=function(e,t){return e>>>=0,t||j(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},s.prototype.readInt16LE=function(e,t){e>>>=0,t||j(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt16BE=function(e,t){e>>>=0,t||j(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt32LE=function(e,t){return e>>>=0,t||j(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return e>>>=0,t||j(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readFloatLE=function(e,t){return e>>>=0,t||j(e,4,this.length),$.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return e>>>=0,t||j(e,4,this.length),$.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return e>>>=0,t||j(e,8,this.length),$.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return e>>>=0,t||j(e,8,this.length),$.read(this,e,!1,52,8)},s.prototype.writeUintLE=s.prototype.writeUIntLE=function(e,t,r,i){if(e=+e,t>>>=0,r>>>=0,!i){var s=Math.pow(2,8*r)-1;R(this,e,t,r,s,0)}var n=1,a=0;for(this[t]=255&e;++a<r&&(n*=256);)this[t+a]=e/n&255;return t+r},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(e,t,r,i){if(e=+e,t>>>=0,r>>>=0,!i){var s=Math.pow(2,8*r)-1;R(this,e,t,r,s,0)}var n=r-1,a=1;for(this[t+n]=255&e;--n>=0&&(a*=256);)this[t+n]=e/a&255;return t+r},s.prototype.writeUint8=s.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,1,255,0),this[t]=255&e,t+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeIntLE=function(e,t,r,i){if(e=+e,t>>>=0,!i){var s=Math.pow(2,8*r-1);R(this,e,t,r,s-1,-s)}var n=0,a=1,o=0;for(this[t]=255&e;++n<r&&(a*=256);)e<0&&0===o&&0!==this[t+n-1]&&(o=1),this[t+n]=(e/a>>0)-o&255;return t+r},s.prototype.writeIntBE=function(e,t,r,i){if(e=+e,t>>>=0,!i){var s=Math.pow(2,8*r-1);R(this,e,t,r,s-1,-s)}var n=r-1,a=1,o=0;for(this[t+n]=255&e;--n>=0&&(a*=256);)e<0&&0===o&&0!==this[t+n+1]&&(o=1),this[t+n]=(e/a>>0)-o&255;return t+r},s.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},s.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeFloatLE=function(e,t,r){return B(this,e,t,!0,r)},s.prototype.writeFloatBE=function(e,t,r){return B(this,e,t,!1,r)},s.prototype.writeDoubleLE=function(e,t,r){return M(this,e,t,!0,r)},s.prototype.writeDoubleBE=function(e,t,r){return M(this,e,t,!1,r)},s.prototype.copy=function(e,t,r,i){if(!s.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<r&&(i=r),i===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-r&&(i=e.length-t+r);var n=i-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,i):Uint8Array.prototype.set.call(e,this.subarray(r,i),t),n},s.prototype.fill=function(e,t,r,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!s.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(1===e.length){var n=e.charCodeAt(0);("utf8"===i&&n<128||"latin1"===i)&&(e=n)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var a;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(a=t;a<r;++a)this[a]=e;else{var o=s.isBuffer(e)?e:s.from(e,i),l=o.length;if(0===l)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<r-t;++a)this[a+t]=o[a%l]}return this};var K=/[^+/0-9A-Za-z-_]/g,Z=function(){for(var e="0123456789abcdef",t=new Array(256),r=0;r<16;++r)for(var i=16*r,s=0;s<16;++s)t[i+s]=e[r]+e[s];return t}()}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":45,buffer:145,ieee754:48}],47:[function(e,t,r){(function(e){(function(){(function(e){"use strict";function i(i){var s=i&&i.Promise||e.Promise,n=i&&i.XMLHttpRequest||e.XMLHttpRequest;return function(){var i=Object.create(e,{fetch:{value:void 0,writable:!0}});return function(e,i){"object"==typeof r&&void 0!==t?i(r):"function"==typeof define&&define.amd?define(["exports"],i):i(e.WHATWGFetch={})}(this,function(e){function t(e){return e&&DataView.prototype.isPrototypeOf(e)}function r(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function a(e){return"string"!=typeof e&&(e=String(e)),e}function o(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return A.iterable&&(t[Symbol.iterator]=function(){return t}),t}function l(e){this.map={},e instanceof l?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function u(e){if(e.bodyUsed)return s.reject(new TypeError("Already read"));e.bodyUsed=!0}function c(e){return new s(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function m(e){var t=new FileReader,r=c(t);return t.readAsArrayBuffer(e),r}function p(e){var t=new FileReader,r=c(t);return t.readAsText(e),r}function h(e){for(var t=new Uint8Array(e),r=new Array(t.length),i=0;i<t.length;i++)r[i]=String.fromCharCode(t[i]);return r.join("")}function f(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function d(){return this.bodyUsed=!1,this._initBody=function(e){this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:A.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:A.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:A.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():A.arrayBuffer&&A.blob&&t(e)?(this._bodyArrayBuffer=f(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):A.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||T(e))?this._bodyArrayBuffer=f(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):A.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},A.blob&&(this.blob=function(){var e=u(this);if(e)return e;if(this._bodyBlob)return s.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return s.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return s.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=u(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?s.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):s.resolve(this._bodyArrayBuffer))}return this.blob().then(m)}),this.text=function(){var e=u(this);if(e)return e;if(this._bodyBlob)return p(this._bodyBlob);if(this._bodyArrayBuffer)return s.resolve(h(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return s.resolve(this._bodyText)},A.formData&&(this.formData=function(){return this.text().then(y)}),this.json=function(){return this.text().then(JSON.parse)},this}function g(e){var t=e.toUpperCase();return O.indexOf(t)>-1?t:e}function b(e,t){if(!(this instanceof b))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t=t||{};var r=t.body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new l(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new l(t.headers)),this.method=g(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(r),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var i=/([?&])_=[^&]*/;if(i.test(this.url))this.url=this.url.replace(i,"$1_="+(new Date).getTime());else{var s=/\?/;this.url+=(s.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function y(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),i=r.shift().replace(/\+/g," "),s=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(s))}}),t}function v(e){var t=new l,r=e.replace(/\r?\n[\t ]+/g," ");return r.split("\r").map(function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e}).forEach(function(e){var r=e.split(":"),i=r.shift().trim();if(i){var s=r.join(":").trim();t.append(i,s)}}),t}function _(e,t){if(!(this instanceof _))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"",this.headers=new l(t.headers),this.url=t.url||"",this._initBody(e)}function x(t,r){return new s(function(i,s){function o(){m.abort()}function u(e){try{return""===e&&E.location.href?E.location.href:e}catch(t){return e}}var c=new b(t,r);if(c.signal&&c.signal.aborted)return s(new e.DOMException("Aborted","AbortError"));var m=new n;m.onload=function(){var e={status:m.status,statusText:m.statusText,headers:v(m.getAllResponseHeaders()||"")};e.url="responseURL"in m?m.responseURL:e.headers.get("X-Request-URL");var t="response"in m?m.response:m.responseText;setTimeout(function(){i(new _(t,e))},0)},m.onerror=function(){setTimeout(function(){s(new TypeError("Network request failed"))},0)},m.ontimeout=function(){setTimeout(function(){s(new TypeError("Network request failed"))},0)},m.onabort=function(){setTimeout(function(){s(new e.DOMException("Aborted","AbortError"))},0)},m.open(c.method,u(c.url),!0),"include"===c.credentials?m.withCredentials=!0:"omit"===c.credentials&&(m.withCredentials=!1),"responseType"in m&&(A.blob?m.responseType="blob":A.arrayBuffer&&c.headers.get("Content-Type")&&-1!==c.headers.get("Content-Type").indexOf("application/octet-stream")&&(m.responseType="arraybuffer")),!r||"object"!=typeof r.headers||r.headers instanceof l?c.headers.forEach(function(e,t){m.setRequestHeader(t,e)}):Object.getOwnPropertyNames(r.headers).forEach(function(e){m.setRequestHeader(e,a(r.headers[e]))}),c.signal&&(c.signal.addEventListener("abort",o),m.onreadystatechange=function(){4===m.readyState&&c.signal.removeEventListener("abort",o)}),m.send(void 0===c._bodyInit?null:c._bodyInit)})}var E=void 0!==i&&i||"undefined"!=typeof self&&self||void 0!==E&&E,A={searchParams:"URLSearchParams"in E,iterable:"Symbol"in E&&"iterator"in Symbol,blob:"FileReader"in E&&"Blob"in E&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in E,arrayBuffer:"ArrayBuffer"in E};if(A.arrayBuffer)var w=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],T=ArrayBuffer.isView||function(e){return e&&w.indexOf(Object.prototype.toString.call(e))>-1};l.prototype.append=function(e,t){e=r(e),t=a(t);var i=this.map[e];this.map[e]=i?i+", "+t:t},l.prototype.delete=function(e){delete this.map[r(e)]},l.prototype.get=function(e){return e=r(e),this.has(e)?this.map[e]:null},l.prototype.has=function(e){return this.map.hasOwnProperty(r(e))},l.prototype.set=function(e,t){this.map[r(e)]=a(t)},l.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},l.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),o(e)},l.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),o(e)},l.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),o(e)},A.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var O=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},d.call(b.prototype),d.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},_.error=function(){var e=new _(null,{status:0,statusText:""});return e.type="error",e};var S=[301,302,303,307,308];_.redirect=function(e,t){if(-1===S.indexOf(t))throw new RangeError("Invalid status code");return new _(null,{status:t,headers:{location:e}})},e.DOMException=E.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}x.polyfill=!0,E.fetch||(E.fetch=x,E.Headers=l,E.Request=b,E.Response=_),e.Headers=l,e.Request=b,e.Response=_,e.fetch=x,Object.defineProperty(e,"__esModule",{value:!0})}),{fetch:i.fetch,Headers:i.Headers,Request:i.Request,Response:i.Response,DOMException:i.DOMException}}()}"function"==typeof define&&define.amd?define(function(){return i}):"object"==typeof r?t.exports=i:e.fetchPonyfill=i})("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:void 0!==e?e:this)}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],48:[function(e,t,r){r.read=function(e,t,r,i,s){var n,a,o=8*s-i-1,l=(1<<o)-1,u=l>>1,c=-7,m=r?s-1:0,p=r?-1:1,h=e[t+m];for(m+=p,n=h&(1<<-c)-1,h>>=-c,c+=o;c>0;n=256*n+e[t+m],m+=p,c-=8);for(a=n&(1<<-c)-1,n>>=-c,c+=i;c>0;a=256*a+e[t+m],m+=p,c-=8);if(0===n)n=1-u;else{if(n===l)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,i),n-=u}return(h?-1:1)*a*Math.pow(2,n-i)},r.write=function(e,t,r,i,s,n){var a,o,l,u=8*n-s-1,c=(1<<u)-1,m=c>>1,p=23===s?Math.pow(2,-24)-Math.pow(2,-77):0,h=i?0:n-1,f=i?1:-1,d=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),t+=a+m>=1?p/l:p*Math.pow(2,1-m),t*l>=2&&(a++,l/=2),a+m>=c?(o=0,a=c):a+m>=1?(o=(t*l-1)*Math.pow(2,s),a+=m):(o=t*Math.pow(2,m-1)*Math.pow(2,s),a=0));s>=8;e[r+h]=255&o,h+=f,o/=256,s-=8);for(a=a<<s|o,u+=s;u>0;e[r+h]=255&a,h+=f,a/=256,u-=8);e[r+h-f]|=128*d}},{}],49:[function(e,t,r){function i(...e){const t=new i.Request(...e),r=new XMLHttpRequest;r.withCredentials="include"===t.credentials,r.timeout=t[o].timeout,r.open(t.method,t.url,!1);let s=!1;try{r.responseType="arraybuffer"}catch(e){r.overrideMimeType("text/plain; charset=x-user-defined"),s=!0}for(const e of t.headers)r.setRequestHeader(...e);r.send(t.body||null);let n=r.getAllResponseHeaders();n=n&&n.split("\r\n").filter(Boolean).map(e=>e.split(": ",2));let l=r.response;if(s){const e=a.alloc(l.length);for(let t=0;t<l.length;t++)e[t]=255&l.charCodeAt(t);l=e}const u=new i.Response(l,{headers:n,status:r.status,statusText:r.statusText});return u[o].url=r.responseURL,u[o].redirected=r.responseURL!==t.url,u}function s(e){if(e.bodyUsed)throw new TypeError(`body used already for: ${e.url}`)}function n(e){return s(e),e[o].bodyUsed=!0,e[o].body||a.alloc(0)}const{Buffer:a}=e("buffer/"),o=Symbol("SyncFetch Internals"),l=["mode","cache","redirect","referrer","integrity"],u={100:"Continue",101:"Switching Protocols",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",300:"Multiple Choices",301:"Moved Permanently",302:"Found",
303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",426:"Upgrade Required",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported"};class c{constructor(e,t={}){for(const e of l)if(e in t)throw new TypeError(`option ${e} not supported`);if("same-origin"===t.credentials)throw new TypeError("option credentials with value 'same-origin' not supported");if(this[o]={method:t.method||"GET",headers:new i.Headers(t.headers),body:t.body?a.from(t.body):null,credentials:t.credentials||"omit",timeout:t.timeout||0},"string"==typeof e)this[o].url=e;else{if(!(e instanceof c))throw new TypeError("Request input should be a URL string or a Request object");this[o].url=e.url,t.method||(this[o].method=e.method),t.headers||(this[o].headers=e.headers),t.body||(this[o].body=e[o].body),t.credentials||(this[o].credentials=e.credentials)}}get cache(){return"default"}get credentials(){return this[o].credentials}get destination(){return""}get headers(){return this[o].headers}get integrity(){return""}get method(){return this[o].method}get mode(){return"cors"}get priority(){return"auto"}get redirect(){return"follow"}get referrer(){return"about:client"}get referrerPolicy(){return""}get url(){return this[o].url}clone(){return s(this),new c(this.url,this[o])}}class m{constructor(e,t={}){this[o]={body:e?a.from(e):null,bodyUsed:!1,headers:new i.Headers(t.headers),status:t.status,statusText:t.statusText}}get headers(){return this[o].headers}get ok(){const e=this[o].status;return e>=200&&e<300}get redirected(){return this[o].redirected}get status(){return this[o].status}get statusText(){return this[o].statusText}get url(){return this[o].url}clone(){return this.redirect(this[o].url,this[o].status)}redirect(e,t){s(this);const r=new m(this[o].body,{headers:this[o].headers,status:t||this[o].status,statusText:u[t]||this[o].statusText});return r[o].url=e||this[o].url,r[o].redirected=this[o].redirected,r}}class p{constructor(e){this[o]={body:a.from(e),bodyUsed:!1}}get bodyUsed(){return this[o].bodyUsed}static mixin(e){for(const t of Object.getOwnPropertyNames(p.prototype)){if("constructor"===t)continue;const r=Object.getOwnPropertyDescriptor(p.prototype,t);Object.defineProperty(e,t,{...r,enumerable:!0})}}arrayBuffer(){const e=n(this);return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}blob(){const e=this.headers&&this.headers.get("content-type");return new Blob([n(this)],e&&{type:e})}text(){return n(this).toString()}json(){try{return JSON.parse(n(this).toString())}catch(e){throw new TypeError(`invalid json response body at ${this.url} reason: ${e.message}`,"invalid-json")}}buffer(){return n(this).clone()}}p.mixin(c.prototype),p.mixin(m.prototype);class h{constructor(e){if(e instanceof i.Headers)this[o]={...e[o]};else if(this[o]={},Array.isArray(e))for(const[t,r]of e)this.append(t,r);else if("object"==typeof e)for(const t in e)this.set(t,e[t])}append(e,t){e=e.toLowerCase(),this[o][e]||(this[o][e]=[]),this[o][e].push(t)}delete(e){delete this[o][e.toLowerCase()]}set(e,t){this[o][e.toLowerCase()]=[t]}entries(){const e=[];for(const t in this[o])for(const r of this[o][t])e.push([t,r]);return e}get(e){return e=e.toLowerCase(),e in this[o]?this[o][e].join(", "):null}keys(){return Object.keys(this[o])}has(e){return e.toLowerCase()in this[o]}values(){const e=[];for(const t in this[o])for(const r of this[o][t])e.push(r);return e}*[Symbol.iterator](){for(const e in this[o])for(const t of this[o][e])yield[e,t]}}i.Headers=h,i.Request=c,i.Response=m,t.exports=i},{"buffer/":46}],50:[function(e,t,r){t.exports={_args:[["@citation-js/core@0.7.6","/app"]],_development:!0,_from:"@citation-js/core@0.7.6",_id:"@citation-js/core@0.7.6",_inBundle:!1,_integrity:"sha512-qbB6RjwSsx/AjlCSAqoWKN05VxpjADYe8GmnPJnRB7QeNiVmqaRc8NSQDdvQ+4qhCkQOtMH15Sa2Nde4cvlXhw==",_location:"/@citation-js/core",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"@citation-js/core@0.7.6",name:"@citation-js/core",escapedName:"@citation-js%2fcore",scope:"@citation-js",rawSpec:"0.7.6",saveSpec:null,fetchSpec:"0.7.6"},_requiredBy:["#DEV:/"],_resolved:"https://registry.npmjs.org/@citation-js/core/-/core-0.7.6.tgz",_spec:"0.7.6",_where:"/app",author:{name:"Lars Willighagen",email:"lars.willighagen@gmail.com"},bugs:{url:"https://github.com/citation-js/citation-js/issues"},dependencies:{"@citation-js/date":"^0.5.0","@citation-js/name":"^0.4.2","fetch-ponyfill":"^7.1.0","sync-fetch":"^0.4.1"},description:"Convert different bibliographic metadata sources",directories:{lib:"src",test:"__tests__"},engines:{node:">=16.0.0"},files:["lib","lib-mjs"],gitHead:"c88a4c1aacf82cfa8f1b55cc8673cb38e807c421",homepage:"https://citation.js.org/",keywords:["citation-js","citation","bibliography"],license:"MIT",main:"lib/index.js",module:"lib-mjs/index.js",name:"@citation-js/core",repository:{type:"git",url:"git+https://github.com/citation-js/citation-js.git",directory:"packages/core"},scripts:{test:"mocha -c -R dot test/*.spec.js"},version:"0.7.6"}},{}],51:[function(e,t,r){"use strict";function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var s={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=n?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(s,a,o):s[a]=e[a]}return s.default=e,r&&r.set(e,s),s}Object.defineProperty(r,"__esModule",{value:!0}),r.ref=r.parsers=r.formats=void 0;var n=s(e("./json.js")),a=e("@citation-js/core");const o=["fulltext_html","fulltext_xml","fulltext_pdf"],l=["name","lastname","lastName","firstname","firstName"],u=r.ref="@bibjson",c=(r.parsers={json:n},r.formats={"@bibjson/quickscrape+record+object":{parse:n.quickscrapeRecord,parseType:{propertyConstraint:{props:"link",value:e=>o.some(t=>e.find(({type:e})=>e===t))},extends:"@bibjson/record+object"}},"@bibjson/record+object":{parse:n.record,parseType:{dataType:"SimpleObject",propertyConstraint:[{props:"title"},{props:["author","editor"],match:"some",value:e=>Array.isArray(e)&&e[0]&&l.some(t=>t in e[0])}]}},"@bibjson/collection+object":{parse:e=>e.records,parseType:{dataType:"SimpleObject",propertyConstraint:[{props:"metadata",value:e=>"collection"in e},{props:"records",value:e=>Array.isArray(e)}]}}});a.plugins.add(u,{input:c})},{"./json.js":52,"@citation-js/core":"citation-js"}],52:[function(e,t,r){"use strict";function i(e){const{firstname:t,lastname:r,firstName:i=t,lastName:s=r}=e;return i&&s?{given:i,family:s}:e.name?(0,l.parse)(e.name):void 0}function s(e,t){const r={};for(const i in e){const s=i.toUpperCase();t.includes(s)&&(r[s]=e[i])}if(e.identifier)for(let{id:i,type:s=""}of e.identifier)s=s.toUpperCase(),t.includes(s)&&(r[s]=i);return r}function n(){return{type:"article-journal"}}function a(e){const t={type:m[e.type]||"document",title:e.title};if(e.author&&(t.author=e.author.map(i).filter(Boolean)),e.editor&&(t.editor=e.editor.map(i).filter(Boolean)),e.reviewer&&(e.author&&(t["reviewed-author"]=t.author),t.author=e.reviewer.map(i).filter(Boolean)),Array.isArray(e.keywords)?t.keyword=e.keywords.join():e.keywords&&(t.keyword=e.keywords),e.publisher&&(t.publisher=e.publisher.name||e.publisher),e.date&&e.date.published?t.issued=(0,o.parse)(e.date.published):e.year&&(t.issued={"date-parts":[[+e.year]]}),e.date&&e.date.submitted&&(t.submitted=(0,o.parse)(e.date.submitted)),e.journal){const r=e.journal;r.name&&(t["container-title"]=r.name),r.volume&&(t.volume=r.volume),r.issue&&(t.issue=r.issue),Object.assign(t,s(r,c)),r.firstpage&&(t["page-first"]=r.firstpage),r.pages?t.page=r.pages.replace("--","-"):r.firstpage&&r.lastpage&&(t.page=r.firstpage+"-"+r.lastpage)}return e.link&&"object"==typeof e.link[0]&&(t.URL=e.link[0].url),Object.assign(t,s(e,u)),e.cid?t.id=e.cid:t.DOI&&(t.id=t.DOI),t}Object.defineProperty(r,"__esModule",{value:!0}),r.record=r.quickscrapeRecord=void 0;var o=e("@citation-js/date"),l=e("@citation-js/name");const u=["PMID","PMCID","DOI","ISBN"],c=["ISSN"],m={article:"article",book:"book",booklet:"book",proceedings:"book",mastersthesis:"thesis",inbook:"chapter",incollection:"chapter",conference:"paper-conference",inproceedings:"paper-conference",manual:"report",misc:"document",online:"website",patent:"patent",phdthesis:"thesis",techreport:"report",unpublished:"manuscript"},p=function(e){return Object.assign(a(e),n(e))};r.quickscrapeRecord=p;const h=function(e){return a(e)};r.record=h},{"@citation-js/date":53,"@citation-js/name":56}],53:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"format",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(r,"parse",{enumerable:!0,get:function(){return s.default}});var s=i(e("./input")),n=i(e("./output"))},{"./input":54,"./output":55}],54:[function(e,t,r){"use strict";function i(e,t){return l(e)||o(e,t)||n(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function o(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var i,s,n=[],a=!0,o=!1;try{for(r=r.call(e);!(a=(i=r.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){o=!0,s=e}finally{try{a||null==r.return||r.return()}finally{if(o)throw s}}return n}}function l(e){if(Array.isArray(e))return e}function u(e){return y[e.toLowerCase().slice(0,3)]}function c(e){const t=new Date(e);return"number"!=typeof e||isNaN(t.valueOf())?null:[t.getFullYear(),t.getMonth()+1,t.getDate()]}function m(e){const t=/^(\d{1,2})\/(\d{1,2})\/(\d{2}(?:\d{2})?)/;if("string"!=typeof e||!t.test(e))return null;const r=e.match(t),s=i(r,4),n=s[1],a=s[2],o=s[3],l=new Date(o,n,a);return l.getMonth()===parseInt(n)?[o,n,a]:null}function p(e){const t=/^(\d{1,2})[ .\-/](\d{1,2}|[a-z]{3,10})[ .\-/](-?\d+)/i,r=/^(-?\d+)[ .\-/](\d{1,2}|[a-z]{3,10})[ .\-/](\d{1,2})/i;let s,n,a;if("string"!=typeof e)return null;if(t.test(e)){var o=e.match(t),l=i(o,4);a=l[1],n=l[2],s=l[3]}else{if(!r.test(e))return null;var c=e.match(r),m=i(c,4);s=m[1],n=m[2],a=m[3]}if(u(n))n=u(n);else if(isNaN(n))return null;return[s,n,a]}function h(e){const t=/^([a-z]{3,10}|-?\d+)[^\w-]+([a-z]{3,10}|-?\d+)$/i;if("string"==typeof e&&t.test(e)){const r=e.match(t).slice(1,3);let i;if(u(r[1]))i=u(r.pop());else if(u(r[0]))i=u(r.shift());else{if(r.some(isNaN)||r.every(e=>+e<0))return null;i=+r[0]<0?r.pop():+r[0]>+r[1]&&+r[1]>0?r.pop():r.shift()}const s=r.pop();return[s,i]}return null}function f(e){if("string"!=typeof e)return null;const t=e.match(/^(\d+) ?(a\.?d\.?|b\.?c\.?)$/i);if(t){const e=t.slice(1),r=i(e,2),s=r[0],n=r[1];return[s*("a"===n.toLowerCase()[0]?1:-1)]}return/^-?\d+$/.test(e)?[e]:null}function d(e){const t=c(e)||x(e)||E(e)||m(e)||p(e)||h(e)||f(e);return t&&t.map(e=>parseInt(e))}function g(e){return _.test(e)?e.match(_).slice(1,3):e.split(v)}function b(e,t){const r=[],i="string"==typeof e&&g(e);t?r.push(e,t):i&&2===i.length?r.push(...i):r.push(e);const s=r.map(d);return s.filter(Boolean).length===r.length?{"date-parts":s}:{raw:t?r.join("/"):e}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;const y={jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12},v=/ (?:to|[-/]) | ?(?:--|[]) ?/,_=/^(\d{4}-\d{2}-\d{2})\/(\d{4}-\d{2}-\d{2})$/,x=function(e){const t=/^(\d{4}|[-+]\d{6,})-(\d{2})(?:-(\d{2}))?/;if("string"!=typeof e||!t.test(e))return null;const r=e.match(t),s=i(r,4),n=s[1],a=s[2],o=s[3];return+a?+o?[n,a,o]:[n,a]:[n]},E=function(e){const t=/^(?:[a-z]{3},\s*)?(\d{1,2}) ([a-z]{3}) (\d{4,})/i;if("string"!=typeof e||!t.test(e))return null;let r=e.match(t),s=i(r,4),n=s[1],a=s[2],o=s[3];return a=u(a),a?[o,a,n]:null};var A=b;r.default=A},{}],55:[function(e,t,r){"use strict";function i(e,t,r){if(e.length>=t)return e;for(;e.length<t;)e=r+e;return e.slice(-t)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;const s=function(e,t="-"){if(!e["date-parts"])return e.raw;const r=e["date-parts"][0].map(e=>e.toString());switch(r.length){case 3:r[2]=i(r[2],2,"0");case 2:r[1]=i(r[1],2,"0");case 1:r[0]=i(r[0],4,"0")}return r.join(t)};var n=s;r.default=n},{}],56:[function(e,t,r){arguments[4][42][0].apply(r,arguments)},{"./input":57,"./output":58,dup:42}],57:[function(e,t,r){arguments[4][43][0].apply(r,arguments)},{dup:43}],58:[function(e,t,r){arguments[4][44][0].apply(r,arguments)},{dup:44}],59:[function(e,t,r){"use strict";function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var s={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=n?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(s,a,o):s[a]=e[a]}return s.default=e,r&&r.set(e,s),s}function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("./mapping/biblatexTypes.json")),o=n(e("./mapping/bibtexTypes.json")),l=s(e("./input/constants.js"));r.default={constants:l,types:{biblatex:a.default,bibtex:o.default},parse:{biblatex:!0,strict:!1,sentenceCase:"never"},format:{useIdAsLabel:!1}}},{"./input/constants.js":62,"./mapping/biblatexTypes.json":72,"./mapping/bibtexTypes.json":74}],60:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var s=e("@citation-js/core"),n=e("./input/index.js"),a=i(e("./config.js")),o=i(e("./output/index.js"));s.plugins.add(n.ref,{input:n.formats,output:o.default,config:a.default})},{"./config.js":59,"./input/index.js":66,"./output/index.js":81,"@citation-js/core":"citation-js"}],61:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.textEntry=r.text=r.parse=void 0;const i={splitEntries:/\n\s*(?=\[)/g,parseEntry:/^\[(.+?)\]\s*(?:\n([\s\S]+))?$/,splitPairs:/((?=.)\s)*\n\s*/g,splitPair:/:(.*)/},s=e=>{const[,t,r]=e.match(i.parseEntry)||[];if(t&&r){const e={type:"book",label:t,properties:{}};return r.trim().split(i.splitPairs).filter(e=>e).forEach(t=>{let[r,s]=t.split(i.splitPair);s&&(r=r.trim(),s=s.trim(),"type"===r?e.type=s:e.properties[r]=s)}),e}return{}};r.textEntry=s;const n=e=>e.trim().split(i.splitEntries).map(s);r.text=r.parse=n},{}],62:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0}),r.sentenceCaseLanguages=r.required=r.mathScripts=r.mathScriptFormatting=r.ligatures=r.ligaturePattern=r.formattingEnvs=r.formattingCommands=r.formatting=r.fieldTypes=r.diacritics=r.defaultStrings=r.commands=r.argumentCommands=void 0;var s=i(e("./required.json")),n=i(e("./fieldTypes.json")),a=i(e("./unicode.json"));r.required=s.default,r.fieldTypes=n.default,r.diacritics=a.default.diacritics,r.commands=a.default.commands,r.defaultStrings={jan:"01",feb:"02",mar:"03",apr:"04",may:"05",jun:"06",jul:"07",aug:"08",sep:"09",oct:"10",nov:"11",dec:"12",acmcs:"ACM Computing Surveys",acta:"Acta Informatica",cacm:"Communications of the ACM",ibmjrd:"IBM Journal of Research and Development",ibmsj:"IBM Systems Journal",ieeese:"IEEE Transactions on Software Engineering",ieeetc:"IEEE Transactions on Computers",ieeetcad:"IEEE Transactions on Computer-Aided Design of Integrated Circuits",ipl:"Information Processing Letters",jacm:"Journal of the ACM",jcss:"Journal of Computer and System Sciences",scp:"Science of Computer Programming",sicomp:"SIAM Journal on Computing",tocs:"ACM Transactions on Computer Systems",tods:"ACM Transactions on Database Systems",tog:"ACM Transactions on Graphics",toms:"ACM Transactions on Mathematical Software",toois:"ACM Transactions on Office Information Systems",toplas:"ACM Transactions on Programming Languages and Systems",tcs:"Theoretical Computer Science"},r.formattingEnvs={it:"italics",itshape:"italics",sl:"italics",slshape:"italics",em:"italics",bf:"bold",bfseries:"bold",sc:"smallcaps",scshape:"smallcaps",rm:void 0,sf:void 0,tt:void 0},r.formattingCommands={textit:"italics",textsl:"italics",emph:"italics",mkbibitalic:"italics",mkbibemph:"italics",textbf:"bold",strong:"bold",mkbibbold:"bold",textsc:"smallcaps",textsuperscript:"superscript",textsubscript:"subscript",enquote:"quotes",mkbibquote:"quotes",textmd:void 0,textrm:void 0,textsf:void 0,texttt:void 0,textup:void 0},r.formatting={italics:["<i>","</i>"],bold:["<b>","</b>"],superscript:["<sup>","</sup>"],subscript:["<sub>","</sub>"],smallcaps:['<span style="font-variant:small-caps;">',"</span>"],nocase:['<span class="nocase">',"</span>"],quotes:["",""]},r.argumentCommands={ElsevierGlyph:e=>String.fromCharCode(parseInt(e,16)),href:(e,t)=>e,url:e=>e},r.ligaturePattern=/---?|''|``|~/g,r.ligatures={"--":"","---":"","``":"","''":"","~":""},r.mathScriptFormatting={"^":"superscript",sp:"superscript",_:"subscript",sb:"subscript",mathrm:void 0},r.mathScripts={"^":{0:"",1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"","+":"","-":"","=":"","(":"",")":"",i:"",n:""},_:{0:"",1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"","+":"","-":"","=":"","(":"",")":"",a:"",e:"",o:"",x:"","":"",h:"",k:"",l:"",m:"",n:"",s:"",p:"",t:""}},r.sentenceCaseLanguages=["american","british","canadian","english","australian","newzealand","usenglish","ukenglish","en","eng","en-au","en-bz","en-ca","en-cb","en-gb","en-ie","en-jm","en-nz","en-ph","en-tt","en-us","en-za","en-zw","anglais"]},{"./fieldTypes.json":64,"./required.json":68,"./unicode.json":69}],63:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){a(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function a(e,t,r){return t=o(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e){var t=l(e,"string");return"symbol"==typeof t?t:String(t)}function l(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function u(e,t){const r=[];for(const{type:i,label:s,properties:n}of e)if(i in t){const e=[];for(const r of t[i])Array.isArray(r)&&!r.some(e=>e in n)?e.push(r.join("/")):"string"!=typeof r||r in n||e.push(r);e.length&&r.push([s,`missing fields: ${e.join(", ")}`])}else r.push([s,`invalid type: "${i}"`]);if(r.length)throw new RangeError(["Invalid entries:"].concat(r.map(([e,t])=>`  - ${e} has ${t}`)).join("\n"))}function c(e){const t={};"language"in e.properties&&(t.language=(0,d.parse)(e.properties.language,"language"));for(const r in e.properties){const i=e.properties[r];""!==i&&(t[r]=(0,d.parse)(i+"",r,t.language))}return n(n({},e),{},{properties:t})}function m(e){return h.default.parse.strict&&u(e,g.required.biblatex),(0,f.parse)(e.map(c))}function p(e){return h.default.parse.strict&&u(e,g.required.bibtex),(0,f.parseBibtex)(e.map(c))}Object.defineProperty(r,"__esModule",{value:!0}),r.parse=m,r.parseBibtex=p;var h=i(e("../config.js")),f=e("../mapping/index.js"),d=e("./value.js"),g=e("./constants.js")},{"../config.js":59,"../mapping/index.js":76,"./constants.js":62,"./value.js":70}],64:[function(e,t,r){t.exports={abstract:["field","literal"],addendum:["field","literal"],afterword:["list","name"],annotation:["field","literal"],annotator:["list","name"],author:["list","name"],authortype:["field","key"],bookauthor:["list","name"],bookpagination:["field","key"],booksubtitle:["field","literal"],booktitle:["field","title"],booktitleaddon:["field","literal"],chapter:["field","literal"],commentator:["list","name"],date:["field","date"],doi:["field","verbatim"],edition:["field","literal"],editor:["list","name"],editora:["list","name"],editorb:["list","name"],editorc:["list","name"],editortype:["field","key"],editoratype:["field","key"],editorbtype:["field","key"],editorctype:["field","key"],eid:["field","literal"],entrysubtype:["field","literal"],eprint:["field","verbatim"],eprintclass:["field","literal"],eprinttype:["field","literal"],eventdate:["field","date"],eventtitle:["field","title"],eventtitleaddon:["field","literal"],file:["field","verbatim"],foreword:["list","name"],holder:["list","name"],howpublished:["field","literal"],indextitle:["field","literal"],institution:["list","literal"],introduction:["list","name"],isan:["field","literal"],isbn:["field","literal"],ismn:["field","literal"],isrn:["field","literal"],issn:["field","literal"],issue:["field","literal"],issuesubtitle:["field","literal"],issuetitle:["field","literal"],iswc:["field","literal"],journalsubtitle:["field","literal"],journaltitle:["field","literal"],label:["field","literal"],language:["list","key"],library:["field","literal"],location:["list","literal"],mainsubtitle:["field","literal"],maintitle:["field","title"],maintitleaddon:["field","literal"],month:["field","literal"],nameaddon:["field","literal"],note:["field","literal"],number:["field","literal"],organization:["list","literal"],origdate:["field","date"],origlanguage:["list","key"],origlocation:["list","literal"],origpublisher:["list","literal"],origtitle:["field","title"],pages:["field","range"],pagetotal:["field","literal"],pagination:["field","key"],part:["field","literal"],publisher:["list","literal"],pubstate:["field","key"],reprinttitle:["field","literal"],series:["field","title"],shortauthor:["list","name"],shorteditor:["list","name"],shorthand:["field","literal"],shorthandintro:["field","literal"],shortjournal:["field","literal"],shortseries:["field","literal"],shorttitle:["field","title"],subtitle:["field","literal"],title:["field","title"],titleaddon:["field","literal"],translator:["list","name"],type:["field","title"],url:["field","uri"],urldate:["field","date"],venue:["field","literal"],version:["field","literal"],volume:["field","integer"],volumes:["field","integer"],year:["field","literal"],crossref:["field","entry key"],entryset:["separated","literal"],execute:["field","code"],gender:["field","gender"],langid:["field","identifier"],langidopts:["field","literal"],ids:["separated","entry key"],indexsorttitle:["field","literal"],keywords:["separated","literal"],options:["separated","options"],presort:["field","string"],related:["separated","literal"],relatedoptions:["separated","literal"],relatedtype:["field","identifier"],relatedstring:["field","literal"],sortkey:["field","literal"],sortname:["list","name"],sortshorthand:["field","literal"],sorttitle:["field","literal"],sortyear:["field","integer"],xdata:["separated","entry key"],xref:["field","entry key"],namea:["list","name"],nameb:["list","name"],namec:["list","name"],nameatype:["field","key"],namebtype:["field","key"],namectype:["field","key"],lista:["list","literal"],listb:["list","literal"],listc:["list","literal"],listd:["list","literal"],liste:["list","literal"],listf:["list","literal"],usera:["field","literal"],userb:["field","literal"],userc:["field","literal"],userd:["field","literal"],usere:["field","literal"],userf:["field","literal"],verba:["field","literal"],verbb:["field","literal"],verbc:["field","literal"],address:["list","literal"],annote:["field","literal"],archiveprefix:["field","literal"],journal:["field","literal"],key:["field","literal"],pdf:["field","verbatim"],primaryclass:["field","literal"],school:["list","literal"],numpages:["field","integer"],pmid:["field","literal"],pmcid:["field","literal"]}},{}],65:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){a(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function a(e,t,r){return t=o(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e){var t=l(e,"string");return"symbol"==typeof t?t:String(t)}function l(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function u(e){return b.parse(d.reset(e))}Object.defineProperty(r,"__esModule",{value:!0}),r.bibtexGrammar=void 0,r.parse=u;var c=e("@citation-js/core"),m=i(e("moo")),p=e("./constants.js");const h=/[a-zA-Z_][a-zA-Z0-9_:-]*/,f={comment:/%.*/,whitespace:{match:/\s+/,lineBreaks:!0}},d=m.default.states({main:{junk:{match:/@[cC][oO][mM][mM][eE][nN][tT].+|[^@]+/,lineBreaks:!0},at:{match:"@",push:"entry"}},entry:n(n({},f),{},{otherEntryType:{match:/[sS][tT][rR][iI][nN][gG]|[pP][rR][eE][aA][mM][bB][lL][eE]/,next:"otherEntryContents"},dataEntryType:{match:h,next:"dataEntryContents"}}),otherEntryContents:n(n({},f),{},{lbrace:{match:/[{(]/,next:"fields"}}),dataEntryContents:n(n({},f),{},{lbrace:{match:/[{(]/,next:"dataEntryContents"},label:/[^,\s]+/,comma:{match:",",next:"fields"}}),fields:n(n({},f),{},{identifier:h,number:/-?\d+/,hash:"#",equals:"=",comma:",",quote:{match:'"',push:"quotedLiteral"},lbrace:{match:"{",push:"bracedLiteral"},rbrace:{match:/[})]/,pop:!0}}),quotedLiteral:{lbrace:{match:"{",push:"bracedLiteral"},quote:{match:'"',pop:!0},text:{match:/(?:\\[\\{]|[^{"])+/,lineBreaks:!0}},bracedLiteral:{lbrace:{match:"{",push:"bracedLiteral"},rbrace:{match:"}",pop:!0},text:{match:/(?:\\[\\{}]|[^{}])+/,lineBreaks:!0}}}),g={"(":")","{":"}"},b=r.bibtexGrammar=new c.util.Grammar({Main(){const e=[];for(;;){for(;this.matchToken("junk");)this.consumeToken("junk");if(this.matchEndOfFile())break;e.push(this.consumeRule("Entry"))}return e.filter(Boolean)},_(){let e;for(;e!==this.token;)e=this.token,this.consumeToken("whitespace",!0),this.consumeToken("comment",!0)},Entry(){this.consumeToken("at"),this.consumeRule("_");const e=(this.matchToken("otherEntryType")?this.consumeToken("otherEntryType"):this.consumeToken("dataEntryType")).value.toLowerCase();this.consumeRule("_");const t=this.consumeToken("lbrace").value;let r;if(this.consumeRule("_"),"string"===e){const[e,t]=this.consumeRule("Field");this.state.strings[e]=t}else if("preamble"===e)this.consumeRule("Expression");else{const t=this.consumeToken("label").value;this.consumeRule("_"),this.consumeToken("comma"),this.consumeRule("_");const i=this.consumeRule("EntryBody");r={type:e,label:t,properties:i}}this.consumeRule("_");const i=this.consumeToken("rbrace").value;return i!==g[t]&&c.logger.warn("[plugin-bibtex]",`entry started with "${t}", but ends with "${i}"`),r},EntryBody(){const e={};for(;this.matchToken("identifier");){const[t,r]=this.consumeRule("Field");if(e[t]=r,this.consumeRule("_"),!this.consumeToken("comma",!0))break;this.consumeRule("_")}return e},Field(){const e=this.consumeToken("identifier").value.toLowerCase();this.consumeRule("_"),this.consumeToken("equals"),this.consumeRule("_");const t=this.consumeRule("Expression");return[e,t]},Expression(){let e=this.consumeRule("ExpressionPart");for(this.consumeRule("_");this.matchToken("hash");)this.consumeToken("hash"),this.consumeRule("_"),e+=this.consumeRule("ExpressionPart").toString(),this.consumeRule("_");return e},ExpressionPart(){return this.matchToken("identifier")?this.state.strings[this.consumeToken("identifier").value.toLowerCase()]||"":this.matchToken("number")?parseInt(this.consumeToken("number")):this.matchToken("quote")?this.consumeRule("QuoteString"):this.consumeRule("BracketString")},QuoteString(){let e="";for(this.consumeToken("quote");!this.matchToken("quote");)e+=this.consumeRule("Text");return this.consumeToken("quote"),e},BracketString(){let e="";for(this.consumeToken("lbrace");!this.matchToken("rbrace");)e+=this.consumeRule("Text");return this.consumeToken("rbrace"),e},Text(){return this.matchToken("lbrace")?`{${this.consumeRule("BracketString")}}`:this.consumeToken("text").value}},{strings:p.defaultStrings})},{"./constants.js":62,"@citation-js/core":"citation-js",moo:86}],66:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ref=r.formats=void 0;var i=e("./file.js"),s=e("./bibtxt.js"),n=e("./entries.js");r.ref="@bibtex",r.formats={"@biblatex/text":{parse:i.parse,parseType:{dataType:"String",predicate:/@\s{0,5}[A-Za-z]{1,13}\s{0,5}\{\s{0,5}[^@{}"=,\\\s]{0,100}\s{0,5},[\s\S]*\}/}},"@biblatex/entry+object":{parse:e=>(0,n.parse)([e]),parseType:{dataType:"SimpleObject",propertyConstraint:{props:["type","label","properties"]}}},"@biblatex/entries+list":{parse:n.parse,parseType:{elementConstraint:"@biblatex/entry+object"}},"@bibtex/text":{parse:i.parse,outputs:"@bibtex/entries+list"},"@bibtex/entry+object":{parse:e=>(0,n.parseBibtex)([e])},"@bibtex/entries+list":{parse:n.parseBibtex},"@bibtxt/text":{parse:s.parse,parseType:{dataType:"String",predicate:/^\s*(\[(?!\s*[{[]).*?\]\s*(\n\s*[^[]((?!:)\S)+\s*:\s*.+?\s*)*\s*)+$/}}}},{"./bibtxt.js":61,"./entries.js":63,"./file.js":65}],67:[function(e,t,r){"use strict";function i(e){const t=e.toUpperCase(),r=e.toLowerCase();for(let i=0;i<e.length;i++)if(t[i]!==r[i])return t[i]===e[i];return null}function s(e){if(0===e.length)return;let t="";for(;e.length>1;){const{value:r,hyphenated:i}=e.shift();t+=r+(i?"-":" ")}const r=t+e[0].value;return r[0]&&r}function n(e,t=!0){const r=[],i=[];if(t)for(;e.length>1&&!1!==e[0].upperCase;){for(r.push(...i),i.length=0;e.length>1&&!1!==e[0].upperCase&&!e[0].hyphenated;)r.push(e.shift());for(;e.length>0&&!1!==e[0].upperCase&&e[0].hyphenated;)i.push(e.shift())}const n=[],a=[];for(;e.length>1;){for(n.push(...a),a.length=0;e.length>1&&!1===e[0].upperCase;)n.push(e.shift());for(;e.length>0&&!1!==e[0].upperCase;)a.push(e.shift())}return i.length&&a.unshift(...i),e.length&&a.push(e[0]),[s(r),s(n),s(a)]}function a(e){if(e[0][0].label){const t={};for(const[{value:r,label:i}]of e)t[i]=r;return t}const t={},[r,i,a]=n(e[0],1===e.length)
;return a&&(t.family=a),i&&(t.prefix=i),3===e.length?(t.given=s(e[2]),t.suffix=s(e[1])):2===e.length?t.given=s(e[1]):r&&(t.given=r),t}Object.defineProperty(r,"__esModule",{value:!0}),r.formatNameParts=s,r.getStringCase=i,r.orderNameParts=n,r.orderNamePieces=a},{}],68:[function(e,t,r){t.exports={biblatex:{article:["author","title","journaltitle",["year","date"]],book:["author","title",["year","date"]],mvbook:["author","title",["year","date"]],inbook:["author","title","booktitle",["year","date"]],booklet:[["author","editor"],"title",["year","date"]],collection:["editor","title",["year","date"]],mvcollection:["editor","title",["year","date"]],incollection:["author","title","booktitle",["year","date"]],dataset:[["author","editor"],"title",["year","date"]],online:[["author","editor"],"title",["year","date"],["doi","eprint","url"]],patent:["author","title","number",["year","date"]],periodical:["editor","title",["year","date"]],proceedings:["title",["year","date"]],mvproceedings:["title",["year","date"]],inproceedings:["author","title","booktitle",["year","date"]],report:["author","title","type","institution",["year","date"]],thesis:["author","title","type","institution",["year","date"]],unpublished:["author","title",["year","date"]],conference:["author","title","booktitle",["year","date"]],electronic:[["author","editor"],"title",["year","date"],["doi","eprint","url"]],mastersthesis:["author","title","institution",["year","date"]],phdthesis:["author","title","institution",["year","date"]],techreport:["author","title","institution",["year","date"]],www:[["author","editor"],"title",["year","date"],["doi","eprint","url"]]},bibtex:{article:["author","title","journal","year"],book:[["author","editor"],"title","publisher","year"],booklet:["title"],inbook:[["author","editor"],"title",["chapter","pages"],"publisher","year"],incollection:["author","title","booktitle","publisher","year"],inproceedings:["author","title","booktitle","year"],mastersthesis:["author","title","school","year"],phdthesis:["author","title","school","year"],proceedings:["title","year"],techreport:["author","title","institution","year"],unpublished:["author","title","note"]}}},{}],69:[function(e,t,r){t.exports={diacritics:{"`":"","'":"","^":"","~":"","=":"",u:"",".":"",'"':"",r:"",H:"",v:"",b:"",d:"",c:"",k:"",t:"",textcommabelow:""},commands:{textquotesingle:"'",textasciigrave:"`",textquotedbl:'"',textdollar:"$",textless:"<",textgreater:">",textbackslash:"\\",textasciicircum:"^",textunderscore:"_",textbraceleft:"{",textbar:"|",textbraceright:"}",textasciitilde:"~",textexclamdown:"",textcent:"",textsterling:"",textcurrency:"",textyen:"",textbrokenbar:"",textsection:"",textasciidieresis:"",textcopyright:"",textordfeminine:"",guillemetleft:"",guillemotleft:"",textlnot:"",textregistered:"",textasciimacron:"",textdegree:"",textpm:"",texttwosuperior:"",textthreesuperior:"",textasciiacute:"",textmu:"",textparagraph:"",textperiodcentered:"",textonesuperior:"",textordmasculine:"",guillemetright:"",guillemotright:"",textonequarter:"",textonehalf:"",textthreequarters:"",textquestiondown:"",AE:"",DH:"",texttimes:"",O:"",TH:"",ss:"",ae:"",dh:"",textdiv:"",o:"",th:"",DJ:"",dj:"",i:"",IJ:"",ij:"",L:"",l:"",NG:"",ng:"",OE:"",oe:"",textflorin:"",j:"",textasciicaron:"",textasciibreve:"",textacutedbl:"",textgravedbl:"",texttildelow:"",textbaht:"",SS:"",textcompwordmark:"",textendash:"",textemdash:"",textbardbl:"",textquoteleft:"",textquoteright:"",quotesinglbase:"",textquotedblleft:"",textquotedblright:"",quotedblbase:"",textdagger:" ",textdaggerdbl:"",textbullet:"",textellipsis:"",textperthousand:"",textpertenthousand:"",guilsinglleft:"",guilsinglright:"",textreferencemark:"",textinterrobang:"",textfractionsolidus:"",textlquill:"",textrquill:"",textdiscount:"",textcolonmonetary:"",textlira:"",textnaira:"",textwon:"",textdong:"",texteuro:"",textpeso:"",textcelsius:"",textnumero:"",textcircledP:"",textrecipe:"",textservicemark:" ",texttrademark:"",textohm:"",textmho:"",textestimated:"",textleftarrow:"",textuparrow:"",textrightarrow:"",textdownarrow:"",textminus:"",Hwithstroke:"",hwithstroke:"",textasteriskcentered:"",textsurd:"",textlangle:"",textrangle:"",textblank:"",textvisiblespace:"",textopenbullet:"",textbigcircle:"",textmusicalnote:"",textmarried:"",textdivorced:"",textinterrobangdown:"",textcommabelow:null,copyright:"",Gamma:"",Delta:"",Theta:"",Lambda:"",Xi:"",Pi:" ",Sigma:"",Phi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",varepsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",pi:"",rho:"",varsigma:"",sigma:"",tau:"",upsilon:"",varphi:"",chi:"",psi:"",omega:"",vartheta:"",Upsilon:"",phi:"",varpi:"",varrho:"",epsilon:""}}},{}],70:[function(e,t,r){"use strict";function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var s={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=n?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(s,a,o):s[a]=e[a]}return s.default=e,r&&r.set(e,s),s}function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){l(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function l(e,t,r){return t=u(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e){var t=c(e,"string");return"symbol"==typeof t?t:String(t)}function c(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function m(e){return e[0],e}function p(e,t){return t in x.formatting?e&&x.formatting[t].join(e):e}function h(e){return x.sentenceCaseLanguages.includes(e.toLowerCase())}function f(e){return Array.isArray(e)?e.every(h):h(e)}function d(e,t){if("name"===e[1])return"list"===e[0]?"StringNames":"Name";if("title"===e[1]){const e=_.default.parse.sentenceCase;return"always"===e||"english"===e&&f(t)?"StringTitleCase":"String"}switch("field"===e[0]?e[1]:e[0]){case"list":return"StringList";case"separated":return"StringSeparated";case"verbatim":return"StringVerbatim";case"uri":return"StringUri";case"title":case"literal":default:return"String"}}function g(e){if("name"===e[1])return"namesLiteral";switch(e[0]){case"list":return"listLiteral";case"separated":return"separatedLiteral";case"field":default:return"stringLiteral"}}function b(e,t,r=[]){const i=x.fieldTypes[t]||[];return T.parse(w.reset(e,{state:g(i),line:0,col:0}),d(i,r))}Object.defineProperty(r,"__esModule",{value:!0}),r.parse=b,r.valueGrammar=void 0;var y=e("@citation-js/core"),v=n(e("moo")),_=n(e("../config.js")),x=s(e("./constants.js")),E=e("./name.js");const A={command:{match:/\\(?:[a-zA-Z]+|.) */,type:v.default.keywords({commandBegin:"\\begin",commandEnd:"\\end"}),value:e=>e.slice(1).trim()},lbrace:{match:"{",push:"bracedLiteral"},mathShift:{match:"$",push:"mathLiteral"},whitespace:{match:/[\s]+|~/,lineBreaks:!0,value:e=>"~"===e?"":" "}},w=v.default.states({stringLiteral:o(o({},A),{},{text:/[^{$}\s~\\]+/}),namesLiteral:o(o({and:/\s+[aA][nN][dD]\s+/,comma:",",hyphen:"-",equals:"="},A),{},{text:/[^{$}\s~\\,=-]+/}),listLiteral:o(o({and:/\s+and\s+/},A),{},{text:/[^{$}\s~\\]+/}),separatedLiteral:o(o({comma:","},A),{},{text:/[^{$}\s~\\,]+/}),bracedLiteral:o(o({},A),{},{rbrace:{match:"}",pop:!0},text:/[^{$}\s~\\]+/}),mathLiteral:o(o({},A),{},{mathShift:{match:"$",pop:!0},script:/[\^_]/,text:/[^{$}\s~\\^_]+/})}),T=r.valueGrammar=new y.util.Grammar({String(){let e="";for(;!this.matchEndOfFile();)e+=this.consumeRule("Text");return m(e)},StringNames(){const e=[];for(;;){if(this.consumeToken("whitespace",!0),e.push(this.consumeRule("Name")),this.consumeToken("whitespace",!0),this.matchEndOfFile())return e;this.consumeToken("and")}},Name(){const e=[];for(;;){if(e.push(this.consumeRule("NamePiece")),this.matchEndOfFile()||this.matchToken("and"))return(0,E.orderNamePieces)(e);this.consumeToken("comma"),this.consumeToken("whitespace",!0)}},NamePiece(){const e=[];for(;;){const t=this.consumeRule("NameToken");if(t.label)return t.label=(0,E.formatNameParts)([...e,{value:t.label}]),[t];if(e.push(t),this.matchEndOfFile()||this.matchToken("and")||this.matchToken("comma"))return e;for(;this.matchToken("hyphen")||this.matchToken("whitespace");)this.consumeToken()}},NameToken(){let e=null,t="";for(;;)if(null===e&&this.matchToken("text")){const r=this.consumeToken().value;t+=r,e=(0,E.getStringCase)(r)}else{if(this.matchEndOfFile()||this.matchToken("and")||this.matchToken("comma")||this.matchToken("whitespace"))return{value:t,upperCase:e};if(this.matchToken("hyphen"))return{value:t,upperCase:e,hyphenated:!0};if(this.matchToken("equals")){this.consumeToken("equals");const e=this.consumeRule("NamePiece");return e[0].label&&(t+="="+e[0].label),{value:(0,E.formatNameParts)(e),label:t}}t+=this.consumeRule("Text")}},StringList(){const e=[];for(;!this.matchEndOfFile();){let t="";for(;!this.matchEndOfFile()&&!this.matchToken("and");)t+=this.consumeRule("Text");e.push(m(t)),this.consumeToken("and",!0)}return 1===e.length?e[0]:e},StringSeparated(){const e=[];for(;!this.matchEndOfFile();){let t="";for(;!this.matchEndOfFile()&&!this.matchToken("comma");)t+=this.consumeRule("Text");e.push(t.trim()),this.consumeToken("comma",!0),this.consumeToken("whitespace",!0)}return e},StringVerbatim(){let e="";for(;!this.matchEndOfFile();)e+=this.consumeToken().text;return m(e)},StringUri(){const e=this.consumeRule("StringVerbatim");try{return decodeURI(e)===e?encodeURI(e):e}catch(t){return encodeURI(e)}},StringTitleCase(){this.state.sentenceCase=!0;let e="";for(;!this.matchEndOfFile();)e+=this.consumeRule("Text");return m(e)},BracketString(){var e;let t="";this.consumeToken("lbrace");const r=this.state.sentenceCase;for(this.state.sentenceCase=r&&this.matchToken("command"),(e=this.state).partlyLowercase&&(e.partlyLowercase=this.state.sentenceCase);!this.matchToken("rbrace");)t+=this.consumeRule("Text");const i=r&&!this.state.sentenceCase,s=i&&this.state.partlyLowercase;return this.state.sentenceCase=r,this.consumeToken("rbrace"),s?p(t,"nocase"):t},MathString(){let e="";for(this.consumeToken("mathShift");!this.matchToken("mathShift");)if(this.matchToken("script")){const t=this.consumeToken("script").value,r=this.consumeRule("Text").split("");if(r.every(e=>e in x.mathScripts[t]))e+=r.map(e=>x.mathScripts[t][e]).join("");else{const i=x.mathScriptFormatting[t];e+=x.formatting[i].join(r.join(""))}}else{if(this.matchToken("command")){const t=this.token.value;if(t in x.mathScriptFormatting){this.consumeToken("command");const r=this.consumeRule("BracketString");e+=p(r,x.mathScriptFormatting[t]);continue}}e+=this.consumeRule("Text")}return this.consumeToken("mathShift"),e},Text(){if(this.matchToken("lbrace"))return this.consumeRule("BracketString");if(this.matchToken("mathShift"))return this.consumeRule("MathString");if(this.matchToken("whitespace"))return this.consumeToken("whitespace").value;if(this.matchToken("commandBegin"))return this.consumeRule("EnclosedEnv");if(this.matchToken("command"))return this.consumeRule("Command");const e=this.consumeToken("text").value.replace(x.ligaturePattern,e=>x.ligatures[e]),t=this.state.afterPunctuation;var r;if(this.state.afterPunctuation=/[?!.:]$/.test(e),!this.state.sentenceCase)return(r=this.state).partlyLowercase||(r.partlyLowercase=e===e.toLowerCase()&&e!==e.toUpperCase()),e;const[i,...s]=e,n=s.join(""),a=n.toLowerCase();return n!==a?e:t?i+a:e.toLowerCase()},Command(){const e=this.consumeToken("command"),t=e.value;if(t in x.formattingEnvs){const e=this.consumeRule("Env"),r=x.formattingEnvs[t];return p(e,r)}if(t in x.formattingCommands){const e=this.consumeRule("BracketString"),r=x.formattingCommands[t];return p(e,r)}if(t in x.commands)return x.commands[t];if(t in x.diacritics&&!this.matchEndOfFile()){const e=this.consumeRule("Text"),r=e[0]+x.diacritics[t];return r.normalize("NFC")+e.slice(1)}if(t in x.argumentCommands){const e=x.argumentCommands[t],r=[];let i=e.length;for(;i-- >0;)this.consumeToken("whitespace",!0),r.push(this.consumeRule("BracketString"));return e(...r)}return/^[&%$#_{}]$/.test(t)?e.text.slice(1):e.text},Env(){let e="";for(;!this.matchEndOfFile()&&!this.matchToken("rbrace");)e+=this.consumeRule("Text");return e},EnclosedEnv(){this.consumeToken("commandBegin");const e=this.consumeRule("BracketString");let t="";for(;!this.matchToken("commandEnd");)t+=this.consumeRule("Text");const r=this.consumeToken("commandEnd"),i=this.consumeRule("BracketString");if(e!==i)throw new SyntaxError(this.lexer.formatError(r,`environment started with "${e}", ended with "${i}"`));return p(t,x.formattingEnvs[e])}},{sentenceCase:!1,partlyLowercase:!1,afterPunctuation:!0})},{"../config.js":59,"./constants.js":62,"./name.js":67,"@citation-js/core":"citation-js",moo:86}],71:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var s=e("@citation-js/core"),n=e("@citation-js/date"),a=i(e("./biblatexTypes.json")),o=e("./shared.js");const l=[{source:"note",target:"accessed",when:{source:!1,target:{note:!1,addendum:!1}},convert:{toSource:e=>`[Online; accessed ${(0,n.format)(e)}]`}},{source:"numpages",target:"number-of-pages",when:{source:{pagetotal:!1},target:!1}},{source:"pmid",target:"PMID",when:{source:{eprinttype:e=>"pmid"!==e,archiveprefix:e=>"pmid"!==e},target:!1}},{source:"pmcid",target:"PMCID",when:{target:!1}},{source:"s2id",target:"custom",convert:{toTarget:e=>({S2ID:e}),toSource:({S2ID:e})=>e}}],u=[{source:"annote",target:"annote",when:{source:{annotation:!1},target:!1}},{source:"address",target:"publisher-place",convert:o.Converters.PICK,when:{source:{location:!1},target:!1}},{source:["eprint","archiveprefix"],target:"PMID",convert:o.Converters.EPRINT,when:{source:{eprinttype:!1},target:!1}},{source:"journal",target:"container-title",when:{source:{maintitle:!1,booktitle:!1,journaltitle:!1},target:!1}},{source:"school",target:"publisher",convert:o.Converters.PICK,when:{source:{institution:!1,organization:!1,publisher:!1},target:!1}}];r.default=new s.util.Translator([...u,...l,{source:"abstract",target:"abstract"},{source:"urldate",target:"accessed",convert:o.Converters.DATE},{source:"annotation",target:"annote"},{source:"author",target:"author",convert:o.Converters.NAMES},{source:"library",target:"call-number"},{source:"chapter",target:"chapter-number"},{source:"bookauthor",target:"container-author",convert:o.Converters.NAMES},{source:["maintitle","mainsubtitle","maintitleaddon"],target:"container-title",when:{source:!0,target:{"number-of-volumes":!0}},convert:o.Converters.TITLE},{source:["booktitle","booksubtitle","booktitleaddon"],target:"container-title",when:{source:{maintitle:!1},target:{"number-of-volumes":!1,type:e=>!e||!e.startsWith("article")}},convert:o.Converters.TITLE},{source:["journaltitle","journalsubtitle","journaltitleaddon"],target:"container-title",when:{source:{[o.TYPE]:"article"},target:{type:["article","article-newspaper","article-journal","article-magazine"]}},convert:o.Converters.TITLE},{source:"shortjournal",target:"container-title-short",when:{source:{[o.TYPE]:"article"},target:{type:["article","article-newspaper","article-journal","article-magazine"]}}},{source:"shortjournal",target:"journalAbbreviation",when:{source:!1,target:{"container-title-short":!1}}},{source:"number",target:"collection-number",when:{source:{[o.TYPE]:["book","mvbook","inbook","bookinbook","suppbook","collection","mvcollection","incollection","suppcollection","manual","suppperiodical","proceedings","mvproceedings","refererence"]},target:{type:["bill","book","broadcast","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","figure","graphic","interview","legislation","legal_case","manuscript","map","motion_picture","musical_score","pamphlet","post","post-weblog","personal_communication","review","review-book","song","speech","thesis","treaty","webpage"]}}},{source:"series",target:"collection-title"},{source:"shortseries",target:"collection-title-short"},{source:"doi",target:"DOI"},{source:"edition",target:"edition"},{source:"editor",target:"editor",convert:o.Converters.NAMES},{source:[o.TYPE,"entrysubtype","type"],target:["type","genre"],convert:{toTarget:(e,t,r)=>(r||("mastersthesis"===e&&(r="mathesis"),"phdthesis"===e&&(r="phdthesis"),"techreport"===e&&(r="techreport")),[a.default.source[e]||"document",r||t]),toSource(e,t){const r=a.default.target[e]||"misc";return t in o.TYPE_KEYS?[r,void 0,t]:[r,t]}}},{source:o.TYPE,when:{target:{type:!1}},convert:{toSource:()=>"misc"}},{source:"eventdate",target:"event-date",convert:o.Converters.DATE},{source:"venue",target:"event-place"},{source:["eventtitle","eventtitleaddon"],target:"event-title",convert:o.Converters.EVENT_TITLE},{source:["eventtitle","eventtitleaddon"],target:"event",convert:o.Converters.EVENT_TITLE,when:{source:!1,target:{"event-title":!1}}},{source:o.LABEL,target:["id","citation-key","author","issued","year-suffix","title"],convert:o.Converters.LABEL},{source:"isbn",target:"ISBN"},{source:"issn",target:"ISSN"},{source:"issue",target:"issue",when:{source:{number:!1,[o.TYPE]:["article","periodical"]},target:{issue:e=>"string"==typeof e&&!e.match(/\d+/),type:["article","article-journal","article-newspaper","article-magazine","periodical"]}}},{source:"number",target:"issue",when:{source:{[o.TYPE]:["article","periodical","inproceedings"]},target:{issue:e=>e&&("number"==typeof e||e.match(/\d+/)),type:["article","article-journal","article-newspaper","article-magazine","paper-conference","periodical"]}}},{source:"date",target:"issued",convert:o.Converters.DATE},{source:["year","month","day"],target:"issued",convert:o.Converters.YEAR_MONTH,when:{source:{date:!1},target:!1}},{source:"location",target:"jurisdiction",when:{source:{type:"patent"},target:{type:"patent"}}},{source:"keywords",target:"keyword",convert:o.Converters.KEYWORDS},{source:"language",target:"language",convert:o.Converters.PICK},{source:"langid",target:"language",when:{source:{language:!1},target:!1}},{source:"note",target:"note"},{source:"addendum",target:"note",when:{source:{note:!1},target:!1}},{source:"eid",target:"number",when:{target:{type:["article-journal"]}}},{source:["isan","ismn","isrn","iswc"],target:"number",convert:o.Converters.STANDARD_NUMBERS,when:{source:{[o.TYPE]:e=>"patent"!==e},target:{type:e=>"patent"!==e}}},{source:"number",target:"number",when:{source:{[o.TYPE]:["patent","report","techreport","legislation"]},target:{type:["patent","report","legislation"]}}},{source:"origdate",target:"original-date",convert:o.Converters.DATE},{source:"origlocation",target:"original-publisher-place",convert:o.Converters.PICK},{source:"origpublisher",target:"original-publisher",convert:o.Converters.PICK},{source:"origtitle",target:"original-title"},{source:"pages",target:"page",when:{source:{bookpagination:[void 0,"page"]}},convert:o.Converters.PAGES},{source:"pagetotal",target:"number-of-pages"},{source:"part",target:"part-number"},{source:["eprint","eprinttype"],target:"PMID",convert:o.Converters.EPRINT},{source:"location",target:"publisher-place",convert:o.Converters.PICK},{source:"publisher",target:"publisher",convert:o.Converters.PICK,when:{source:!0,target:{type:["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","classic","collection","dataset","document","entry","entry-dictionary","entry-encyclopedia","event","figure","graphic","hearing","interview","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","patent","performance","periodical","personal_communication","post","post-weblog","regulation","review","review-book","software","song","speech","standard","treaty"]}}},{source:"organization",target:"publisher",convert:o.Converters.PICK,when:{source:{publisher:!1},target:{type:"webpage"}}},{source:"institution",target:"publisher",convert:o.Converters.PICK,when:{source:{publisher:!1,organization:!1},target:{type:["report","thesis"]}}},{source:"howpublished",target:"publisher",convert:o.Converters.PICK,when:{source:{howpublished:e=>e&&!e.startsWith("http"),publisher:!1,organization:!1,institution:!1},target:{type:"manuscript"}}},{source:["pages","bookpagination"],target:"section",when:{source:{bookpagination:"section"},target:{page:!1}},convert:{toTarget:e=>e,toSource:e=>[e,"section"]}},{source:"pubstate",target:"status",convert:o.Converters.STATUS},{source:"shorttitle",target:"title-short"},{source:"shorttitle",target:"shortTitle",when:{source:!1,target:{"title-short":!1}}},{source:["title","subtitle","titleaddon"],target:"title",convert:o.Converters.TITLE},{source:"translator",target:"translator",convert:o.Converters.NAMES},{source:"url",target:"URL"},{source:"howpublished",target:"URL",convert:o.Converters.HOW_PUBLISHED,when:{source:{url:!1},target:!1}},{source:"version",target:"version"},{source:"volume",target:"volume"},{source:"volumes",target:"number-of-volumes"},{source:["issuetitle","issuesubtitle","issuetitleaddon"],target:"volume-title",convert:o.Converters.TITLE}])},{"./biblatexTypes.json":72,"./shared.js":77,"@citation-js/core":"citation-js","@citation-js/date":83}],72:[function(e,t,r){t.exports={source:{article:"article-journal",book:"book",mvbook:"book",inbook:"chapter",bookinbook:"book",booklet:"book",collection:"book",mvcollection:"book",incollection:"chapter",dataset:"dataset",manual:"report",misc:"document",online:"webpage",patent:"patent",periodical:"periodical",proceedings:"book",mvproceedings:"book",inproceedings:"paper-conference",reference:"book",mvreference:"book",inreference:"entry",report:"report",software:"software",thesis:"thesis",unpublished:"manuscript",artwork:"graphic",audio:"song",image:"figure",jurisdiction:"legal_case",legislation:"legislation",legal:"treaty",letter:"personal_communication",movie:"motion_picture",music:"musical_score",performance:"performance",review:"review",standard:"standard",video:"motion_picture",conference:"paper-conference",electronic:"webpage",mastersthesis:"thesis",phdthesis:"thesis",techreport:"report",www:"webpage"},target:{article:"article","article-journal":"article","article-magazine":"article","article-newspaper":"article",bill:"legislation",book:"book",broadcast:"audio",chapter:"inbook",classic:"unpublished",collection:"misc",dataset:"dataset",document:"misc",entry:"inreference","entry-dictionary":"inreference","entry-encyclopedia":"inreference",event:"misc",figure:"artwork",graphic:"artwork",hearing:"legal",interview:"audio",legal_case:"jurisdiction",legislation:"legislation",manuscript:"unpublished",motion_picture:"movie",musical_score:"music","paper-conference":"inproceedings",patent:"patent",performance:"performance",periodical:"periodical",personal_communication:"letter",post:"online","post-weblog":"online",regulation:"legal",report:"report",review:"review","review-book":"review",software:"software",song:"music",speech:"audio",standard:"standard",thesis:"thesis",treaty:"legal",webpage:"online"}}},{}],73:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var s=e("@citation-js/core"),n=e("@citation-js/date"),a=i(e("./bibtexTypes.json")),o=e("./shared.js");r.default=new s.util.Translator([{source:"note",target:"accessed",when:{source:!1,target:{note:!1}},convert:{toSource:e=>`[Online; accessed ${(0,n.format)(e)}]`}},{source:"annote",target:"annote"},{source:"address",target:"publisher-place",convert:o.Converters.PICK},{source:"author",target:"author",convert:o.Converters.NAMES},{source:"chapter",target:"chapter-number"},{source:"number",target:"collection-number",when:{source:{[o.TYPE]:["book","mvbook","inbook","collection","mvcollection","incollection","suppcollection","manual","suppperiodical","proceedings","mvproceedings","refererence"]},target:{type:["bill","book","broadcast","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","figure","graphic","interview","legislation","legal_case","manuscript","map","motion_picture","musical_score","pamphlet","post","post-weblog","personal_communication","review","review-book","song","speech","thesis","treaty","webpage"]}}},{source:"series",target:"collection-title"},{source:"booktitle",target:"container-title",when:{target:{type:["chapter","paper-conference"]}}},{source:"journal",target:"container-title",when:{source:{[o.TYPE]:"article"},target:{type:["article","article-newspaper","article-journal","article-magazine"]}}},{source:"doi",target:"DOI"},{source:"edition",target:"edition"},{source:"editor",target:"editor",convert:o.Converters.NAMES},{source:o.LABEL,target:["id","citation-key","author","issued","year-suffix","title"],convert:o.Converters.LABEL},{source:"isbn",target:"ISBN"},{source:"issn",target:"ISSN"},{source:"number",target:"issue",when:{source:{[o.TYPE]:["article","periodical","inproceedings"]},target:{issue:e=>"number"==typeof e||"string"==typeof e&&e.match(/\d+/),type:["article","article-journal","article-newspaper","article-magazine","paper-conference","periodical"]}}},{source:["year","month","day"],target:"issued",convert:o.Converters.YEAR_MONTH},{source:"note",target:"note"},{source:"number",target:"number",when:{source:{[o.TYPE]:["patent","report","techreport"]},target:{type:["patent","report"]}}},{source:"eid",target:"number",when:{source:{number:!1},target:{type:["article-journal"]}}},{source:"pages",target:"page",convert:o.Converters.PAGES},{source:"publisher",target:"publisher",convert:o.Converters.PICK,when:{target:{type:["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","classic","collection","dataset","document","entry","entry-dictionary","entry-encyclopedia","event","figure","graphic","hearing","interview","legal_case","legislation","map","motion_picture","musical_score","pamphlet","patent","performance","periodical","personal_communication","post","post-weblog","regulation","review","review-book","software","song","speech","standard","treaty","webpage"]}}},{source:"organization",target:"publisher",convert:o.Converters.PICK,when:{source:{publisher:!1},target:{type:"paper-conference"}}},{source:"institution",target:"publisher",convert:o.Converters.PICK,when:{source:{publisher:!1,organization:!1},target:{type:"report"}}},{source:"school",target:"publisher",convert:o.Converters.PICK,when:{source:{institution:!1,organization:!1,publisher:!1},target:{type:"thesis"}}},{source:"howpublished",target:"publisher",convert:o.Converters.PICK,when:{source:{howpublished:e=>e&&!e.startsWith("http"),publisher:!1,organization:!1,institution:!1,school:!1},target:{type:"manuscript"}}},{source:"title",target:"title"},{source:[o.TYPE,"type"],target:["type","genre"],convert:{toTarget(e,t){const r=a.default.source[e]||"document";return t?[r,t]:"mastersthesis"===e?[r,"Master's thesis"]:"phdthesis"===e?[r,"PhD thesis"]:[r]},toSource(e,t){const r=a.default.target[e]||"misc";return/^(master'?s|diploma) thesis$/i.test(t)?["mastersthesis"]:/^(phd|doctoral) thesis$/i.test(t)?["phdthesis"]:[r,t]}}},{source:o.TYPE,when:{target:{type:!1}},convert:{toSource:()=>"misc"}},{source:"url",target:"URL"},{source:"howpublished",target:"URL",convert:o.Converters.HOW_PUBLISHED,when:{target:{publisher:!1}}},{source:"volume",target:"volume"}])},{"./bibtexTypes.json":74,"./shared.js":77,"@citation-js/core":"citation-js","@citation-js/date":83}],74:[function(e,t,r){t.exports={source:{article:"article-journal",book:"book",booklet:"book",conference:"paper-conference",inbook:"chapter",incollection:"chapter",inproceedings:"paper-conference",manual:"report",mastersthesis:"thesis",misc:"document",phdthesis:"thesis",proceedings:"book",techreport:"report",unpublished:"manuscript"},target:{article:"article","article-journal":"article","article-magazine":"article","article-newspaper":"article",book:"book",chapter:"inbook",manuscript:"unpublished","paper-conference":"inproceedings",report:"techreport",review:"article","review-book":"article"}}},{}],75:[function(e,t,r){"use strict";function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){n(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function n(e,t,r){return t=a(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e){var t=o(e,"string");return"symbol"==typeof t?t:String(t)}function o(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function l(e,t,r){if(t.crossref in r){const i=r[t.crossref];if(i.properties===t)return t;const n=s({},l(i.type,i.properties,r));if(delete n.ids,delete n.crossref,delete n.xref,delete n.entryset,delete n.entrysubtype,delete n.execute,delete n.label,delete n.options,delete n.presort,delete n.related,delete n.relatedoptions,delete n.relatedstring,delete n.relatedtype,delete n.shortand,delete n.shortandintro,delete n.sortkey,"mvbook"!==i.type&&"book"!==i.type||!c.has(e)||(n.bookauthor=n.author),i.type in g){const[t,r]=g[i.type];r.has(e)&&(n[t+"title"]=n.title,n[t+"subtitle"]=n.subtitle,"journal"!==t&&(n[t+"titleaddon"]=n.titleaddon),delete n.title,delete n.subtitle,delete n.titleaddon,delete n.shorttitle,delete n.sorttitle,delete n.indextitle,delete n.indexsorttitle)}return Object.assign(n,t)}return t}Object.defineProperty(r,"__esModule",{value:!0}),r.crossref=l;const u=new Set(["book","inbook","bookinbook","suppbook"]),c=new Set(["inbook","bookinbook","suppbook"]),m=new Set(["collection","reference","incollection","inreference","suppcollection"]),p=new Set(["incollection","inreference","suppcollection"]),h=new Set(["proceedings","inproceedings"]),f=new Set(["inproceedings"]),d=new Set(["article","suppperiodical"]),g={mvbook:["main",u],mvcollection:["main",m],mvreference:["main",m],mvproceedings:["main",h],book:["book",c],collection:["book",p],reference:["book",p],proceedings:["book",f],periodical:["journal",d]}},{}],76:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(null==e)return{};var r,i,s=n(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e)
;for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function n(e,t){if(null==e)return{};var r,i,s={},n=Object.keys(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||(s[r]=e[r]);return s}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){l(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function l(e,t,r){return t=u(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e){var t=c(e,"string");return"symbol"==typeof t?t:String(t)}function c(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function m(e,t){const r={};for(const t of e)r[t.label]=t;return e.map(({type:e,label:i,properties:s})=>t.convertToTarget(o({[b.TYPE]:e,[b.LABEL]:i},(0,_.crossref)(e,s,r))))}function p(e,t){return e.map(e=>{const r=t.convertToSource(e),{[b.TYPE]:i,[b.LABEL]:n}=r,a=s(r,[b.TYPE,b.LABEL].map(u));return{type:i,label:n,properties:a}})}function h(e){return m(e,v.default)}function f(e){return p(e,v.default)}function d(e){return m(e,y.default)}function g(e){return p(e,y.default)}Object.defineProperty(r,"__esModule",{value:!0}),r.format=g,r.formatBibtex=f,r.parse=d,r.parseBibtex=h;var b=e("./shared.js"),y=i(e("./biblatex.js")),v=i(e("./bibtex.js")),_=e("./crossref.js")},{"./biblatex.js":71,"./bibtex.js":73,"./crossref.js":75,"./shared.js":77}],77:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function s(e){return e?e.normalize("NFKD").replace(p,"").split(m).find(e=>e.length&&!c.has(e.toLowerCase())):""}function n(e){const t=e.split("T")[0].replace(/[?~%]$/,"").split("-"),r=+t[0].replace(/^Y(?=-?\d{4}\d+)/,"").replace(/X/g,"0"),i=+t[1],s=+t[2];return!i||i>20?[r]:s?[r,i,s]:[r,i]}function a(e){if(null==e)return[];if(+e)return[parseInt(e,10)];if(e=e.trim().toLowerCase(),e in d)return[d[e]];const t=e.split(/\s+/);let r,i;return t[0]in d?(r=d[t[0]],i=parseInt(t[1])):t[1]in d&&(r=d[t[1]],i=parseInt(t[0])),i?[r,i]:r?[r]:[]}function o(e,t,r,i){let n="";return e&&e[0]&&(n+=s(e[0].family||e[0].literal)),t&&t["date-parts"]&&t["date-parts"][0]&&(n+=t["date-parts"][0][0]),r?n+=r:i&&(n+=s(i)),n}Object.defineProperty(r,"__esModule",{value:!0}),r.TYPE_KEYS=r.TYPE=r.STANDARD_NUMBERS_PATTERN=r.MONTHS=r.LABEL=r.Converters=void 0,r.formatLabel=o,r.parseDate=n,r.parseMonth=a;var l=e("@citation-js/core"),u=i(e("../config.js"));const c=new Set(["the","a","an"]),m=/(?:<\/?.*?>|[\u0020-\u002F\u003A-\u0040\u005B-\u005E\u0060\u007B-\u007F])+/g,p=/[^\u0020-\u007F]+/g,h=new l.util.Translator([{source:"given",target:"given"},{source:"family",target:"family"},{source:"suffix",target:"suffix"},{source:"prefix",target:"non-dropping-particle"},{source:"family",target:"literal",when:{source:!1,target:{family:!1,given:!1}}}]),f=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],d=(r.TYPE="BibTeX type",r.LABEL="BibTeX label",r.MONTHS={jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12,january:1,february:2,march:3,april:4,may:5,june:6,july:7,august:8,september:9,october:10,november:11,december:12}),g=(r.TYPE_KEYS={bathesis:"Bachelor's thesis",mathesis:"Master's thesis",phdthesis:"PhD thesis",candthesis:"Candidate thesis",techreport:"technical report",resreport:"research report",software:"computer software",datacd:"data cd",audiocd:"audio cd",patent:"patent",patentde:"German patent",patenteu:"European patent",patentfr:"French patent",patentuk:"British patent",patentus:"U.S. patent",patreq:"patent request",patreqde:"German patent request",patreqeu:"European patent request",patreqfr:"French patent request",patrequk:"British patent request",patrequs:"U.S. patent request"},r.STANDARD_NUMBERS_PATTERN=/(^(?:ISAN )?(?:[0-9a-f]{4}-){4}[0-9a-z](?:-(?:[0-9a-f]{4}-){2}[0-9a-z])?$)|(^(?:979-?0-?|M-?)(?:\d{9}|(?=[\d-]{11}$)\d+-\d+-\d)$)|(^ISRN .{1,36}$)|(^(?:ISWC )?T-?\d{9}-?\d$)/i);r.Converters={PICK:{toTarget:(...e)=>e.find(Boolean),toSource:e=>[e]},DATE:{toTarget(e){const t=e.split("/").map(e=>e&&".."!==e?n(e):void 0);return isNaN(t[0][0])?{literal:e}:{"date-parts":t}},toSource(e){if("date-parts"in e)return e["date-parts"].map(e=>e.map(e=>e.toString().padStart(2,"0")).join("-")).join("/")}},YEAR_MONTH:{toTarget:(e,t,r)=>isNaN(+e)?{literal:e}:isNaN(+r)||isNaN(+t)?{"date-parts":[[+e,...a(t)]]}:{"date-parts":[[+e,+t,+r]]},toSource(e){if("date-parts"in e){const[t,r,i]=e["date-parts"][0];return[t.toString(),r?i?`${f[r-1]} ${i}`:r:void 0]}return[]}},EPRINT:{toTarget(e,t){if("pubmed"===t)return e},toSource:e=>[e,"pubmed"]},EVENT_TITLE:{toTarget:(e,t)=>(t&&(e+=" ("+t+")"),e),toSource:e=>e.match(/^(.+)(?: \((.+)\))?$/).slice(1,3)},HOW_PUBLISHED:{toTarget(e){if(e.startsWith("http"))return e}},KEYWORDS:{toTarget:e=>e.join(","),toSource:e=>e.split(",")},LABEL:{toTarget:e=>[e,e],toSource(e,t,r,i,s,n){let a;return a=null===e?"null":void 0===e?"undefined":e.toString().replace(m,""),u.default.format.useIdAsLabel?a:t&&!m.test(t)?t:o(r,i,s,n)||a}},NAMES:{toTarget:e=>e.map(h.convertToTarget),toSource:e=>e.map(h.convertToSource)},PAGES:{toTarget:e=>e.replace(/[]/,"-"),toSource:e=>e.replace("-","--")},STANDARD_NUMBERS:{toTarget:(...e)=>e.find(Boolean),toSource(e){const t=e.toString().match(g);return t?t.slice(1,5):[]}},STATUS:{toSource(e){if(/^(inpreparation|submitted|forthcoming|inpress|prepublished)$/i.test(e))return e}},TITLE:{toTarget:(e,t,r)=>(t&&(e+=": "+t),e),toSource:e=>[e]}}},{"../config.js":59,"@citation-js/core":"citation-js"}],78:[function(e,t,r){"use strict";function i({type:e,label:t,properties:r},i){const s=Object.entries(r).map(([e,t])=>i.listItem.join(`${e} = {${t}},`));return i.entry.join(`@${e}{${t},${i.list.join(s.join(""))}}`)}function s(e,t){const r=e.map(e=>i(e,t)).join("");return t.bibliographyContainer.join(r)}Object.defineProperty(r,"__esModule",{value:!0}),r.format=s},{}],79:[function(e,t,r){"use strict";function i({type:e,label:t,properties:r},i){const s=Object.entries(r).concat([["type",e]]).map(([e,t])=>i.listItem.join(`${e}: ${t}`));return i.entry.join(`[${t}]${i.list.join(s.join(""))}`)}function s(e,t){const r=e.map(e=>i(e,t)).join("\n");return t.bibliographyContainer.join(r)}Object.defineProperty(r,"__esModule",{value:!0}),r.format=s},{}],80:[function(e,t,r){"use strict";function i({type:e,label:t,properties:r}){const i={};for(const e in r){const t=r[e];i[e]=(0,o.format)(e,t)}return{type:e,label:t,properties:i}}function s(e){return(0,a.format)(e).map(i)}function n(e){return(0,a.formatBibtex)(e).map(i)}Object.defineProperty(r,"__esModule",{value:!0}),r.format=s,r.formatBibtex=n;var a=e("../mapping/index.js"),o=e("./value.js")},{"../mapping/index.js":76,"./value.js":82}],81:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=e("@citation-js/core"),s=e("./entries.js"),n=e("./bibtex.js"),a=e("./bibtxt.js");const o=function(e,t){return function(r,s={}){const{type:n,format:a=n||"text"}=s;if(r=e(r),"object"===a)return r;if(i.plugins.dict.has(a))return t(r,i.plugins.dict.get(a),s);throw new RangeError(`Output dictionary "${a}" not available`)}};r.default={bibtex:o(s.formatBibtex,n.format),biblatex:o(s.format,n.format),bibtxt:o(s.formatBibtex,a.format)}},{"./bibtex.js":78,"./bibtxt.js":79,"./entries.js":80,"@citation-js/core":"citation-js"}],82:[function(e,t,r){"use strict";function i(e){return e.normalize("NFKD").replace(p,e=>e in m?m[e]in c.ligatures?m[e]:`\\${m[e]}{}`:"").replace(h,e=>Array.from(e).reduce((e,t)=>`{\\${m[t]} ${e}}`))}function s(e){const t=[];let r=e.split(/<(\/?(?:i|b|sc|sup|sub|span)|span .*?)>/g);return r=r.map((e,r)=>r%2==0?i(e):e in d?(t.push("/"+e.split(" ")[0]),d[e]):e===t[t.length-1]?(t.pop(),"}"):""),r.join("")}function n(e){if(e.family&&!e.prefix&&!e.given&!e.suffix)return e.family.includes(f.list)?e.family:`{${e.family}}`;const t=[""];return e.prefix&&e.family&&(t[0]+=e.prefix+" "),e.family&&(t[0]+=e.family),e.suffix?(t.push(e.suffix),t.push(e.given||"")):t.push(e.given),i(t.join(", ").trim())}function a(e){return s(e).split(/(:\s*)/).map((e,t)=>t%2?e:e.replace(/(?!^)\b[a-z]*[A-Z].*?\b/g,"{$&}")).join("")}function o(e,t){switch(t){case"title":return a(e);case"literal":return s(e.toString());case"name":return n(e);case"verbatim":case"uri":return e.toString();default:return i(e.toString())}}function l(e,t,r){const i=f[r];return e.map(e=>{const r=o(e,t);return r.includes(i)?`{${r}}`:r}).join(i)}function u(e,t){if(!(e in c.fieldTypes))return o(t,"verbatim");const[r,i]=c.fieldTypes[e];return r in f?l(t,i,r):o(t,i)}Object.defineProperty(r,"__esModule",{value:!0}),r.format=u;var c=e("../input/constants.js");const m={};for(const e in c.commands)m[c.commands[e]]=e;for(const e in c.diacritics)m[c.diacritics[e]]=e;for(const e in c.ligatures)m[c.ligatures[e]]=e;const p=/[^a-zA-Z0-9\s!"#%&'()*+,\-./:;=?@[\]{}\u0300-\u0308\u030a-\u030c\u0332\u0323\u0327\u0328\u0361\u0326]/g,h=/.[\u0300-\u0308\u030a-\u030c\u0332\u0323\u0327\u0328\u0361\u0326]+/g,f={separated:",",list:" and "},d={i:"\\textit{",b:"\\textbf{",sc:"\\textsc{",sup:"\\textsuperscript{",sub:"\\textsubscript{",'span style="font-variant:small-caps;"':"\\textsc{",'span class="nocase"':"{"}},{"../input/constants.js":62}],83:[function(e,t,r){arguments[4][53][0].apply(r,arguments)},{"./input":84,"./output":85,dup:53}],84:[function(e,t,r){arguments[4][54][0].apply(r,arguments)},{dup:54}],85:[function(e,t,r){arguments[4][55][0].apply(r,arguments)},{dup:55}],86:[function(e,t,r){var i,s;i=this,s=function(){"use strict";function e(e){return e&&"[object RegExp]"===_.call(e)}function t(t){return t&&"object"==typeof t&&!e(t)&&!Array.isArray(t)}function r(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function i(e){var t=new RegExp("|"+e);return t.exec("").length-1}function s(e){return"("+e+")"}function n(e){if(!e.length)return"(?!)";var t=e.map(function(e){return"(?:"+e+")"}).join("|");return"(?:"+t+")"}function a(t){if("string"==typeof t)return"(?:"+r(t)+")";if(e(t)){if(t.ignoreCase)throw new Error("RegExp /i flag not allowed");if(t.global)throw new Error("RegExp /g flag is implied");if(t.sticky)throw new Error("RegExp /y flag is implied");if(t.multiline)throw new Error("RegExp /m flag is implied");return t.source}throw new Error("Not a pattern: "+t)}function o(e,t){return e.length>t?e:Array(t-e.length+1).join(" ")+e}function l(e,t){for(var r=e.length,i=0;;){var s=e.lastIndexOf("\n",r-1);if(-1===s)break;if(i++,r=s,i===t)break;if(0===r)break}var n=i<t?0:r+1;return e.substring(n).split("\n")}function u(e){for(var r=Object.getOwnPropertyNames(e),i=[],s=0;s<r.length;s++){var n=r[s],a=e[n],o=[].concat(a);if("include"!==n){var l=[];o.forEach(function(e){t(e)?(l.length&&i.push(m(n,l)),i.push(m(n,e)),l=[]):l.push(e)}),l.length&&i.push(m(n,l))}else for(var u=0;u<o.length;u++)i.push({include:o[u]})}return i}function c(e){for(var t=[],r=0;r<e.length;r++){var i=e[r];if(i.include)for(var s=[].concat(i.include),n=0;n<s.length;n++)t.push({include:s[n]});else{if(!i.type)throw new Error("Rule has no type: "+JSON.stringify(i));t.push(m(i.type,i))}}return t}function m(r,i){if(t(i)||(i={match:i}),i.include)throw new Error("Matching rules cannot also include states");var s={defaultType:r,lineBreaks:!!i.error||!!i.fallback,pop:!1,next:null,push:null,error:!1,fallback:!1,value:null,type:null,shouldThrow:!1};for(var n in i)v.call(i,n)&&(s[n]=i[n]);if("string"==typeof s.type&&r!==s.type)throw new Error("Type transform cannot be a string (type '"+s.type+"' for token '"+r+"')");var a=s.match;return s.match=Array.isArray(a)?a:a?[a]:[],s.match.sort(function(t,r){return e(t)&&e(r)?0:e(r)?-1:e(t)?1:r.length-t.length}),s}function p(e){return Array.isArray(e)?c(e):u(e)}function h(t,r){for(var o=null,l=Object.create(null),u=!0,c=null,m=[],p=[],h=0;h<t.length;h++)t[h].fallback&&(u=!1);for(h=0;h<t.length;h++){var f=t[h];if(f.include)throw new Error("Inheritance is not allowed in stateless lexers");if(f.error||f.fallback){if(o)throw!f.fallback==!o.fallback?new Error("Multiple "+(f.fallback?"fallback":"error")+" rules not allowed (for token '"+f.defaultType+"')"):new Error("fallback and error are mutually exclusive (for token '"+f.defaultType+"')");o=f}var d=f.match.slice();if(u)for(;d.length&&"string"==typeof d[0]&&1===d[0].length;){var g=d.shift();l[g.charCodeAt(0)]=f}if(f.pop||f.push||f.next){if(!r)throw new Error("State-switching options are not allowed in stateless lexers (for token '"+f.defaultType+"')");if(f.fallback)throw new Error("State-switching options are not allowed on fallback tokens (for token '"+f.defaultType+"')")}if(0!==d.length){u=!1,m.push(f);for(var b=0;b<d.length;b++){var y=d[b];if(e(y))if(null===c)c=y.unicode;else if(c!==y.unicode&&!1===f.fallback)throw new Error("If one rule is /u then all must be")}var v=n(d.map(a)),_=new RegExp(v);if(_.test(""))throw new Error("RegExp matches empty string: "+_);var A=i(v);if(A>0)throw new Error("RegExp has capture groups: "+_+"\nUse (?:  ) instead");if(!f.lineBreaks&&_.test("\n"))throw new Error("Rule should declare lineBreaks: "+_);p.push(s(v))}}var w=o&&o.fallback,T=x&&!w?"ym":"gm",O=x||w?"":"|";!0===c&&(T+="u");var S=new RegExp(n(p)+O,T);return{regexp:S,groups:m,fast:l,error:o||E}}function f(e){var t=h(p(e));return new A({start:t},"start")}function d(e,t,r){var i=e&&(e.push||e.next);if(i&&!r[i])throw new Error("Missing state '"+i+"' (in token '"+e.defaultType+"' of state '"+t+"')");if(e&&e.pop&&1!=+e.pop)throw new Error("pop must be 1 (in token '"+e.defaultType+"' of state '"+t+"')")}function g(e,t){var r=e.$all?p(e.$all):[];delete e.$all;var i=Object.getOwnPropertyNames(e);t||(t=i[0]);for(var s=Object.create(null),n=0;n<i.length;n++){var a=i[n];s[a]=p(e[a]).concat(r)}for(n=0;n<i.length;n++){a=i[n];for(var o=s[a],l=Object.create(null),u=0;u<o.length;u++){var c=o[u];if(c.include){var m=[u,1];if(c.include!==a&&!l[c.include]){l[c.include]=!0;var f=s[c.include];if(!f)throw new Error("Cannot include nonexistent state '"+c.include+"' (in state '"+a+"')");for(var g=0;g<f.length;g++){var b=f[g];-1===o.indexOf(b)&&m.push(b)}}o.splice.apply(o,m),u--}}}var y=Object.create(null);for(n=0;n<i.length;n++){a=i[n];y[a]=h(s[a],!0)}for(n=0;n<i.length;n++){var v=i[n],_=y[v],x=_.groups;for(u=0;u<x.length;u++)d(x[u],v,y);var E=Object.getOwnPropertyNames(_.fast);for(u=0;u<E.length;u++)d(_.fast[E[u]],v,y)}return new A(y,t)}function b(e){for(var t="undefined"!=typeof Map,r=t?new Map:Object.create(null),i=Object.getOwnPropertyNames(e),s=0;s<i.length;s++){var n=i[s],a=e[n],o=Array.isArray(a)?a:[a];o.forEach(function(e){if("string"!=typeof e)throw new Error("keyword must be string (in keyword '"+n+"')");t?r.set(e,n):r[e]=n})}return function(e){return t?r.get(e):r[e]}}function y(){return this.value}var v=Object.prototype.hasOwnProperty,_=Object.prototype.toString,x="boolean"==typeof(new RegExp).sticky,E=m("error",{lineBreaks:!0,shouldThrow:!0}),A=function(e,t){this.startState=t,this.states=e,this.buffer="",this.stack=[],this.reset()};A.prototype.reset=function(e,t){return this.buffer=e||"",this.index=0,this.line=t?t.line:1,this.col=t?t.col:1,this.queuedToken=t?t.queuedToken:null,this.queuedText=t?t.queuedText:"",this.queuedThrow=t?t.queuedThrow:null,this.setState(t?t.state:this.startState),this.stack=t&&t.stack?t.stack.slice():[],this},A.prototype.save=function(){return{line:this.line,col:this.col,state:this.state,stack:this.stack.slice(),queuedToken:this.queuedToken,queuedText:this.queuedText,queuedThrow:this.queuedThrow}},A.prototype.setState=function(e){if(e&&this.state!==e){this.state=e;var t=this.states[e];this.groups=t.groups,this.error=t.error,this.re=t.regexp,this.fast=t.fast}},A.prototype.popState=function(){this.setState(this.stack.pop())},A.prototype.pushState=function(e){this.stack.push(this.state),this.setState(e)};var w=x?function(e,t){return e.exec(t)}:function(e,t){var r=e.exec(t);return 0===r[0].length?null:r};if(A.prototype._getGroup=function(e){for(var t=this.groups.length,r=0;r<t;r++)if(void 0!==e[r+1])return this.groups[r];throw new Error("Cannot find token type for matched text")},A.prototype.next=function(){var e=this.index;if(this.queuedGroup){var t=this._token(this.queuedGroup,this.queuedText,e);return this.queuedGroup=null,this.queuedText="",t}var r=this.buffer;if(e!==r.length){var i=this.fast[r.charCodeAt(e)];if(i)return this._token(i,r.charAt(e),e);var s=this.re;s.lastIndex=e;var n=w(s,r),a=this.error;if(null==n)return this._token(a,r.slice(e,r.length),e);i=this._getGroup(n);var o=n[0];return a.fallback&&n.index!==e?(this.queuedGroup=i,this.queuedText=o,this._token(a,r.slice(e,n.index),e)):this._token(i,o,e)}},A.prototype._token=function(e,t,r){var i=0;if(e.lineBreaks){var s=/\n/g,n=1;if("\n"===t)i=1;else for(;s.exec(t);)i++,n=s.lastIndex}var a={type:"function"==typeof e.type&&e.type(t)||e.defaultType,value:"function"==typeof e.value?e.value(t):t,text:t,toString:y,offset:r,lineBreaks:i,line:this.line,col:this.col},o=t.length;if(this.index+=o,this.line+=i,0!==i?this.col=o-n+1:this.col+=o,e.shouldThrow){var l=new Error(this.formatError(a,"invalid syntax"));throw l}return e.pop?this.popState():e.push?this.pushState(e.push):e.next&&this.setState(e.next),a},"undefined"!=typeof Symbol&&Symbol.iterator){var T=function(e){this.lexer=e};T.prototype.next=function(){var e=this.lexer.next();return{value:e,done:!e}},T.prototype[Symbol.iterator]=function(){return this},A.prototype[Symbol.iterator]=function(){return new T(this)}}return A.prototype.formatError=function(e,t){if(null==e){var r=this.buffer.slice(this.index);e={text:r,offset:this.index,lineBreaks:-1===r.indexOf("\n")?0:1,line:this.line,col:this.col}}var i=2,s=Math.max(e.line-i,1),n=e.line+i,a=String(n).length,u=l(this.buffer,this.line-e.line+i+1).slice(0,5),c=[];c.push(t+" at line "+e.line+" col "+e.col+":"),c.push("");for(var m=0;m<u.length;m++){var p=u[m],h=s+m;c.push(o(String(h),a)+"  "+p),h===e.line&&c.push(o("",a+e.col+1)+"^")}return c.join("\n")},A.prototype.clone=function(){return new A(this.states,this.state)},A.prototype.has=function(e){return!0},{compile:f,states:g,error:Object.freeze({error:!0}),fallback:Object.freeze({fallback:!0}),keywords:b}},"function"==typeof define&&define.amd?define([],s):"object"==typeof t&&t.exports?t.exports=s():i.moo=s()},{}],87:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getPrefixedEntry=r.getAttributedEntry=void 0;const i=(e,t,r)=>e.replace(/^\s*<[a-z]+/i,`$& data-${t}="${r}"`);r.getAttributedEntry=i;const s=(e,t)=>i(e,"csl-entry-id",t);r.getPrefixedEntry=s},{}],88:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t={}){const{template:r="apa",lang:i,format:s="text",nosort:u=!1}=t,c=t.entry?[].concat(t.entry):e.map(({id:e})=>e);e=n.util.downgradeCsl(e);const m=(0,a.default)(e,r,i,s),p=m.updateItems(c,u);if(t.append||t.prepend){const r=e.reduce((e,t)=>(e[t.id]=t,e),{});m.sys.wrapBibliographyEntry=function(e){const i=r[e];return[l(i,t.prepend),l(i,t.append)]}}const h=m.makeBibliography(),[{bibstart:f,bibend:d},g]=h,b=g.map((e,t)=>(0,o.getPrefixedEntry)(e,p[t]));return t.asEntryArray?b.map((e,t)=>[p[t],e]):f+b.join("")+d}Object.defineProperty(r,"__esModule",{value:!0}),r.default=s;var n=e("@citation-js/core"),a=i(e("./engines.js")),o=e("./attr.js");const l=(e,t)=>"function"==typeof t?t(e):t||""},{"./attr.js":87,"./engines.js":90,"@citation-js/core":"citation-js"}],89:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function s(e){return"object"==typeof e?e:{id:e}}function n(e){return e.citationItems?e:{citationItems:[].concat(e).map(s),properties:{noteIndex:0}}}function a(e){return e?e.map(n):[]}function o(e,t={}){const{template:r="apa",lang:i,format:s="text"}=t,o=e.map(({id:e})=>e),c=t.entry?t.entry:o;e=l.util.downgradeCsl(e);const m=(0,u.default)(e,r,i,s),p=a(t.citationsPre),h=n(c),f=a(t.citationsPost),d=m.rebuildProcessorState([...p,h,...f],s,[]);return d[p.length][2]}Object.defineProperty(r,"__esModule",{value:!0}),r.default=o;var l=e("@citation-js/core"),u=i(e("./engines.js"))},{"./engines.js":90,"@citation-js/core":"citation-js"}],90:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function s(e){if(o.locales.has(e))return o.locales.get(e);const t=e.replace("-","_");return o.locales.has(t)?o.locales.get(t):{}}Object.defineProperty(r,"__esModule",{value:!0}),r.fetchEngine=r.default=void 0;var n=i(e("citeproc")),a=e("./styles.js"),o=e("./locales.js");const l=Symbol.for("proxied"),u=function(e){const t=function(t,r){if(t.sys.wrapBibliographyEntry){const[e,i]=t.sys.wrapBibliographyEntry(this.system_id);r=[e,r,i].join("")}return e.call(this,t,r)};return t[l]=!0,t};for(const e in n.default.Output.Formats){const t=n.default.Output.Formats[e]["@bibliography/entry"];t&&!t[l]&&(n.default.Output.Formats[e]["@bibliography/entry"]=u(t))}const c={},m=function(e,t,r,i,s){const a=`${e}|${t}`;let o;return c[a]instanceof n.default.Engine?(o=c[a],o.sys.retrieveItem=i,o.sys.wrapBibliographyEntry=void 0,o.updateItems([])):o=c[a]=new n.default.Engine({retrieveLocale:s,retrieveItem:i},r,t,!0),o};r.fetchEngine=m;const p=function(e,t,r,i){if(!n.default.Output.Formats[i]||!n.default.Output.Formats[i]["@bibliography/entry"])throw new TypeError(`Cannot find format '${i}'`);const l=e.reduce((e,t)=>(e[t.id]=t,e),{}),u=a.templates.get(a.templates.has(t)?t:"apa");r=o.locales.has(r)?r:void 0;const c=function(e){if(Object.prototype.hasOwnProperty.call(l,e))return l[e];throw new Error(`Cannot find entry with id '${e}'`)},p=m(t,r,u,c,s);return p.setOutputFormat(i),p};r.default=p},{"./locales.js":93,"./styles.js":95,citeproc:96}],91:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var s=e("@citation-js/core"),n=e("./locales.js"),a=e("./styles.js"),o=i(e("./engines.js")),l=i(e("./bibliography.js")),u=i(e("./citation.js"));s.plugins.add("@csl",{output:{bibliography:l.default,citation:u.default},config:{engine:o.default,locales:n.locales,templates:a.templates}})},{"./bibliography.js":88,"./citation.js":89,"./engines.js":90,"./locales.js":93,"./styles.js":95,"@citation-js/core":"citation-js"}],92:[function(e,t,r){t.exports={
"en-US":'<?xml version="1.0" encoding="utf-8"?>\n<locale xmlns="http://purl.org/net/xbiblio/csl" version="1.0" xml:lang="en-US"><info><translator><name>Andrew Dunning</name></translator><translator><name>Sebastian Karcher</name></translator><translator><name>Rintze M. Zelle</name></translator><translator><name>Denis Meier</name></translator><translator><name>Brenton M. Wiernik</name></translator><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2015-10-10T23:31:02+00:00</updated></info><style-options punctuation-in-quote="true"/><date form="text"><date-part name="month" suffix=" "/><date-part name="day" suffix=", "/><date-part name="year"/></date><date form="numeric"><date-part name="month" form="numeric-leading-zeros" suffix="/"/><date-part name="day" form="numeric-leading-zeros" suffix="/"/><date-part name="year"/></date><terms><term name="advance-online-publication">advance online publication</term><term name="album">album</term><term name="audio-recording">audio recording</term><term name="film">film</term><term name="henceforth">henceforth</term><term name="loc-cit">loc. cit.</term> <!-- like ibid., the abbreviated form is the regular form  --><term name="no-place">no place</term><term name="no-place" form="short">n.p.</term><term name="no-publisher">no publisher</term> <!-- sine nomine --><term name="no-publisher" form="short">n.p.</term><term name="on">on</term><term name="op-cit">op. cit.</term> <!-- like ibid., the abbreviated form is the regular form  --><term name="original-work-published">original work published</term><term name="personal-communication">personal communication</term><term name="podcast">podcast</term><term name="podcast-episode">podcast episode</term><term name="preprint">preprint</term><term name="radio-broadcast">radio broadcast</term><term name="radio-series">radio series</term><term name="radio-series-episode">radio series episode</term><term name="special-issue">special issue</term><term name="special-section">special section</term><term name="television-broadcast">television broadcast</term><term name="television-series">television series</term><term name="television-series-episode">television series episode</term><term name="video">video</term><term name="working-paper">working paper</term><term name="accessed">accessed</term><term name="and">and</term><term name="and others">and others</term><term name="anonymous">anonymous</term><term name="anonymous" form="short">anon.</term><term name="at">at</term><term name="available at">available at</term><term name="by">by</term><term name="circa">circa</term><term name="circa" form="short">c.</term><term name="cited">cited</term><term name="edition"><single>edition</single><multiple>editions</multiple></term><term name="edition" form="short">ed.</term><term name="et-al">et al.</term><term name="forthcoming">forthcoming</term><term name="from">from</term><term name="ibid">ibid.</term><term name="in">in</term><term name="in press">in press</term><term name="internet">internet</term><term name="interview">interview</term><term name="letter">letter</term><term name="no date">no date</term><term name="no date" form="short">n.d.</term><term name="online">online</term><term name="presented at">presented at the</term><term name="reference"><single>reference</single><multiple>references</multiple></term><term name="reference" form="short"><single>ref.</single><multiple>refs.</multiple></term><term name="retrieved">retrieved</term><term name="scale">scale</term><term name="version">version</term>\n<!-- LONG ITEM TYPE FORMS --><term name="article">preprint</term><term name="article-journal">journal article</term><term name="article-magazine">magazine article</term><term name="article-newspaper">newspaper article</term><term name="bill">bill</term><term name="book">book</term><term name="broadcast">broadcast</term><term name="chapter">book chapter</term><term name="classic">classic</term><term name="collection">collection</term><term name="dataset">dataset</term><term name="document">document</term><term name="entry">entry</term><term name="entry-dictionary">dictionary entry</term><term name="entry-encyclopedia">encyclopedia entry</term><term name="event">event</term><!-- figure is in the list of locator terms --><term name="graphic">graphic</term><term name="hearing">hearing</term><term name="interview">interview</term><term name="legal_case">legal case</term><term name="legislation">legislation</term><term name="manuscript">manuscript</term><term name="map">map</term><term name="motion_picture">video recording</term><term name="musical_score">musical score</term><term name="pamphlet">pamphlet</term><term name="paper-conference">conference paper</term><term name="patent">patent</term><term name="performance">performance</term><term name="periodical">periodical</term><term name="personal_communication">personal communication</term><term name="post">post</term><term name="post-weblog">blog post</term><term name="regulation">regulation</term><term name="report">report</term><term name="review">review</term><term name="review-book">book review</term><term name="software">software</term><term name="song">audio recording</term><term name="speech">presentation</term><term name="standard">standard</term><term name="thesis">thesis</term><term name="treaty">treaty</term><term name="webpage">webpage</term>\n<!-- SHORT ITEM TYPE FORMS --><term name="article-journal" form="short">journal art.</term><term name="article-magazine" form="short">mag. art.</term><term name="article-newspaper" form="short">newspaper art.</term><term name="book" form="short">bk.</term><term name="chapter" form="short">bk. chap.</term><term name="document" form="short">doc.</term><!-- figure is in the list of locator terms --><term name="graphic" form="short">graph.</term><term name="interview" form="short">interv.</term><term name="manuscript" form="short">MS</term><term name="motion_picture" form="short">video rec.</term><term name="report" form="short">rep.</term><term name="review" form="short">rev.</term><term name="review-book" form="short">bk. rev.</term><term name="song" form="short">audio rec.</term>\n<!-- HISTORICAL ERA TERMS --><term name="ad">AD</term><term name="bc">BC</term><term name="bce">BCE</term><term name="ce">CE</term>\n<!-- PUNCTUATION --><term name="open-quote"></term><term name="close-quote"></term><term name="open-inner-quote"></term><term name="close-inner-quote"></term><term name="page-range-delimiter"></term><term name="colon">:</term><term name="comma">,</term><term name="semicolon">;</term>\n<!-- ORDINALS --><term name="ordinal">th</term><term name="ordinal-01">st</term><term name="ordinal-02">nd</term><term name="ordinal-03">rd</term><term name="ordinal-11">th</term><term name="ordinal-12">th</term><term name="ordinal-13">th</term>\n<!-- LONG ORDINALS --><term name="long-ordinal-01">first</term><term name="long-ordinal-02">second</term><term name="long-ordinal-03">third</term><term name="long-ordinal-04">fourth</term><term name="long-ordinal-05">fifth</term><term name="long-ordinal-06">sixth</term><term name="long-ordinal-07">seventh</term><term name="long-ordinal-08">eighth</term><term name="long-ordinal-09">ninth</term><term name="long-ordinal-10">tenth</term>\n<!-- LONG LOCATOR FORMS --><term name="act">\t\t\t <single>act</single><multiple>acts</multiple>\t\t\t\t\t\t </term><term name="appendix">\t\t\t <single>appendix</single><multiple>appendices</multiple>\t\t\t\t\t\t </term><term name="article-locator">\t\t\t <single>article</single><multiple>articles</multiple>\t\t\t\t\t\t </term><term name="canon">\t\t\t <single>canon</single><multiple>canons</multiple>\t\t\t\t\t\t </term><term name="elocation">\t\t\t <single>location</single><multiple>locations</multiple>\t\t\t\t\t\t </term><term name="equation">\t\t\t <single>equation</single><multiple>equations</multiple>\t\t\t\t\t\t </term><term name="rule">\t\t\t <single>rule</single><multiple>rules</multiple>\t\t\t\t\t\t </term><term name="scene">\t\t\t <single>scene</single><multiple>scenes</multiple>\t\t\t\t\t\t </term><term name="table">\t\t\t <single>table</single><multiple>tables</multiple>\t\t\t\t\t\t </term><term name="timestamp"> <!-- generally blank --><single></single><multiple></multiple>\t\t\t\t\t\t </term><term name="title-locator">\t\t\t <single>title</single><multiple>titles</multiple>\t\t\t\t\t\t </term><term name="book"><single>book</single><multiple>books</multiple></term><term name="chapter"><single>chapter</single><multiple>chapters</multiple></term><term name="column"><single>column</single><multiple>columns</multiple></term><term name="figure"><single>figure</single><multiple>figures</multiple></term><term name="folio"><single>folio</single><multiple>folios</multiple></term><term name="issue"><single>number</single><multiple>numbers</multiple></term><term name="line"><single>line</single><multiple>lines</multiple></term><term name="note"><single>note</single><multiple>notes</multiple></term><term name="opus"><single>opus</single><multiple>opera</multiple></term><term name="page"><single>page</single><multiple>pages</multiple></term><term name="number-of-pages"><single>page</single><multiple>pages</multiple></term><term name="paragraph"><single>paragraph</single><multiple>paragraphs</multiple></term><term name="part"><single>part</single><multiple>parts</multiple></term><term name="section"><single>section</single><multiple>sections</multiple></term><term name="sub-verbo"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name="verse"><single>verse</single><multiple>verses</multiple></term><term name="volume"><single>volume</single><multiple>volumes</multiple></term>\n<!-- SHORT LOCATOR FORMS --><term name="appendix" form="short">\t\t\t <single>app.</single><multiple>apps.</multiple>\t\t\t\t\t\t </term><term name="article-locator" form="short">\t\t\t <single>art.</single><multiple>arts.</multiple></term><term name="elocation" form="short">\t\t\t <single>loc.</single><multiple>locs.</multiple></term><term name="equation" form="short">\t\t\t <single>eq.</single><multiple>eqs.</multiple></term><term name="rule" form="short">\t\t\t <single>r.</single><multiple>rr.</multiple>\t\t\t\t\t\t </term><term name="scene" form="short">\t\t\t <single>sc.</single><multiple>scs.</multiple>\t\t\t\t\t\t </term><term name="table" form="short">\t\t\t <single>tbl.</single><multiple>tbls.</multiple>\t\t\t\t\t\t </term><term name="timestamp" form="short"> <!-- generally blank --><single></single><multiple></multiple>\t\t\t\t\t\t </term><term name="title-locator" form="short">\t\t\t <single>tit.</single><multiple>tits.</multiple></term><term name="book" form="short"><single>bk.</single><multiple>bks.</multiple></term><term name="chapter" form="short"><single>chap.</single><multiple>chaps.</multiple></term><term name="column" form="short"><single>col.</single><multiple>cols.</multiple></term><term name="figure" form="short"><single>fig.</single><multiple>figs.</multiple></term><term name="folio" form="short"><single>fol.</single><multiple>fols.</multiple></term><term name="issue" form="short"><single>no.</single><multiple>nos.</multiple></term><term name="line" form="short"><single>l.</single><multiple>ll.</multiple></term><term name="note" form="short"><single>n.</single><multiple>nn.</multiple></term><term name="opus" form="short"><single>op.</single><multiple>opp.</multiple></term><term name="page" form="short"><single>p.</single><multiple>pp.</multiple></term><term name="number-of-pages" form="short"><single>p.</single><multiple>pp.</multiple></term><term name="paragraph" form="short"><single>para.</single><multiple>paras.</multiple></term><term name="part" form="short"><single>pt.</single><multiple>pts.</multiple></term><term name="section" form="short"><single>sec.</single><multiple>secs.</multiple></term><term name="sub-verbo" form="short"><single>s.v.</single><multiple>s.vv.</multiple></term><term name="verse" form="short"><single>v.</single><multiple>vv.</multiple></term><term name="volume" form="short"><single>vol.</single><multiple>vols.</multiple></term>\n<!-- SYMBOL LOCATOR FORMS --><term name="paragraph" form="symbol"><single></single><multiple></multiple></term><term name="section" form="symbol"><single></single><multiple></multiple></term>\n<!-- LONG ROLE FORMS --><term name="chair"><single>chair</single><multiple>chairs</multiple></term><term name="compiler"><single>compiler</single><multiple>compilers</multiple></term><term name="contributor"><single>contributor</single><multiple>contributors</multiple></term><term name="curator"><single>curator</single><multiple>curators</multiple></term><term name="executive-producer"><single>executive producer</single><multiple>executive producers</multiple></term><term name="guest"><single>guest</single><multiple>guests</multiple></term><term name="host"><single>host</single><multiple>hosts</multiple></term><term name="narrator"><single>narrator</single><multiple>narrators</multiple></term><term name="organizer"><single>organizer</single><multiple>organizers</multiple></term><term name="performer"><single>performer</single><multiple>performers</multiple></term><term name="producer"><single>producer</single><multiple>producers</multiple></term><term name="script-writer"><single>writer</single><multiple>writers</multiple></term><term name="series-creator"><single>series creator</single><multiple>series creators</multiple></term><term name="director"><single>director</single><multiple>directors</multiple></term><term name="editor"><single>editor</single><multiple>editors</multiple></term><term name="editorial-director"><single>editor</single><multiple>editors</multiple></term><term name="illustrator"><single>illustrator</single><multiple>illustrators</multiple></term><term name="translator"><single>translator</single><multiple>translators</multiple></term><term name="editortranslator"><single>editor &amp; translator</single><multiple>editors &amp; translators</multiple></term>\n<!-- SHORT ROLE FORMS --><term name="compiler" form="short"><single>comp.</single><multiple>comps.</multiple></term><term name="contributor" form="short"><single>contrib.</single><multiple>contribs.</multiple></term><term name="curator" form="short"><single>cur.</single><multiple>curs.</multiple></term><term name="executive-producer" form="short"><single>exec. prod.</single><multiple>exec. prods.</multiple></term><term name="narrator" form="short"><single>narr.</single><multiple>narrs.</multiple></term><term name="organizer" form="short"><single>org.</single><multiple>orgs.</multiple></term><term name="performer" form="short"><single>perf.</single><multiple>perfs.</multiple></term><term name="producer" form="short"><single>prod.</single><multiple>prods.</multiple></term><term name="script-writer" form="short"><single>writ.</single><multiple>writs.</multiple></term><term name="series-creator" form="short"><single>cre.</single><multiple>cres.</multiple></term><term name="director" form="short"><single>dir.</single><multiple>dirs.</multiple></term><term name="editor" form="short"><single>ed.</single><multiple>eds.</multiple></term><term name="editorial-director" form="short"><single>ed.</single><multiple>eds.</multiple></term><term name="illustrator" form="short"><single>ill.</single><multiple>ills.</multiple></term><term name="translator" form="short"><single>tran.</single><multiple>trans.</multiple></term><term name="editortranslator" form="short"><single>ed. &amp; tran.</single><multiple>eds. &amp; trans.</multiple></term>\n<!-- VERB ROLE FORMS --><term name="chair" form="verb">chaired by</term><term name="compiler" form="verb">compiled by</term><term name="contributor" form="verb">with</term><term name="curator" form="verb">curated by</term><term name="executive-producer" form="verb">executive produced by</term><term name="guest" form="verb">with guest</term><term name="host" form="verb">hosted by</term><term name="narrator" form="verb">narrated by</term><term name="organizer" form="verb">organized by</term><term name="performer" form="verb">performed by</term><term name="producer" form="verb">produced by</term><term name="script-writer" form="verb">written by</term><term name="series-creator" form="verb">created by</term><term name="container-author" form="verb">by</term><term name="director" form="verb">directed by</term><term name="editor" form="verb">edited by</term><term name="editorial-director" form="verb">edited by</term><term name="illustrator" form="verb">illustrated by</term><term name="interviewer" form="verb">interview by</term><term name="recipient" form="verb">to</term><term name="reviewed-author" form="verb">by</term><term name="translator" form="verb">translated by</term><term name="editortranslator" form="verb">edited &amp; translated by</term>\n<!-- SHORT VERB ROLE FORMS --><term name="compiler" form="verb-short">comp. by</term><term name="contributor" form="verb-short">w.</term><term name="curator" form="verb-short">cur. by</term><term name="executive-producer" form="verb-short">exec. prod. by</term><term name="guest" form="verb-short">w. guest</term><term name="host" form="verb-short">hosted by</term><term name="narrator" form="verb-short">narr. by</term><term name="organizer" form="verb-short">org. by</term><term name="performer" form="verb-short">perf. by</term><term name="producer" form="verb-short">prod. by</term><term name="script-writer" form="verb-short">writ. by</term><term name="series-creator" form="verb-short">cre. by</term><term name="director" form="verb-short">dir. by</term><term name="editor" form="verb-short">ed. by</term><term name="editorial-director" form="verb-short">ed. by</term><term name="illustrator" form="verb-short">illus. by</term><term name="translator" form="verb-short">trans. by</term><term name="editortranslator" form="verb-short">ed. &amp; trans. by</term>\n<!-- LONG MONTH FORMS --><term name="month-01">January</term><term name="month-02">February</term><term name="month-03">March</term><term name="month-04">April</term><term name="month-05">May</term><term name="month-06">June</term><term name="month-07">July</term><term name="month-08">August</term><term name="month-09">September</term><term name="month-10">October</term><term name="month-11">November</term><term name="month-12">December</term>\n<!-- SHORT MONTH FORMS --><term name="month-01" form="short">Jan.</term><term name="month-02" form="short">Feb.</term><term name="month-03" form="short">Mar.</term><term name="month-04" form="short">Apr.</term><term name="month-05" form="short">May</term><term name="month-06" form="short">Jun.</term><term name="month-07" form="short">Jul.</term><term name="month-08" form="short">Aug.</term><term name="month-09" form="short">Sep.</term><term name="month-10" form="short">Oct.</term><term name="month-11" form="short">Nov.</term><term name="month-12" form="short">Dec.</term>\n<!-- SEASONS --><term name="season-01">Spring</term><term name="season-02">Summer</term><term name="season-03">Autumn</term><term name="season-04">Winter</term></terms>\n</locale>\n',
"nl-NL":'<?xml version="1.0" encoding="utf-8"?>\n<locale xmlns="http://purl.org/net/xbiblio/csl" version="1.0" xml:lang="nl-NL"><info><translator><name>Rintze M. Zelle</name><uri>http://twitter.com/rintzezelle</uri></translator><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2017-04-01T12:00:00+00:00</updated></info><style-options punctuation-in-quote="false"/><date form="text"><date-part name="day" suffix=" "/><date-part name="month" suffix=" "/><date-part name="year"/></date><date form="numeric"><date-part name="day" suffix="-" range-delimiter="/"/><date-part name="month" form="numeric" suffix="-" range-delimiter="/"/><date-part name="year"/></date><terms><term name="advance-online-publication">advance online publication</term><term name="album">album</term><term name="audio-recording">audio recording</term><term name="film">film</term><term name="henceforth">henceforth</term><term name="loc-cit">loc. cit.</term> <!-- like ibid., the abbreviated form is the regular form  --><term name="no-place">no place</term><term name="no-place" form="short">n.p.</term><term name="no-publisher">no publisher</term> <!-- sine nomine --><term name="no-publisher" form="short">n.p.</term><term name="on">on</term><term name="op-cit">op. cit.</term> <!-- like ibid., the abbreviated form is the regular form  --><term name="original-work-published">original work published</term><term name="personal-communication">persoonlijke communicatie</term><term name="podcast">podcast</term><term name="podcast-episode">podcast episode</term><term name="preprint">preprint</term><term name="radio-broadcast">radio broadcast</term><term name="radio-series">radio series</term><term name="radio-series-episode">radio series episode</term><term name="special-issue">special issue</term><term name="special-section">special section</term><term name="television-broadcast">television broadcast</term><term name="television-series">television series</term><term name="television-series-episode">television series episode</term><term name="video">video</term><term name="working-paper">working paper</term><term name="accessed">geraadpleegd</term><term name="and">en</term><term name="and others">en anderen</term><term name="anonymous">anoniem</term><term name="anonymous" form="short">anon.</term><term name="at">bij</term><term name="available at">beschikbaar op</term><term name="by">door</term><term name="circa">circa</term><term name="circa" form="short">c.</term><term name="cited">geciteerd</term><term name="edition"><single>druk</single><multiple>drukken</multiple></term><term name="edition" form="short">dr.</term><term name="et-al">e.a.</term><term name="forthcoming">in voorbereiding</term><term name="from">van</term><term name="ibid">ibid.</term><term name="in">in</term><term name="in press">in druk</term><term name="internet">internet</term><term name="interview">interview</term><term name="letter">brief</term><term name="no date">zonder datum</term><term name="no date" form="short">z.d.</term><term name="online">online</term><term name="presented at">gepresenteerd bij</term><term name="reference"><single>referentie</single><multiple>referenties</multiple></term><term name="reference" form="short"><single>ref.</single><multiple>refs.</multiple></term><term name="retrieved">geraadpleegd</term><term name="scale">schaal</term><term name="version">versie</term>\n<!-- LONG ITEM TYPE FORMS --><term name="article">preprint</term><term name="article-journal">journal article</term><term name="article-magazine">magazine article</term><term name="article-newspaper">newspaper article</term><term name="bill">bill</term><term name="book">book</term><term name="broadcast">broadcast</term><term name="chapter">book chapter</term><term name="classic">classic</term><term name="collection">collection</term><term name="dataset">dataset</term><term name="document">document</term><term name="entry">entry</term><term name="entry-dictionary">dictionary entry</term><term name="entry-encyclopedia">encyclopedia entry</term><term name="event">event</term><!-- figure is in the list of locator terms --><term name="graphic">graphic</term><term name="hearing">hearing</term><term name="interview">interview</term><term name="legal_case">legal case</term><term name="legislation">legislation</term><term name="manuscript">manuscript</term><term name="map">map</term><term name="motion_picture">video recording</term><term name="musical_score">musical score</term><term name="pamphlet">pamphlet</term><term name="paper-conference">conference paper</term><term name="patent">patent</term><term name="performance">performance</term><term name="periodical">periodical</term><term name="personal_communication">persoonlijke communicatie</term><term name="post">post</term><term name="post-weblog">blog post</term><term name="regulation">regulation</term><term name="report">report</term><term name="review">review</term><term name="review-book">book review</term><term name="software">software</term><term name="song">audio recording</term><term name="speech">presentation</term><term name="standard">standard</term><term name="thesis">thesis</term><term name="treaty">treaty</term><term name="webpage">webpage</term>\n<!-- SHORT ITEM TYPE FORMS --><term name="article-journal" form="short">journal art.</term><term name="article-magazine" form="short">mag. art.</term><term name="article-newspaper" form="short">newspaper art.</term><term name="book" form="short">bk.</term><term name="chapter" form="short">bk. chap.</term><term name="document" form="short">doc.</term><!-- figure is in the list of locator terms --><term name="graphic" form="short">graph.</term><term name="interview" form="short">interv.</term><term name="manuscript" form="short">MS</term><term name="motion_picture" form="short">video rec.</term><term name="report" form="short">rep.</term><term name="review" form="short">rev.</term><term name="review-book" form="short">bk. rev.</term><term name="song" form="short">audio rec.</term>\n<!-- HISTORICAL ERA TERMS --><term name="ad">AD</term><term name="bc">BC</term><term name="bce">BCE</term><term name="ce">CE</term>\n<!-- PUNCTUATION --><term name="open-quote"></term><term name="close-quote"></term><term name="open-inner-quote"></term><term name="close-inner-quote"></term><term name="page-range-delimiter"></term><term name="colon">:</term><term name="comma">,</term><term name="semicolon">;</term>\n<!-- ORDINALS --><term name="ordinal">ste</term><term name="ordinal-00" match="whole-number">de</term><term name="ordinal-02" match="last-two-digits">de</term><term name="ordinal-03" match="last-two-digits">de</term><term name="ordinal-04" match="last-two-digits">de</term><term name="ordinal-05" match="last-two-digits">de</term><term name="ordinal-06" match="last-two-digits">de</term><term name="ordinal-07" match="last-two-digits">de</term><term name="ordinal-09" match="last-two-digits">de</term><term name="ordinal-10">de</term><term name="ordinal-11">de</term><term name="ordinal-12">de</term><term name="ordinal-13">de</term><term name="ordinal-14">de</term><term name="ordinal-15">de</term><term name="ordinal-16">de</term><term name="ordinal-17">de</term><term name="ordinal-18">de</term><term name="ordinal-19">de</term>\n<!-- LONG ORDINALS --><term name="long-ordinal-01">eerste</term><term name="long-ordinal-02">tweede</term><term name="long-ordinal-03">derde</term><term name="long-ordinal-04">vierde</term><term name="long-ordinal-05">vijfde</term><term name="long-ordinal-06">zesde</term><term name="long-ordinal-07">zevende</term><term name="long-ordinal-08">achtste</term><term name="long-ordinal-09">negende</term><term name="long-ordinal-10">tiende</term>\n<!-- LONG LOCATOR FORMS --><term name="act">\t\t\t <single>act</single><multiple>acts</multiple>\t\t\t\t\t\t </term><term name="appendix">\t\t\t <single>appendix</single><multiple>appendices</multiple>\t\t\t\t\t\t </term><term name="article-locator">\t\t\t <single>article</single><multiple>articles</multiple>\t\t\t\t\t\t </term><term name="canon">\t\t\t <single>canon</single><multiple>canons</multiple>\t\t\t\t\t\t </term><term name="elocation">\t\t\t <single>location</single><multiple>locations</multiple>\t\t\t\t\t\t </term><term name="equation">\t\t\t <single>equation</single><multiple>equations</multiple>\t\t\t\t\t\t </term><term name="rule">\t\t\t <single>rule</single><multiple>rules</multiple>\t\t\t\t\t\t </term><term name="scene">\t\t\t <single>scene</single><multiple>scenes</multiple>\t\t\t\t\t\t </term><term name="table">\t\t\t <single>table</single><multiple>tables</multiple>\t\t\t\t\t\t </term><term name="timestamp"> <!-- generally blank --><single></single><multiple></multiple>\t\t\t\t\t\t </term><term name="title-locator">\t\t\t <single>title</single><multiple>titles</multiple>\t\t\t\t\t\t </term><term name="book"><single>boek</single><multiple>boeken</multiple></term><term name="chapter"><single>hoofdstuk</single><multiple>hoofdstukken</multiple></term><term name="column"><single>column</single><multiple>columns</multiple></term><term name="figure"><single>figuur</single><multiple>figuren</multiple></term><term name="folio"><single>folio</single><multiple>folio\'s</multiple></term><term name="issue"><single>nummer</single><multiple>nummers</multiple></term><term name="line"><single>regel</single><multiple>regels</multiple></term><term name="note"><single>aantekening</single><multiple>aantekeningen</multiple></term><term name="opus"><single>opus</single><multiple>opera</multiple></term><term name="page"><single>pagina</single><multiple>pagina\'s</multiple></term><term name="number-of-pages"><single>pagina</single><multiple>pagina\'s</multiple></term><term name="paragraph"><single>paragraaf</single><multiple>paragrafen</multiple></term><term name="part"><single>deel</single><multiple>delen</multiple></term><term name="section"><single>sectie</single><multiple>secties</multiple></term><term name="sub-verbo"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name="verse"><single>vers</single><multiple>versen</multiple></term><term name="volume"><single>volume</single><multiple>volumes</multiple></term>\n<!-- SHORT LOCATOR FORMS --><term name="appendix">\t\t\t <single>app.</single><multiple>apps.</multiple>\t\t\t\t\t\t </term><term name="article-locator">\t\t\t <single>art.</single><multiple>arts.</multiple></term><term name="elocation">\t\t\t <single>loc.</single><multiple>locs.</multiple></term><term name="equation">\t\t\t <single>eq.</single><multiple>eqs.</multiple></term><term name="rule">\t\t\t <single>r.</single><multiple>rr.</multiple>\t\t\t\t\t\t </term><term name="scene">\t\t\t <single>sc.</single><multiple>scs.</multiple>\t\t\t\t\t\t </term><term name="table">\t\t\t <single>tbl.</single><multiple>tbls.</multiple>\t\t\t\t\t\t </term><term name="timestamp"> <!-- generally blank --><single></single><multiple></multiple>\t\t\t\t\t\t </term><term name="title-locator">\t\t\t <single>tit.</single><multiple>tits.</multiple></term><term name="book" form="short">bk.</term><term name="chapter" form="short">hfdst.</term><term name="column" form="short">col.</term><term name="figure" form="short">fig.</term><term name="folio" form="short">f.</term><term name="issue" form="short">nr.</term><term name="line" form="short">l.</term><term name="note" form="short">n.</term><term name="opus" form="short">op.</term><term name="page" form="short"><single>p.</single><multiple>pp.</multiple></term><term name="number-of-pages" form="short"><single>p.</single><multiple>pp.</multiple></term><term name="paragraph" form="short">par.</term><term name="part" form="short">deel</term><term name="section" form="short">sec.</term><term name="sub-verbo" form="short"><single>s.v.</single><multiple>s.vv.</multiple></term><term name="verse" form="short"><single>v.</single><multiple>vv.</multiple></term><term name="volume" form="short"><single>vol.</single><multiple>vols.</multiple></term>\n<!-- SYMBOL LOCATOR FORMS --><term name="paragraph" form="symbol"><single></single><multiple></multiple></term><term name="section" form="symbol"><single></single><multiple></multiple></term>\n<!-- LONG ROLE FORMS --><term name="chair"><single>chair</single><multiple>chairs</multiple></term><term name="compiler"><single>compiler</single><multiple>compilers</multiple></term><term name="contributor"><single>contributor</single><multiple>contributors</multiple></term><term name="curator"><single>curator</single><multiple>curators</multiple></term><term name="executive-producer"><single>executive producer</single><multiple>executive producers</multiple></term><term name="guest"><single>guest</single><multiple>guests</multiple></term><term name="host"><single>host</single><multiple>hosts</multiple></term><term name="narrator"><single>narrator</single><multiple>narrators</multiple></term><term name="organizer"><single>organizer</single><multiple>organizers</multiple></term><term name="performer"><single>performer</single><multiple>performers</multiple></term><term name="producer"><single>producer</single><multiple>producers</multiple></term><term name="script-writer"><single>writer</single><multiple>writers</multiple></term><term name="series-creator"><single>series creator</single><multiple>series creators</multiple></term><term name="director"><single>regisseur</single><multiple>regisseurs</multiple></term><term name="editor"><single>redacteur</single><multiple>redacteuren</multiple></term><term name="editorial-director"><single>redacteur</single><multiple>redacteuren</multiple></term><term name="illustrator"><single>illustrator</single><multiple>illustrators</multiple></term><term name="translator"><single>vertaler</single><multiple>vertalers</multiple></term><term name="editortranslator"><single>redacteur &amp; vertaler</single><multiple>redacteuren &amp; vertalers</multiple></term>\n<!-- SHORT ROLE FORMS --><term name="compiler" form="short"><single>comp.</single><multiple>comps.</multiple></term><term name="contributor" form="short"><single>contrib.</single><multiple>contribs.</multiple></term><term name="curator" form="short"><single>cur.</single><multiple>curs.</multiple></term><term name="executive-producer" form="short"><single>exec. prod.</single><multiple>exec. prods.</multiple></term><term name="narrator" form="short"><single>narr.</single><multiple>narrs.</multiple></term><term name="organizer" form="short"><single>org.</single><multiple>orgs.</multiple></term><term name="performer" form="short"><single>perf.</single><multiple>perfs.</multiple></term><term name="producer" form="short"><single>prod.</single><multiple>prods.</multiple></term><term name="script-writer" form="short"><single>writ.</single><multiple>writs.</multiple></term><term name="series-creator" form="short"><single>cre.</single><multiple>cres.</multiple></term><term name="director" form="short"><single>reg.</single><multiple>reg.</multiple></term><term name="editor" form="short"><single>red.</single><multiple>red.</multiple></term><term name="editorial-director" form="short"><single>red.</single><multiple>red.</multiple></term><term name="illustrator" form="short"><single>ill.</single><multiple>ill.</multiple></term><term name="translator" form="short"><single>vert.</single><multiple>vert.</multiple></term><term name="editortranslator" form="short"><single>red. &amp; vert.</single><multiple>red. &amp; vert.</multiple></term>\n<!-- VERB ROLE FORMS --><term name="chair" form="verb">chaired by</term><term name="compiler" form="verb">compiled by</term><term name="contributor" form="verb">with</term><term name="curator" form="verb">curated by</term><term name="executive-producer" form="verb">executive produced by</term><term name="guest" form="verb">with guest</term><term name="host" form="verb">hosted by</term><term name="narrator" form="verb">narrated by</term><term name="organizer" form="verb">organized by</term><term name="performer" form="verb">performed by</term><term name="producer" form="verb">produced by</term><term name="script-writer" form="verb">written by</term><term name="series-creator" form="verb">created by</term><term name="container-author" form="verb">door</term><term name="director" form="verb">geregisseerd door</term><term name="editor" form="verb">onder redactie van</term><term name="editorial-director" form="verb">onder redactie van</term><term name="illustrator" form="verb">gellustreerd door</term><term name="interviewer" form="verb">genterviewd door</term><term name="recipient" form="verb">ontvangen door</term><term name="reviewed-author" form="verb">door</term><term name="translator" form="verb">vertaald door</term><term name="editortranslator" form="verb">bewerkt &amp; vertaald door</term>\n<!-- SHORT VERB ROLE FORMS --><term name="compiler" form="verb-short">comp. by</term><term name="contributor" form="verb-short">w.</term><term name="curator" form="verb-short">cur. by</term><term name="executive-producer" form="verb-short">exec. prod. by</term><term name="guest" form="verb-short">w. guest</term><term name="host" form="verb-short">hosted by</term><term name="narrator" form="verb-short">narr. by</term><term name="organizer" form="verb-short">org. by</term><term name="performer" form="verb-short">perf. by</term><term name="producer" form="verb-short">prod. by</term><term name="script-writer" form="verb-short">writ. by</term><term name="series-creator" form="verb-short">cre. by</term><term name="director" form="verb-short">geregisseerd door</term><term name="editor" form="verb-short">onder redactie van</term><term name="editorial-director" form="verb-short">bewerkt door</term><term name="illustrator" form="verb-short">gellustreerd door</term><term name="translator" form="verb-short">vertaald door</term><term name="editortranslator" form="verb-short">bewerkt &amp; vertaald door</term>\n<!-- LONG MONTH FORMS --><term name="month-01">januari</term><term name="month-02">februari</term><term name="month-03">maart</term><term name="month-04">april</term><term name="month-05">mei</term><term name="month-06">juni</term><term name="month-07">juli</term><term name="month-08">augustus</term><term name="month-09">september</term><term name="month-10">oktober</term><term name="month-11">november</term><term name="month-12">december</term>\n<!-- SHORT MONTH FORMS --><term name="month-01" form="short">jan.</term><term name="month-02" form="short">feb.</term><term name="month-03" form="short">mrt.</term><term name="month-04" form="short">apr.</term><term name="month-05" form="short">mei</term><term name="month-06" form="short">jun.</term><term name="month-07" form="short">jul.</term><term name="month-08" form="short">aug.</term><term name="month-09" form="short">sep.</term><term name="month-10" form="short">okt.</term><term name="month-11" form="short">nov.</term><term name="month-12" form="short">dec.</term>\n<!-- SEASONS --><term name="season-01">lente</term><term name="season-02">zomer</term><term name="season-03">herst</term><term name="season-04">winter</term></terms>\n</locale>\n',
"fr-FR":'<?xml version="1.0" encoding="utf-8"?>\n<locale xmlns="http://purl.org/net/xbiblio/csl" version="1.0" xml:lang="fr-FR"><info><translator><name>Grgoire Colly</name></translator><translator><name>Collectif Zotero francophone</name></translator><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2012-07-04T23:31:02+00:00</updated></info><style-options punctuation-in-quote="false" limit-day-ordinals-to-day-1="true"/><date form="text"><date-part name="day" suffix=" "/><date-part name="month" suffix=" "/><date-part name="year"/></date><date form="numeric"><date-part name="day" form="numeric-leading-zeros" suffix="/"/><date-part name="month" form="numeric-leading-zeros" suffix="/"/><date-part name="year"/></date><terms><term name="advance-online-publication">publication en ligne anticipe</term><term name="album">album</term><term name="audio-recording">enregistrement audio</term><term name="film">film</term><term name="henceforth">dsormais</term><term name="loc-cit">loc.&#160;cit.</term> <!-- like ibid., the abbreviated form is the regular form  --><term name="no-place">sans lieu</term><term name="no-place" form="short">s.&#160;l.</term><term name="no-publisher">sans nom</term> <!-- sine nomine --><term name="no-publisher" form="short">s.&#160;n.</term><term name="on">sur</term><term name="op-cit">op.&#160;cit.</term> <!-- like ibid., the abbreviated form is the regular form  --><term name="original-work-published">dition originale</term><term name="personal-communication">communication personnelle</term><term name="podcast">podcast</term><term name="podcast-episode">pisode de podcast</term><term name="preprint">prpublication</term><term name="radio-broadcast">mission de radio</term><term name="radio-series">srie radiophonique</term><term name="radio-series-episode">pisode de srie radiophonique</term><term name="special-issue">numro spcial</term><term name="special-section">section spciale</term><term name="television-broadcast">mission de tlvision</term><term name="television-series">srie tlvise</term><term name="television-series-episode">pisode de srie tlvise</term><term name="video">vido</term><term name="working-paper">document de travail</term><term name="accessed">consult le</term><term name="and">et</term><term name="and others">et autres</term><term name="anonymous">anonyme</term><term name="anonymous" form="short">anon.</term><term name="at">sur</term><term name="available at">disponible sur</term><term name="by">par</term><term name="circa">vers</term><term name="circa" form="short">v.</term><term name="cited">cit</term><term name="edition" gender="feminine"><single>dition</single><multiple>ditions</multiple></term><term name="edition" form="short">d.</term><term name="et-al">et al.</term><term name="forthcoming">  paratre</term><term name="from">  l\'adresse</term><term name="ibid">ibid.</term><term name="in">in</term><term name="in press">sous presse</term><term name="internet">Internet</term><term name="interview">entretien</term><term name="letter">lettre</term><term name="no date">sans date</term><term name="no date" form="short">s.&#160;d.</term><term name="online">en ligne</term><term name="presented at">prsent  </term><term name="reference"><single>rfrence</single><multiple>rfrences</multiple></term><term name="reference" form="short"><single>rf.</single><multiple>rf.</multiple></term><term name="retrieved">consult</term><term name="scale">chelle</term><term name="version">version</term>\n<!-- LONG ITEM TYPE FORMS --><term name="article">article</term><term name="article-journal">article de revue</term><term name="article-magazine">article de magazine</term><term name="article-newspaper">article de presse</term><term name="bill">projet de loi</term><term name="book">livre</term><term name="broadcast">mission</term><term name="chapter">chapitre de livre</term><term name="classic">classique</term><term name="collection">collection</term><term name="dataset">jeu de donnes</term><term name="document">document</term><term name="entry">entre</term><term name="entry-dictionary">entre de dictionnaire</term><term name="entry-encyclopedia">entre d\'encyclopdie</term><term name="event">vnement</term><!-- figure is in the list of locator terms --><term name="graphic">image</term><term name="hearing">audience</term><term name="interview">interview</term><term name="legal_case">affaire</term><term name="legislation">acte juridique</term><term name="manuscript">manuscrit</term><term name="map">carte</term><term name="motion_picture">enregistrement vido</term><term name="musical_score">partition</term><term name="pamphlet">pamphlet</term><term name="paper-conference">article de colloque</term><term name="patent">brevet</term><term name="performance">interprtation</term><term name="periodical">priodique</term><term name="personal_communication">communication personnelle</term><term name="post">billet</term><term name="post-weblog">billet de blog</term><term name="regulation">rglement</term><term name="report">rapport</term><term name="review">recension</term><term name="review-book">recension de livre</term><term name="software">logiciel</term><term name="song">chanson</term><term name="speech">prsentation</term><term name="standard">norme</term><term name="thesis">thse</term><term name="treaty">trait</term><term name="webpage">page web</term>\n<!-- SHORT ITEM TYPE FORMS --><term name="article-journal" form="short">art. de revue</term><term name="article-magazine" form="short">art. de mag.</term><term name="article-newspaper" form="short">art. de presse</term><term name="book" form="short">liv.</term><term name="chapter" form="short">chap. de liv.</term><term name="document" form="short">doc.</term><!-- figure is in the list of locator terms --><term name="graphic" form="short">graph.</term><term name="interview" form="short">interv.</term><term name="manuscript" form="short">ms</term><term name="motion_picture" form="short">enr. vido</term><term name="report" form="short">rap.</term><term name="review" form="short">recens.</term><term name="review-book" form="short">recens. de liv.</term><term name="song" form="short">enr. audio</term>\n<!-- HISTORICAL ERA TERMS --><term name="ad">apr. J.-C.</term><term name="bc">av. J.-C.</term><term name="bce">av. n. .</term><term name="ce">n. .</term>\n<!-- PUNCTUATION --><term name="open-quote">&#160;</term><term name="close-quote">&#160;</term><term name="open-inner-quote"></term><term name="close-inner-quote"></term><term name="page-range-delimiter">&#8209;</term> <!-- non-breaking hyphen --><term name="colon">&#160;:</term><term name="comma">,</term><term name="semicolon">&#160;;</term>\n<!-- ORDINALS --><term name="ordinal"></term><term name="ordinal-01" gender-form="feminine" match="whole-number"></term><term name="ordinal-01" gender-form="masculine" match="whole-number"></term>\n<!-- LONG ORDINALS --><term name="long-ordinal-01">premier</term><term name="long-ordinal-02">deuxime</term><term name="long-ordinal-03">troisime</term><term name="long-ordinal-04">quatrime</term><term name="long-ordinal-05">cinquime</term><term name="long-ordinal-06">sixime</term><term name="long-ordinal-07">septime</term><term name="long-ordinal-08">huitime</term><term name="long-ordinal-09">neuvime</term><term name="long-ordinal-10">dixime</term>\n<!-- LONG LOCATOR FORMS --><term name="act"><single>acte</single><multiple>actes</multiple></term><term name="appendix"><single>appendice</single><multiple>appendices</multiple></term><term name="article-locator"><single>article</single><multiple>articles</multiple></term><term name="canon"><single>canon</single><multiple>canons</multiple></term><term name="elocation"><single>emplacement</single><multiple>emplacements</multiple></term><term name="equation"><single>quation</single><multiple>quations</multiple></term><term name="rule"><single>rgle</single><multiple>rgles</multiple></term><term name="scene"><single>scne</single><multiple>scnes</multiple></term><term name="table"><single>tableau</single><multiple>tableaux</multiple></term><term name="timestamp"> <!-- generally blank --><single></single><multiple></multiple></term><term name="title-locator"><single>titre</single><multiple>titres</multiple></term><term name="book"><single>livre</single><multiple>livres</multiple></term><term name="chapter"><single>chapitre</single><multiple>chapitres</multiple></term><term name="column"><single>colonne</single><multiple>colonnes</multiple></term><term name="figure"><single>figure</single><multiple>figures</multiple></term><term name="folio"><single>folio</single><multiple>folios</multiple></term><term name="issue" gender="masculine"><single>numro</single><multiple>numros</multiple></term><term name="line"><single>ligne</single><multiple>lignes</multiple></term><term name="note"><single>note</single><multiple>notes</multiple></term><term name="opus"><single>opus</single><multiple>opus</multiple></term><term name="page"><single>page</single><multiple>pages</multiple></term><term name="number-of-pages"><single>page</single><multiple>pages</multiple></term><term name="paragraph"><single>paragraphe</single><multiple>paragraphes</multiple></term><term name="part"><single>partie</single><multiple>parties</multiple></term><term name="section"><single>section</single><multiple>sections</multiple></term><term name="sub-verbo"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name="verse"><single>verset</single><multiple>versets</multiple></term><term name="volume" gender="masculine"><single>volume</single><multiple>volumes</multiple></term>\n<!-- SHORT LOCATOR FORMS --><term name="appendix"><single>append.</single><multiple>append.</multiple></term><term name="article-locator"><single>art.</single><multiple>art.</multiple></term><term name="elocation"><single>emplact</single><multiple>emplact</multiple></term><term name="equation"><single>eq.</single><multiple>eq.</multiple></term><term name="rule"><single>rgle</single><multiple>rgles</multiple></term><term name="scene"><single>sc.</single><multiple>sc.</multiple></term><term name="table"><single>tab.</single><multiple>tab.</multiple></term><term name="timestamp"> <!-- generally blank --><single></single><multiple></multiple></term><term name="title-locator"><single>tit.</single><multiple>tit.</multiple></term><term name="book" form="short">liv.</term><term name="chapter" form="short">chap.</term><term name="column" form="short">col.</term><term name="figure" form="short">fig.</term><term name="folio" form="short"><single>f</single><multiple>f</multiple></term><term name="issue" form="short"><single>n</single><multiple>n</multiple></term><term name="line" form="short">l.</term><term name="note" form="short">n.</term><term name="opus" form="short">op.</term><term name="page" form="short"><single>p.</single><multiple>p.</multiple></term><term name="number-of-pages" form="short"><single>p.</single><multiple>p.</multiple></term><term name="paragraph" form="short">paragr.</term><term name="part" form="short">part.</term><term name="section" form="short">sect.</term><term name="sub-verbo" form="short"><single>s.&#160;v.</single><multiple>s.&#160;vv.</multiple></term><term name="verse" form="short"><single>v.</single><multiple>v.</multiple></term><term name="volume" form="short"><single>vol.</single><multiple>vol.</multiple></term>\n<!-- SYMBOL LOCATOR FORMS --><term name="paragraph" form="symbol"><single></single><multiple></multiple></term><term name="section" form="symbol"><single></single><multiple></multiple></term>\n<!-- LONG ROLE FORMS --><term name="chair"><single>prsident</single><multiple>prsidents</multiple></term><term name="compiler"><single>compilateur</single><multiple>compilateurs</multiple></term><term name="contributor"><single>contributeur</single><multiple>contributeurs</multiple></term><term name="curator"><single>commissaire</single><multiple>commissaires</multiple></term><term name="executive-producer"><single>producteur excutif</single><multiple>producteurs excutifs</multiple></term><term name="guest"><single>invit</single><multiple>invits</multiple></term><term name="host"><single>hte</single><multiple>htes</multiple></term><term name="narrator"><single>narrateur</single><multiple>narrateurs</multiple></term><term name="organizer"><single>organisateur</single><multiple>organisateurs</multiple></term><term name="performer"><single>interprte</single><multiple>interprtes</multiple></term><term name="producer"><single>producteur</single><multiple>producteurs</multiple></term><term name="script-writer"><single>scnariste</single><multiple>scnaristes</multiple></term><term name="series-creator"><single>crateur de srie</single><multiple>crateurs de srie</multiple></term><term name="director"><single>ralisateur</single><multiple>ralisateurs</multiple></term><term name="editor"><single>diteur</single><multiple>diteurs</multiple></term><term name="editorial-director"><single>directeur</single><multiple>directeurs</multiple></term><term name="illustrator"><single>illustrateur</single><multiple>illustrateurs</multiple></term><term name="translator"><single>traducteur</single><multiple>traducteurs</multiple></term><term name="editortranslator"><single>diteur et traducteur</single><multiple>diteurs et traducteurs</multiple></term>\n<!-- SHORT ROLE FORMS --><term name="compiler" form="short"><single>compil.</single><multiple>compil.</multiple></term><term name="contributor" form="short"><single>contrib.</single><multiple>contrib.</multiple></term><term name="curator" form="short"><single>commiss.</single><multiple>commiss.</multiple></term><term name="executive-producer" form="short"><single>prod. ex.</single><multiple>prod. ex.</multiple></term><term name="narrator" form="short"><single>narr.</single><multiple>narr.</multiple></term><term name="organizer" form="short"><single>org.</single><multiple>org.</multiple></term><term name="performer" form="short"><single>interpr.</single><multiple>interpr.</multiple></term><term name="producer" form="short"><single>prod.</single><multiple>prod.</multiple></term><term name="script-writer" form="short"><single>scnar.</single><multiple>scnar.</multiple></term><term name="series-creator" form="short"><single>crat.</single><multiple>crat.</multiple></term><term name="director" form="short"><single>ral.</single><multiple>ral.</multiple></term><term name="editor" form="short"><single>d.</single><multiple>d.</multiple></term><term name="editorial-director" form="short"><single>dir.</single><multiple>dir.</multiple></term><term name="illustrator" form="short"><single>ill.</single><multiple>ill.</multiple></term><term name="translator" form="short"><single>trad.</single><multiple>trad.</multiple></term><term name="editortranslator" form="short"><single>d. et trad.</single><multiple>d. et trad.</multiple></term>\n<!-- VERB ROLE FORMS --><term name="chair" form="verb">prsid par</term><term name="compiler" form="verb">compil par</term><term name="contributor" form="verb">avec</term><term name="curator" form="verb">organis par</term><term name="executive-producer" form="verb">production excutive par</term><term name="guest" form="verb">avec pour invit</term><term name="host" form="verb">anim par</term><term name="narrator" form="verb">lu par</term><term name="organizer" form="verb">organis par</term><term name="performer" form="verb">interprt par</term><term name="producer" form="verb">produit par</term><term name="script-writer" form="verb">scnario de</term><term name="series-creator" form="verb">cr par</term><term name="container-author" form="verb">par</term><term name="director" form="verb">ralis par</term><term name="editor" form="verb">dit par</term><term name="editorial-director" form="verb">sous la direction de</term><term name="illustrator" form="verb">illustr par</term><term name="interviewer" form="verb">entretien ralis par</term><term name="recipient" form="verb"> </term><term name="reviewed-author" form="verb">par</term><term name="translator" form="verb">traduit par</term><term name="editortranslator" form="verb">dit et traduit par</term>\n<!-- SHORT VERB ROLE FORMS --><term name="compiler" form="verb-short">compil. par</term><term name="contributor" form="verb-short">ac</term><term name="curator" form="verb-short">org. par</term><term name="executive-producer" form="verb-short">prod. ex. par</term><term name="guest" form="verb-short">ac pr inv.</term><term name="host" form="verb-short">anim. par</term><term name="narrator" form="verb-short">lu par</term><term name="organizer" form="verb-short">org. par</term><term name="performer" form="verb-short">interpr. par</term><term name="producer" form="verb-short">prod. par</term><term name="script-writer" form="verb-short">scnar. de</term><term name="series-creator" form="verb-short">cr par</term><term name="director" form="verb-short">ral. par</term><term name="editor" form="verb-short">d. par</term><term name="editorial-director" form="verb-short">ss la dir. de</term><term name="illustrator" form="verb-short">ill. par</term><term name="translator" form="verb-short">trad. par</term><term name="editortranslator" form="verb-short">d. et trad. par</term>\n<!-- LONG MONTH FORMS --><term name="month-01" gender="masculine">janvier</term><term name="month-02" gender="masculine">fvrier</term><term name="month-03" gender="masculine">mars</term><term name="month-04" gender="masculine">avril</term><term name="month-05" gender="masculine">mai</term><term name="month-06" gender="masculine">juin</term><term name="month-07" gender="masculine">juillet</term><term name="month-08" gender="masculine">aot</term><term name="month-09" gender="masculine">septembre</term><term name="month-10" gender="masculine">octobre</term><term name="month-11" gender="masculine">novembre</term><term name="month-12" gender="masculine">dcembre</term>\n<!-- SHORT MONTH FORMS --><term name="month-01" form="short">janv.</term><term name="month-02" form="short">fvr.</term><term name="month-03" form="short">mars</term><term name="month-04" form="short">avr.</term><term name="month-05" form="short">mai</term><term name="month-06" form="short">juin</term><term name="month-07" form="short">juill.</term><term name="month-08" form="short">aot</term><term name="month-09" form="short">sept.</term><term name="month-10" form="short">oct.</term><term name="month-11" form="short">nov.</term><term name="month-12" form="short">dc.</term>\n<!-- SEASONS --><term name="season-01">printemps</term><term name="season-02">t</term><term name="season-03">automne</term><term name="season-04">hiver</term></terms>\n</locale>\n',
"de-DE":'<?xml version="1.0" encoding="utf-8"?>\n<locale xmlns="http://purl.org/net/xbiblio/csl" version="1.0" xml:lang="de-DE"><info><translator><name>Till A. Heilmann</name></translator><translator><name>Ulrich</name></translator><translator><name>Rintze M. Zelle</name></translator><translator><name>Sebastian Karcher</name></translator><translator><name>jakov</name></translator><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2012-07-04T23:31:02+00:00</updated></info><style-options punctuation-in-quote="false"/><date form="text"><date-part name="day" form="ordinal" suffix=" "/><date-part name="month" suffix=" "/><date-part name="year"/></date><date form="numeric"><date-part name="day" form="numeric-leading-zeros" suffix="."/><date-part name="month" form="numeric-leading-zeros" suffix="."/><date-part name="year"/></date><terms><term name="advance-online-publication">advance online publication</term><term name="album">album</term><term name="audio-recording">audio recording</term><term name="film">film</term><term name="henceforth">henceforth</term><term name="loc-cit">loc. cit.</term> <!-- like ibid., the abbreviated form is the regular form  --><term name="no-place">no place</term><term name="no-place" form="short">n.p.</term><term name="no-publisher">no publisher</term> <!-- sine nomine --><term name="no-publisher" form="short">n.p.</term><term name="on">on</term><term name="op-cit">op. cit.</term> <!-- like ibid., the abbreviated form is the regular form  --><term name="original-work-published">original work published</term><term name="personal-communication">persnliche Kommunikation</term><term name="podcast">podcast</term><term name="podcast-episode">podcast episode</term><term name="preprint">preprint</term><term name="radio-broadcast">radio broadcast</term><term name="radio-series">radio series</term><term name="radio-series-episode">radio series episode</term><term name="special-issue">special issue</term><term name="special-section">special section</term><term name="television-broadcast">television broadcast</term><term name="television-series">television series</term><term name="television-series-episode">television series episode</term><term name="video">video</term><term name="working-paper">working paper</term><term name="accessed">zugegriffen</term><term name="and">und</term><term name="and others">und andere</term><term name="anonymous">ohne Autor</term><term name="anonymous" form="short">o.&#160;A.</term><term name="at">auf</term><term name="available at">verfgbar unter</term><term name="by">von</term><term name="circa">circa</term><term name="circa" form="short">ca.</term><term name="cited">zitiert</term><term name="edition"><single>Auflage</single><multiple>Auflagen</multiple></term><term name="edition" form="short">Aufl.</term><term name="et-al">u.&#160;a.</term><term name="forthcoming">i.&#160;E.</term><term name="from">von</term><term name="ibid">ebd.</term><term name="in">in</term><term name="in press">im Druck</term><term name="internet">Internet</term><term name="interview">Interview</term><term name="letter">Brief</term><term name="no date">ohne Datum</term><term name="no date" form="short">o.&#160;J.</term><term name="online">online</term><term name="presented at">gehalten auf der</term><term name="reference"><single>Referenz</single><multiple>Referenzen</multiple></term><term name="reference" form="short"><single>Ref.</single><multiple>Ref.</multiple></term><term name="retrieved">abgerufen</term><term name="scale">Mastab</term><term name="version">Version</term>\n<!-- LONG ITEM TYPE FORMS --><term name="article">preprint</term><term name="article-journal">journal article</term><term name="article-magazine">magazine article</term><term name="article-newspaper">newspaper article</term><term name="bill">bill</term><term name="book">book</term><term name="broadcast">broadcast</term><term name="chapter">book chapter</term><term name="classic">classic</term><term name="collection">collection</term><term name="dataset">dataset</term><term name="document">document</term><term name="entry">entry</term><term name="entry-dictionary">dictionary entry</term><term name="entry-encyclopedia">encyclopedia entry</term><term name="event">event</term><!-- figure is in the list of locator terms --><term name="graphic">graphic</term><term name="hearing">hearing</term><term name="interview">interview</term><term name="legal_case">legal case</term><term name="legislation">legislation</term><term name="manuscript">manuscript</term><term name="map">map</term><term name="motion_picture">video recording</term><term name="musical_score">musical score</term><term name="pamphlet">pamphlet</term><term name="paper-conference">conference paper</term><term name="patent">patent</term><term name="performance">performance</term><term name="periodical">periodical</term><term name="personal_communication">persnliche Kommunikation</term><term name="post">post</term><term name="post-weblog">blog post</term><term name="regulation">regulation</term><term name="report">report</term><term name="review">review</term><term name="review-book">book review</term><term name="software">software</term><term name="song">audio recording</term><term name="speech">presentation</term><term name="standard">standard</term><term name="thesis">thesis</term><term name="treaty">treaty</term><term name="webpage">webpage</term>\n<!-- SHORT ITEM TYPE FORMS --><term name="article-journal" form="short">journal art.</term><term name="article-magazine" form="short">mag. art.</term><term name="article-newspaper" form="short">newspaper art.</term><term name="book" form="short">bk.</term><term name="chapter" form="short">bk. chap.</term><term name="document" form="short">doc.</term><!-- figure is in the list of locator terms --><term name="graphic" form="short">graph.</term><term name="interview" form="short">interv.</term><term name="manuscript" form="short">MS</term><term name="motion_picture" form="short">video rec.</term><term name="report" form="short">rep.</term><term name="review" form="short">rev.</term><term name="review-book" form="short">bk. rev.</term><term name="song" form="short">audio rec.</term>\n<!-- HISTORICAL ERA TERMS --><term name="ad">&#160;n.&#160;Chr.</term><term name="bc">&#160;v.&#160;Chr.</term><term name="bce">BCE</term><term name="ce">CE</term>\n<!-- PUNCTUATION --><term name="open-quote"></term><term name="close-quote"></term><term name="open-inner-quote"></term><term name="close-inner-quote"></term><term name="page-range-delimiter"></term><term name="colon">:</term><term name="comma">,</term><term name="semicolon">;</term>\n<!-- ORDINALS --><term name="ordinal">.</term>\n<!-- LONG ORDINALS --><term name="long-ordinal-01">erster</term><term name="long-ordinal-02">zweiter</term><term name="long-ordinal-03">dritter</term><term name="long-ordinal-04">vierter</term><term name="long-ordinal-05">fnfter</term><term name="long-ordinal-06">sechster</term><term name="long-ordinal-07">siebter</term><term name="long-ordinal-08">achter</term><term name="long-ordinal-09">neunter</term><term name="long-ordinal-10">zehnter</term>\n<!-- LONG LOCATOR FORMS --><term name="act">\t\t\t <single>act</single><multiple>acts</multiple>\t\t\t\t\t\t </term><term name="appendix">\t\t\t <single>appendix</single><multiple>appendices</multiple>\t\t\t\t\t\t </term><term name="article-locator">\t\t\t <single>article</single><multiple>articles</multiple>\t\t\t\t\t\t </term><term name="canon">\t\t\t <single>canon</single><multiple>canons</multiple>\t\t\t\t\t\t </term><term name="elocation">\t\t\t <single>location</single><multiple>locations</multiple>\t\t\t\t\t\t </term><term name="equation">\t\t\t <single>equation</single><multiple>equations</multiple>\t\t\t\t\t\t </term><term name="rule">\t\t\t <single>rule</single><multiple>rules</multiple>\t\t\t\t\t\t </term><term name="scene">\t\t\t <single>scene</single><multiple>scenes</multiple>\t\t\t\t\t\t </term><term name="table">\t\t\t <single>table</single><multiple>tables</multiple>\t\t\t\t\t\t </term><term name="timestamp"> <!-- generally blank --><single></single><multiple></multiple>\t\t\t\t\t\t </term><term name="title-locator">\t\t\t <single>title</single><multiple>titles</multiple>\t\t\t\t\t\t </term><term name="book"><single>Buch</single><multiple>Bcher</multiple></term><term name="chapter"><single>Kapitel</single><multiple>Kapitel</multiple></term><term name="column"><single>Spalte</single><multiple>Spalten</multiple></term><term name="figure"><single>Abbildung</single><multiple>Abbildungen</multiple></term><term name="folio"><single>Blatt</single><multiple>Bltter</multiple></term><term name="issue"><single>Nummer</single><multiple>Nummern</multiple></term><term name="line"><single>Zeile</single><multiple>Zeilen</multiple></term><term name="note"><single>Note</single><multiple>Noten</multiple></term><term name="opus"><single>Opus</single><multiple>Opera</multiple></term><term name="page"><single>Seite</single><multiple>Seiten</multiple></term><term name="number-of-pages"><single>Seite</single><multiple>Seiten</multiple></term><term name="paragraph"><single>Absatz</single><multiple>Abstze</multiple></term><term name="part"><single>Teil</single><multiple>Teile</multiple></term><term name="section"><single>Abschnitt</single><multiple>Abschnitte</multiple></term><term name="sub-verbo"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name="verse"><single>Vers</single><multiple>Verse</multiple></term><term name="volume"><single>Band</single><multiple>Bnde</multiple></term>\n<!-- SHORT LOCATOR FORMS --><term name="appendix">\t\t\t <single>app.</single><multiple>apps.</multiple>\t\t\t\t\t\t </term><term name="article-locator">\t\t\t <single>art.</single><multiple>arts.</multiple></term><term name="elocation">\t\t\t <single>loc.</single><multiple>locs.</multiple></term><term name="equation">\t\t\t <single>eq.</single><multiple>eqs.</multiple></term><term name="rule">\t\t\t <single>r.</single><multiple>rr.</multiple>\t\t\t\t\t\t </term><term name="scene">\t\t\t <single>sc.</single><multiple>scs.</multiple>\t\t\t\t\t\t </term><term name="table">\t\t\t <single>tbl.</single><multiple>tbls.</multiple>\t\t\t\t\t\t </term><term name="timestamp"> <!-- generally blank --><single></single><multiple></multiple>\t\t\t\t\t\t </term><term name="title-locator">\t\t\t <single>tit.</single><multiple>tits.</multiple></term><term name="book" form="short">B.</term><term name="chapter" form="short">Kap.</term><term name="column" form="short">Sp.</term><term name="figure" form="short">Abb.</term><term name="folio" form="short">Fol.</term><term name="issue" form="short">Nr.</term><term name="line" form="short">Z.</term><term name="note" form="short">N.</term><term name="opus" form="short">op.</term><term name="page" form="short"><single>S.</single><multiple>S.</multiple></term><term name="number-of-pages" form="short"><single>S.</single><multiple>S.</multiple></term><term name="paragraph" form="short">Abs.</term><term name="part" form="short">Teil</term><term name="section" form="short">Abschn.</term><term name="sub-verbo" form="short"><single>s.&#160;v.</single><multiple>s.&#160;vv.</multiple></term><term name="verse" form="short"><single>V.</single><multiple>V.</multiple></term><term name="volume" form="short"><single>Bd.</single><multiple>Bde.</multiple></term>\n<!-- SYMBOL LOCATOR FORMS --><term name="paragraph" form="symbol"><single></single><multiple></multiple></term><term name="section" form="symbol"><single></single><multiple></multiple></term>\n<!-- LONG ROLE FORMS --><term name="chair"><single>chair</single><multiple>chairs</multiple></term><term name="compiler"><single>compiler</single><multiple>compilers</multiple></term><term name="contributor"><single>contributor</single><multiple>contributors</multiple></term><term name="curator"><single>curator</single><multiple>curators</multiple></term><term name="executive-producer"><single>executive producer</single><multiple>executive producers</multiple></term><term name="guest"><single>guest</single><multiple>guests</multiple></term><term name="host"><single>host</single><multiple>hosts</multiple></term><term name="narrator"><single>narrator</single><multiple>narrators</multiple></term><term name="organizer"><single>organizer</single><multiple>organizers</multiple></term><term name="performer"><single>performer</single><multiple>performers</multiple></term><term name="producer"><single>producer</single><multiple>producers</multiple></term><term name="script-writer"><single>writer</single><multiple>writers</multiple></term><term name="series-creator"><single>series creator</single><multiple>series creators</multiple></term><term name="director"><single>Regisseur</single><multiple>Regisseure</multiple></term><term name="editor"><single>Herausgeber</single><multiple>Herausgeber</multiple></term><term name="collection-editor"><single>Reihenherausgeber</single><multiple>Reihenherausgeber</multiple></term><term name="editorial-director"><single>Herausgeber</single><multiple>Herausgeber</multiple></term><term name="illustrator"><single>Illustrator</single><multiple>Illustratoren</multiple></term><term name="translator"><single>bersetzer</single><multiple>bersetzer</multiple></term><term name="editortranslator"><single>Herausgeber&#160;&amp; bersetzer</single><multiple>Herausgeber&#160;&amp; bersetzer</multiple></term>\n<!-- SHORT ROLE FORMS --><term name="compiler" form="short"><single>comp.</single><multiple>comps.</multiple></term><term name="contributor" form="short"><single>contrib.</single><multiple>contribs.</multiple></term><term name="curator" form="short"><single>cur.</single><multiple>curs.</multiple></term><term name="executive-producer" form="short"><single>exec. prod.</single><multiple>exec. prods.</multiple></term><term name="narrator" form="short"><single>narr.</single><multiple>narrs.</multiple></term><term name="organizer" form="short"><single>org.</single><multiple>orgs.</multiple></term><term name="performer" form="short"><single>perf.</single><multiple>perfs.</multiple></term><term name="producer" form="short"><single>prod.</single><multiple>prods.</multiple></term><term name="script-writer" form="short"><single>writ.</single><multiple>writs.</multiple></term><term name="series-creator" form="short"><single>cre.</single><multiple>cres.</multiple></term><term name="director" form="short"><single>Reg.</single><multiple>Reg.</multiple></term><term name="editor" form="short"><single>Hrsg.</single><multiple>Hrsg.</multiple></term><term name="collection-editor" form="short"><single>Hrsg.</single><multiple>Hrsg.</multiple></term><term name="editorial-director" form="short"><single>Hrsg.</single><multiple>Hrsg.</multiple></term><term name="illustrator" form="short"><single>Ill.</single><multiple>Ill.</multiple></term><term name="translator" form="short"><single>bers.</single><multiple>bers.</multiple></term><term name="editortranslator" form="short"><single>Hrsg.&#160;&amp; bers.</single><multiple>Hrsg.&#160;&amp; bers.</multiple></term>\n<!-- VERB ROLE FORMS --><term name="chair" form="verb">chaired by</term><term name="compiler" form="verb">compiled by</term><term name="contributor" form="verb">with</term><term name="curator" form="verb">curated by</term><term name="executive-producer" form="verb">executive produced by</term><term name="guest" form="verb">with guest</term><term name="host" form="verb">hosted by</term><term name="narrator" form="verb">narrated by</term><term name="organizer" form="verb">organized by</term><term name="performer" form="verb">performed by</term><term name="producer" form="verb">produced by</term><term name="script-writer" form="verb">written by</term><term name="series-creator" form="verb">created by</term><term name="container-author" form="verb">von</term><term name="director" form="verb">Regie von</term><term name="editor" form="verb">herausgegeben von</term><term name="collection-editor" form="verb">herausgegeben von</term><term name="editorial-director" form="verb">herausgegeben von</term><term name="illustrator" form="verb">illustriert von</term><term name="interviewer" form="verb">interviewt von</term><term name="recipient" form="verb">an</term><term name="reviewed-author" form="verb">von</term><term name="translator" form="verb">bersetzt von</term><term name="editortranslator" form="verb">herausgegeben und bersetzt von</term>\n<!-- SHORT VERB ROLE FORMS --><term name="compiler" form="verb-short">comp. by</term><term name="contributor" form="verb-short">w.</term><term name="curator" form="verb-short">cur. by</term><term name="executive-producer" form="verb-short">exec. prod. by</term><term name="guest" form="verb-short">w. guest</term><term name="host" form="verb-short">hosted by</term><term name="narrator" form="verb-short">narr. by</term><term name="organizer" form="verb-short">org. by</term><term name="performer" form="verb-short">perf. by</term><term name="producer" form="verb-short">prod. by</term><term name="script-writer" form="verb-short">writ. by</term><term name="series-creator" form="verb-short">cre. by</term><term name="director" form="verb-short">Reg.</term><term name="editor" form="verb-short">hg. von</term><term name="collection-editor" form="verb-short">hg. von</term><term name="editorial-director" form="verb-short">hg. von</term><term name="illustrator" form="verb-short">illus. von</term><term name="translator" form="verb-short">bers. von</term><term name="editortranslator" form="verb-short">hg.&#160;&amp; bers. von</term>\n<!-- LONG MONTH FORMS --><term name="month-01">Januar</term><term name="month-02">Februar</term><term name="month-03">Mrz</term><term name="month-04">April</term><term name="month-05">Mai</term><term name="month-06">Juni</term><term name="month-07">Juli</term><term name="month-08">August</term><term name="month-09">September</term><term name="month-10">Oktober</term><term name="month-11">November</term><term name="month-12">Dezember</term>\n<!-- SHORT MONTH FORMS --><term name="month-01" form="short">Jan.</term><term name="month-02" form="short">Feb.</term><term name="month-03" form="short">Mrz</term><term name="month-04" form="short">Apr.</term><term name="month-05" form="short">Mai</term><term name="month-06" form="short">Juni</term><term name="month-07" form="short">Juli</term><term name="month-08" form="short">Aug.</term><term name="month-09" form="short">Sep.</term><term name="month-10" form="short">Okt.</term><term name="month-11" form="short">Nov.</term><term name="month-12" form="short">Dez.</term>\n<!-- SEASONS --><term name="season-01">Frhjahr</term><term name="season-02">Sommer</term><term name="season-03">Herbst</term><term name="season-04">Winter</term></terms>\n</locale>\n',
"es-ES":'<?xml version="1.0" encoding="utf-8"?>\n<locale xmlns="http://purl.org/net/xbiblio/csl" version="1.0" xml:lang="es-ES"><info><translator><name>javimat</name></translator><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2012-07-04T23:31:02+00:00</updated></info><style-options punctuation-in-quote="false"/><date form="text"><date-part name="day" suffix=" de "/><date-part name="month" suffix=" de "/><date-part name="year"/></date><date form="numeric"><date-part name="day" form="numeric-leading-zeros" suffix="/"/><date-part name="month" form="numeric-leading-zeros" suffix="/"/><date-part name="year"/></date><terms><term name="advance-online-publication">advance online publication</term><term name="album">album</term><term name="audio-recording">audio recording</term><term name="film">film</term><term name="henceforth">henceforth</term><term name="loc-cit">loc. cit.</term> <!-- like ibid., the abbreviated form is the regular form  --><term name="no-place">no place</term><term name="no-place" form="short">n.p.</term><term name="no-publisher">no publisher</term> <!-- sine nomine --><term name="no-publisher" form="short">n.p.</term><term name="on">on</term><term name="op-cit">op. cit.</term> <!-- like ibid., the abbreviated form is the regular form  --><term name="original-work-published">original work published</term><term name="personal-communication">comunicacin personal</term><term name="podcast">podcast</term><term name="podcast-episode">podcast episode</term><term name="preprint">preprint</term><term name="radio-broadcast">radio broadcast</term><term name="radio-series">radio series</term><term name="radio-series-episode">radio series episode</term><term name="special-issue">special issue</term><term name="special-section">special section</term><term name="television-broadcast">television broadcast</term><term name="television-series">television series</term><term name="television-series-episode">television series episode</term><term name="video">video</term><term name="working-paper">working paper</term><term name="accessed">accedido</term><term name="and">y</term><term name="and others">y otros</term><term name="anonymous">annimo</term><term name="anonymous" form="short">ann.</term><term name="at">en</term><term name="available at">disponible en</term><term name="by">de</term><term name="circa">circa</term><term name="circa" form="short">c.</term><term name="cited">citado</term><term name="edition"><single>edicin</single><multiple>ediciones</multiple></term><term name="edition" form="short">ed.</term><term name="et-al">et&#160;al.</term><term name="forthcoming">previsto</term><term name="from">a partir de</term><term name="ibid">ibid.</term><term name="in">en</term><term name="in press">en imprenta</term><term name="internet">internet</term><term name="interview">entrevista</term><term name="letter">carta</term><term name="no date">sin fecha</term><term name="no date" form="short">s.&#160;f.</term><term name="online">en lnea</term><term name="presented at">presentado en</term><term name="reference"><single>referencia</single><multiple>referencias</multiple></term><term name="reference" form="short"><single>ref.</single><multiple>refs.</multiple></term><term name="retrieved">recuperado</term><term name="scale">escala</term><term name="version">versin</term>\n<!-- LONG ITEM TYPE FORMS --><term name="article">preprint</term><term name="article-journal">journal article</term><term name="article-magazine">magazine article</term><term name="article-newspaper">newspaper article</term><term name="bill">bill</term><term name="book">book</term><term name="broadcast">broadcast</term><term name="chapter">book chapter</term><term name="classic">classic</term><term name="collection">collection</term><term name="dataset">dataset</term><term name="document">document</term><term name="entry">entry</term><term name="entry-dictionary">dictionary entry</term><term name="entry-encyclopedia">encyclopedia entry</term><term name="event">event</term><!-- figure is in the list of locator terms --><term name="graphic">graphic</term><term name="hearing">hearing</term><term name="interview">interview</term><term name="legal_case">legal case</term><term name="legislation">legislation</term><term name="manuscript">manuscript</term><term name="map">map</term><term name="motion_picture">video recording</term><term name="musical_score">musical score</term><term name="pamphlet">pamphlet</term><term name="paper-conference">conference paper</term><term name="patent">patent</term><term name="performance">performance</term><term name="periodical">periodical</term><term name="personal_communication">comunicacin personal</term><term name="post">post</term><term name="post-weblog">blog post</term><term name="regulation">regulation</term><term name="report">report</term><term name="review">review</term><term name="review-book">book review</term><term name="software">software</term><term name="song">audio recording</term><term name="speech">presentation</term><term name="standard">standard</term><term name="thesis">thesis</term><term name="treaty">treaty</term><term name="webpage">webpage</term>\n<!-- SHORT ITEM TYPE FORMS --><term name="article-journal" form="short">journal art.</term><term name="article-magazine" form="short">mag. art.</term><term name="article-newspaper" form="short">newspaper art.</term><term name="book" form="short">bk.</term><term name="chapter" form="short">bk. chap.</term><term name="document" form="short">doc.</term><!-- figure is in the list of locator terms --><term name="graphic" form="short">graph.</term><term name="interview" form="short">interv.</term><term name="manuscript" form="short">MS</term><term name="motion_picture" form="short">video rec.</term><term name="report" form="short">rep.</term><term name="review" form="short">rev.</term><term name="review-book" form="short">bk. rev.</term><term name="song" form="short">audio rec.</term>\n<!-- HISTORICAL ERA TERMS --><term name="ad">d.&#160;C.</term><term name="bc">a.&#160;C.</term><term name="bce">BCE</term><term name="ce">CE</term>\n<!-- PUNCTUATION --><term name="open-quote"></term><term name="close-quote"></term><term name="open-inner-quote"></term><term name="close-inner-quote"></term><term name="page-range-delimiter">-</term><term name="colon">:</term><term name="comma">,</term><term name="semicolon">;</term>\n<!-- ORDINALS --><term name="ordinal">.</term>\n<!-- LONG ORDINALS --><term name="long-ordinal-01">primera</term><term name="long-ordinal-02">segunda</term><term name="long-ordinal-03">tercera</term><term name="long-ordinal-04">cuarta</term><term name="long-ordinal-05">quinta</term><term name="long-ordinal-06">sexta</term><term name="long-ordinal-07">sptima</term><term name="long-ordinal-08">octava</term><term name="long-ordinal-09">novena</term><term name="long-ordinal-10">dcima</term>\n<!-- LONG LOCATOR FORMS --><term name="act">\t\t\t <single>act</single><multiple>acts</multiple>\t\t\t\t\t\t </term><term name="appendix">\t\t\t <single>appendix</single><multiple>appendices</multiple>\t\t\t\t\t\t </term><term name="article-locator">\t\t\t <single>article</single><multiple>articles</multiple>\t\t\t\t\t\t </term><term name="canon">\t\t\t <single>canon</single><multiple>canons</multiple>\t\t\t\t\t\t </term><term name="elocation">\t\t\t <single>location</single><multiple>locations</multiple>\t\t\t\t\t\t </term><term name="equation">\t\t\t <single>equation</single><multiple>equations</multiple>\t\t\t\t\t\t </term><term name="rule">\t\t\t <single>rule</single><multiple>rules</multiple>\t\t\t\t\t\t </term><term name="scene">\t\t\t <single>scene</single><multiple>scenes</multiple>\t\t\t\t\t\t </term><term name="table">\t\t\t <single>table</single><multiple>tables</multiple>\t\t\t\t\t\t </term><term name="timestamp"> <!-- generally blank --><single></single><multiple></multiple>\t\t\t\t\t\t </term><term name="title-locator">\t\t\t <single>title</single><multiple>titles</multiple>\t\t\t\t\t\t </term><term name="book"><single>libro</single><multiple>libros</multiple></term><term name="chapter"><single>captulo</single><multiple>captulos</multiple></term><term name="column"><single>columna</single><multiple>columnas</multiple></term><term name="figure"><single>figura</single><multiple>figuras</multiple></term><term name="folio"><single>folio</single><multiple>folios</multiple></term><term name="issue"><single>nmero</single><multiple>nmeros</multiple></term><term name="line"><single>lnea</single><multiple>lneas</multiple></term><term name="note"><single>nota</single><multiple>notas</multiple></term><term name="opus"><single>opus</single><multiple>opera</multiple></term><term name="page"><single>pgina</single><multiple>pginas</multiple></term><term name="number-of-pages"><single>pgina</single><multiple>pginas</multiple></term><term name="paragraph"><single>prrafo</single><multiple>prrafos</multiple></term><term name="part"><single>parte</single><multiple>partes</multiple></term><term name="section"><single>seccin</single><multiple>secciones</multiple></term><term name="sub-verbo"><single>sub voce</single><multiple>sub vocibus</multiple></term><term name="verse"><single>verso</single><multiple>versos</multiple></term><term name="volume"><single>volumen</single><multiple>volmenes</multiple></term>\n<!-- SHORT LOCATOR FORMS --><term name="appendix">\t\t\t <single>app.</single><multiple>apps.</multiple>\t\t\t\t\t\t </term><term name="article-locator">\t\t\t <single>art.</single><multiple>arts.</multiple></term><term name="elocation">\t\t\t <single>loc.</single><multiple>locs.</multiple></term><term name="equation">\t\t\t <single>eq.</single><multiple>eqs.</multiple></term><term name="rule">\t\t\t <single>r.</single><multiple>rr.</multiple>\t\t\t\t\t\t </term><term name="scene">\t\t\t <single>sc.</single><multiple>scs.</multiple>\t\t\t\t\t\t </term><term name="table">\t\t\t <single>tbl.</single><multiple>tbls.</multiple>\t\t\t\t\t\t </term><term name="timestamp"> <!-- generally blank --><single></single><multiple></multiple>\t\t\t\t\t\t </term><term name="title-locator">\t\t\t <single>tit.</single><multiple>tits.</multiple></term><term name="book" form="short">lib.</term><term name="chapter" form="short">cap.</term><term name="column" form="short">col.</term><term name="figure" form="short">fig.</term><term name="folio" form="short">f.</term><term name="issue" form="short">n.</term><term name="line" form="short">l.</term><term name="note" form="short">n.</term><term name="opus" form="short">op.</term><term name="page" form="short"><single>p.</single><multiple>pp.</multiple></term><term name="number-of-pages" form="short"><single>p.</single><multiple>pp.</multiple></term><term name="paragraph" form="short">prr.</term><term name="part" form="short">pt.</term><term name="section" form="short">sec.</term><term name="sub-verbo" form="short"><single>s.&#160;v.</single><multiple>s.&#160;vv.</multiple></term><term name="verse" form="short"><single>v.</single><multiple>vv.</multiple></term><term name="volume" form="short"><single>vol.</single><multiple>vols.</multiple></term>\n<!-- SYMBOL LOCATOR FORMS --><term name="paragraph" form="symbol"><single></single><multiple></multiple></term><term name="section" form="symbol"><single></single><multiple></multiple></term>\n<!-- LONG ROLE FORMS --><term name="chair"><single>chair</single><multiple>chairs</multiple></term><term name="compiler"><single>compiler</single><multiple>compilers</multiple></term><term name="contributor"><single>contributor</single><multiple>contributors</multiple></term><term name="curator"><single>curator</single><multiple>curators</multiple></term><term name="executive-producer"><single>executive producer</single><multiple>executive producers</multiple></term><term name="guest"><single>guest</single><multiple>guests</multiple></term><term name="host"><single>host</single><multiple>hosts</multiple></term><term name="narrator"><single>narrator</single><multiple>narrators</multiple></term><term name="organizer"><single>organizer</single><multiple>organizers</multiple></term><term name="performer"><single>performer</single><multiple>performers</multiple></term><term name="producer"><single>producer</single><multiple>producers</multiple></term><term name="script-writer"><single>writer</single><multiple>writers</multiple></term><term name="series-creator"><single>series creator</single><multiple>series creators</multiple></term><term name="director"><single>director</single><multiple>directores</multiple></term><term name="editor"><single>editor</single><multiple>editores</multiple></term><term name="editorial-director"><single>editor</single><multiple>editores</multiple></term><term name="illustrator"><single>ilustrador</single><multiple>ilustradores</multiple></term><term name="translator"><single>traductor</single><multiple>traductores</multiple></term><term name="editortranslator"><single>editor y traductor</single><multiple>editores y traductores</multiple></term>\n<!-- SHORT ROLE FORMS --><term name="compiler" form="short"><single>comp.</single><multiple>comps.</multiple></term><term name="contributor" form="short"><single>contrib.</single><multiple>contribs.</multiple></term><term name="curator" form="short"><single>cur.</single><multiple>curs.</multiple></term><term name="executive-producer" form="short"><single>exec. prod.</single><multiple>exec. prods.</multiple></term><term name="narrator" form="short"><single>narr.</single><multiple>narrs.</multiple></term><term name="organizer" form="short"><single>org.</single><multiple>orgs.</multiple></term><term name="performer" form="short"><single>perf.</single><multiple>perfs.</multiple></term><term name="producer" form="short"><single>prod.</single><multiple>prods.</multiple></term><term name="script-writer" form="short"><single>writ.</single><multiple>writs.</multiple></term><term name="series-creator" form="short"><single>cre.</single><multiple>cres.</multiple></term><term name="director" form="short"><single>dir.</single><multiple>dirs.</multiple></term><term name="editor" form="short"><single>ed.</single><multiple>eds.</multiple></term><term name="editorial-director" form="short"><single>ed.</single><multiple>eds.</multiple></term><term name="illustrator" form="short"><single>ilust.</single><multiple>ilusts.</multiple></term><term name="translator" form="short"><single>trad.</single><multiple>trads.</multiple></term><term name="editortranslator" form="short"><single>ed. y trad.</single><multiple>eds. y trads.</multiple></term>\n<!-- VERB ROLE FORMS --><term name="chair" form="verb">chaired by</term><term name="compiler" form="verb">compiled by</term><term name="contributor" form="verb">with</term><term name="curator" form="verb">curated by</term><term name="executive-producer" form="verb">executive produced by</term><term name="guest" form="verb">with guest</term><term name="host" form="verb">hosted by</term><term name="narrator" form="verb">narrated by</term><term name="organizer" form="verb">organized by</term><term name="performer" form="verb">performed by</term><term name="producer" form="verb">produced by</term><term name="script-writer" form="verb">written by</term><term name="series-creator" form="verb">created by</term><term name="container-author" form="verb">de</term><term name="director" form="verb">dirigido por</term><term name="editor" form="verb">editado por</term><term name="editorial-director" form="verb">editado por</term><term name="illustrator" form="verb">ilustrado por</term><term name="interviewer" form="verb">entrevistado por</term><term name="recipient" form="verb">a</term><term name="reviewed-author" form="verb">por</term><term name="translator" form="verb">traducido por</term><term name="editortranslator" form="verb">editado y traducido por</term>\n<!-- SHORT VERB ROLE FORMS --><term name="compiler" form="verb-short">comp. by</term><term name="contributor" form="verb-short">w.</term><term name="curator" form="verb-short">cur. by</term><term name="executive-producer" form="verb-short">exec. prod. by</term><term name="guest" form="verb-short">w. guest</term><term name="host" form="verb-short">hosted by</term><term name="narrator" form="verb-short">narr. by</term><term name="organizer" form="verb-short">org. by</term><term name="performer" form="verb-short">perf. by</term><term name="producer" form="verb-short">prod. by</term><term name="script-writer" form="verb-short">writ. by</term><term name="series-creator" form="verb-short">cre. by</term><term name="director" form="verb-short">dir.</term><term name="editor" form="verb-short">ed.</term><term name="editorial-director" form="verb-short">ed.</term><term name="illustrator" form="verb-short">ilust.</term><term name="translator" form="verb-short">trad.</term><term name="editortranslator" form="verb-short">ed. y trad.</term>\n<!-- LONG MONTH FORMS --><term name="month-01">enero</term><term name="month-02">febrero</term><term name="month-03">marzo</term><term name="month-04">abril</term><term name="month-05">mayo</term><term name="month-06">junio</term><term name="month-07">julio</term><term name="month-08">agosto</term><term name="month-09">septiembre</term><term name="month-10">octubre</term><term name="month-11">noviembre</term><term name="month-12">diciembre</term>\n<!-- SHORT MONTH FORMS --><term name="month-01" form="short">ene.</term><term name="month-02" form="short">feb.</term><term name="month-03" form="short">mar.</term><term name="month-04" form="short">abr.</term><term name="month-05" form="short">may</term><term name="month-06" form="short">jun.</term><term name="month-07" form="short">jul.</term><term name="month-08" form="short">ago.</term><term name="month-09" form="short">sep.</term><term name="month-10" form="short">oct.</term><term name="month-11" form="short">nov.</term><term name="month-12" form="short">dic.</term>\n<!-- SEASONS --><term name="season-01">primavera</term><term name="season-02">verano</term><term name="season-03">otoo</term><term name="season-04">invierno</term></terms>\n</locale>\n'}},{}],93:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0}),r.locales=r.default=void 0;var s=e("@citation-js/core"),n=i(e("./locales.json"));const a=r.locales=new s.util.Register(n.default),o=e=>a.has(e)?a.get(e):a.get("en-US");r.default=o},{"./locales.json":92,"@citation-js/core":"citation-js"}],94:[function(e,t,r){t.exports={
apa:'<?xml version="1.0" encoding="utf-8"?>\n<style xmlns="http://purl.org/net/xbiblio/csl" class="in-text" version="1.0" demote-non-dropping-particle="never" page-range-format="expanded"><info><title>American Psychological Association 7th edition</title><title-short>APA</title-short><id>http://www.zotero.org/styles/apa</id><link href="http://www.zotero.org/styles/apa" rel="self"/><link href="http://www.zotero.org/styles/apa-6th-edition" rel="template"/><link href="https://apastyle.apa.org/style-grammar-guidelines/references/examples" rel="documentation"/><author><name>Brenton M. Wiernik</name><email>zotero@wiernik.org</email></author><category citation-format="author-date"/><category field="psychology"/><category field="generic-base"/><updated>2022-01-31T14:43:56+00:00</updated><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights></info><locale xml:lang="en"><terms><term name="editortranslator" form="short"><single>ed. &amp; trans.</single><multiple>eds. &amp; trans.</multiple></term><term name="translator" form="short">trans.</term><term name="interviewer" form="short"><single>interviewer</single><multiple>interviewers</multiple></term><term name="collection-editor" form="short"><single>ed.</single><multiple>eds.</multiple></term><term name="circa" form="short">ca.</term><term name="bc"> B.C.E.</term><term name="ad"> C.E.</term><term name="letter">personal communication</term><term name="letter" form="short">letter</term><term name="issue" form="long"><single>issue</single><multiple>issues</multiple></term></terms></locale><locale xml:lang="af"><terms><term name="letter">persoonlike kommunikasie</term><term name="letter" form="short">brief</term></terms></locale><locale xml:lang="ar"><terms><term name="letter"> </term><term name="letter" form="short"></term></terms></locale><locale xml:lang="bg"><terms><term name="letter"> </term><term name="letter" form="short"></term></terms></locale><locale xml:lang="ca"><terms><term name="letter">comunicaci personal</term><term name="letter" form="short">carta</term></terms></locale><locale xml:lang="cs"><terms><term name="letter">osobn komunikace</term><term name="letter" form="short">dopis</term></terms></locale><locale xml:lang="cy"><terms><term name="letter">cyfathrebu personol</term><term name="letter" form="short">llythyr</term></terms></locale><locale xml:lang="da"><terms><term name="et-al">et al.</term><term name="letter">personlig kommunikation</term><term name="letter" form="short">brev</term></terms></locale><locale xml:lang="de"><terms><term name="et-al">et al.</term><term name="letter">persnliche Kommunikation</term><term name="letter" form="short">Brief</term></terms></locale><locale xml:lang="el"><terms><term name="letter"> </term><term name="letter" form="short"></term></terms></locale><locale xml:lang="es"><terms><term name="from">de</term><term name="letter">comunicacin personal</term><term name="letter" form="short">carta</term></terms></locale><locale xml:lang="et"><terms><term name="letter">isiklik suhtlus</term><term name="letter" form="short">kiri</term></terms></locale><locale xml:lang="eu"><terms><term name="letter">komunikazio pertsonala</term><term name="letter" form="short">gutuna</term></terms></locale><locale xml:lang="fa"><terms><term name="letter"> </term><term name="letter" form="short"></term></terms></locale><locale xml:lang="fi"><terms><term name="letter">henkilkohtainen viestint</term><term name="letter" form="short">kirje</term></terms></locale><locale xml:lang="fr"><terms><term name="letter">communication personnelle</term><term name="letter" form="short">lettre</term><term name="editor" form="short"><single>d.</single><multiple>ds.</multiple></term></terms></locale><locale xml:lang="he"><terms><term name="letter"> </term><term name="letter" form="short"></term></terms></locale><locale xml:lang="hr"><terms><term name="letter">osobna komunikacija</term><term name="letter" form="short">pismo</term></terms></locale><locale xml:lang="hu"><terms><term name="letter">szemlyes kommunikci</term><term name="letter" form="short">levl</term></terms></locale><locale xml:lang="id"><terms><term name="letter">komunikasi pribadi</term><term name="letter" form="short">surat</term></terms></locale><locale xml:lang="is"><terms><term name="letter">persnuleg samskipti</term><term name="letter" form="short">brf</term></terms></locale><locale xml:lang="it"><terms><term name="letter">comunicazione personale</term><term name="letter" form="short">lettera</term></terms></locale><locale xml:lang="ja"><terms><term name="letter"></term><term name="letter" form="short"></term></terms></locale><locale xml:lang="ko"><terms><term name="letter">  </term><term name="letter" form="short"></term></terms></locale><locale xml:lang="la"><terms><term name="letter"/><term name="letter" form="short">epistula</term></terms></locale><locale xml:lang="lt"><terms><term name="letter">communicationis personalis</term><term name="letter" form="short"/></terms></locale><locale xml:lang="lv"><terms><term name="letter">personga komunikcija</term><term name="letter" form="short">vstule</term></terms></locale><locale xml:lang="mn"><terms><term name="letter">  </term><term name="letter" form="short"></term></terms></locale><locale xml:lang="nb"><terms><term name="et-al">et al.</term><term name="letter">personlig kommunikasjon</term><term name="letter" form="short">brev</term></terms></locale><locale xml:lang="nl"><terms><term name="et-al">et al.</term><term name="letter">persoonlijke communicatie</term><term name="letter" form="short">brief</term></terms></locale><locale xml:lang="nn"><terms><term name="et-al">et al.</term><term name="letter">personlig kommunikasjon</term><term name="letter" form="short">brev</term></terms></locale><locale xml:lang="pl"><terms><term name="letter">osobista komunikacja</term><term name="letter" form="short">list</term></terms></locale><locale xml:lang="pt"><terms><term name="letter">comunicao pessoal</term><term name="letter" form="short">carta</term></terms></locale><locale xml:lang="ro"><terms><term name="letter">comunicare personal</term><term name="letter" form="short">scrisoare</term></terms></locale><locale xml:lang="ru"><terms><term name="letter"> </term><term name="letter" form="short"></term></terms></locale><locale xml:lang="sk"><terms><term name="letter">osobn komunikcia</term><term name="letter" form="short">list</term></terms></locale><locale xml:lang="sl"><terms><term name="letter">osebna komunikacija</term><term name="letter" form="short">pismo</term></terms></locale><locale xml:lang="sr"><terms><term name="letter"> </term><term name="letter" form="short"></term></terms></locale><locale xml:lang="sv"><terms><term name="letter">personlig kommunikation</term><term name="letter" form="short">brev</term></terms></locale><locale xml:lang="th"><terms><term name="letter"></term><term name="letter" form="short"></term></terms></locale><locale xml:lang="tr"><terms><term name="letter">kiisel iletiim</term><term name="letter" form="short">mektup</term></terms></locale><locale xml:lang="uk"><terms><term name="letter"> </term><term name="letter" form="short"></term></terms></locale><locale xml:lang="vi"><terms><term name="letter">giao tip c nhn</term><term name="letter" form="short">th</term></terms></locale><locale xml:lang="zh-CN"><terms><term name="letter"></term><term name="letter" form="short"></term></terms></locale><locale xml:lang="zh-TW"><terms><term name="letter"></term><term name="letter" form="short"></term></terms></locale><!-- General categories of item types:Periodical: article-journal article-magazine article-newspaper post-weblog review review-bookPeriodical or Booklike: paper-conferenceBooklike: article book broadcast chapter dataset entry entry-dictionary entry-encyclopedia figure graphic interview manuscript map motion_picture musical_score pamphlet patent personal_communication report song speech thesis post webpageLegal: bill legal_case legislation treaty--><!-- APA references contain four parts: author, date, title, source --><macro name="author-bib"><names variable="composer" delimiter=", "><name name-as-sort-order="all" and="symbol" sort-separator=", " initialize-with=". " delimiter=", " delimiter-precedes-last="always"/><substitute><names variable="author"/><names variable="illustrator"/><names variable="director"><name name-as-sort-order="all" and="symbol" sort-separator=", " initialize-with=". " delimiter=", " delimiter-precedes-last="always"/><label form="long" prefix=" (" suffix=")" text-case="title"/></names><choose><if variable="container-title"><choose><if type="book entry entry-dictionary entry-encyclopedia" match="any"><choose><if variable="title"><group delimiter=" "><text macro="title"/><text macro="parenthetical"/></group></if><else><text macro="title-and-descriptions"/></else></choose></if></choose></if></choose><!-- Test for editortranslator and put that first as that becomes available --><names variable="editor" delimiter=", "><name name-as-sort-order="all" and="symbol" sort-separator=", " initialize-with=". " delimiter=", " delimiter-precedes-last="always"/><label form="short" prefix=" (" suffix=")" text-case="title"/></names><names variable="editorial-director"><name name-as-sort-order="all" and="symbol" sort-separator=", " initialize-with=". " delimiter=", " delimiter-precedes-last="always"/><label form="short" prefix=" (" suffix=")" text-case="title"/></names><names variable="collection-editor"><name name-as-sort-order="all" and="symbol" sort-separator=", " initialize-with=". " delimiter=", " delimiter-precedes-last="always"/><label form="short" prefix=" (" suffix=")" text-case="title"/></names><choose><if variable="title"><group delimiter=" "><text macro="title"/><text macro="parenthetical"/></group></if><else><text macro="title-and-descriptions"/></else></choose></substitute></names></macro><macro name="author-intext"><choose><if type="bill legal_case legislation treaty" match="any"><text macro="title-intext"/></if><else-if type="interview personal_communication" match="any"><choose><!-- These variables indicate that the letter is retrievable by the reader. If not, then use the APA in-text-only personal communication format --><if variable="archive container-title DOI publisher URL" match="none"><group delimiter=", "><names variable="author"><name and="symbol" delimiter=", " initialize-with=". "/><substitute><text macro="title-intext"/></substitute></names><!-- Replace with term="personal-communication" if that becomes available --><text term="letter"/></group></if><else><names variable="author" delimiter=", "><name form="short" and="symbol" delimiter=", " initialize-with=". "/><substitute><text macro="title-intext"/></substitute></names></else></choose></else-if><else><names variable="composer" delimiter=", "><name form="short" and="symbol" delimiter=", " initialize-with=". "/><substitute><names variable="author"/><names variable="illustrator"/><names variable="director"/><choose><if variable="container-title"><choose><if type="book entry entry-dictionary entry-encyclopedia" match="any"><text macro="title-intext"/></if></choose></if></choose><names variable="editor"/><names variable="editorial-director"/><text macro="title-intext"/></substitute></names></else></choose></macro><macro name="date-bib"><group delimiter=" " prefix="(" suffix=")"><choose><if is-uncertain-date="issued"><text term="circa" form="short"/></if></choose><group><choose><if variable="issued"><date variable="issued"><date-part name="year"/></date><text variable="year-suffix"/><choose><if type="article-magazine article-newspaper broadcast interview motion_picture pamphlet personal_communication post post-weblog song speech webpage" match="any"><!-- Many video and audio examples in manual give full dates. Err on the side of too much information. --><date variable="issued"><date-part prefix=", " name="month"/><date-part prefix=" " name="day"/></date></if><else-if type="paper-conference"><!-- Capture \'speech\' stored as \'paper-conference\' --><choose><if variable="collection-editor editor editorial-director issue page volume" match="none"><date variable="issued"><date-part prefix=", " name="month"/><date-part prefix=" " name="day"/></date></if></choose></else-if><!-- Only year: article article-journal book chapter entry entry-dictionary entry-encyclopedia dataset figure graphic manuscript map musical_score paper-conference[published] patent report review review-book thesis --></choose></if><else-if variable="status"><group><text variable="status" text-case="lowercase"/><text variable="year-suffix" prefix="-"/></group></else-if><else><text term="no date" form="short"/><text variable="year-suffix" prefix="-"/></else></choose></group></group></macro><macro name="date-sort-group"><!-- APA sorts 1. no-date items, 2. items with dates, 3. in-press (status) items --><choose><if variable="issued"><text value="1"/></if><else-if variable="status"><text value="2"/></else-if><else><text value="0"/></else></choose></macro><macro name="date-sort-date"><date variable="issued" form="numeric"/></macro><macro name="date-intext"><choose><if variable="issued"><group delimiter="/"><group delimiter=" "><choose><if is-uncertain-date="original-date"><text term="circa" form="short"/></if></choose><date variable="original-date"><date-part name="year"/></date></group><group delimiter=" "><choose><if is-uncertain-date="issued"><text term="circa" form="short"/></if></choose><group><choose><if type="interview personal_communication" match="any"><choose><if variable="archive container-title DOI publisher URL" match="none"><!-- These variables indicate that the communication is retrievable by the reader. If not, then use the in-text-only personal communication format --><date variable="issued" form="text"/></if><else><date variable="issued"><date-part name="year"/></date></else></choose></if><else><date variable="issued"><date-part name="year"/></date></else></choose><text variable="year-suffix"/></group></group></group></if><else-if variable="status"><text variable="status" text-case="lowercase"/><text variable="year-suffix" prefix="-"/></else-if><else><text term="no date" form="short"/><text variable="year-suffix" prefix="-"/></else></choose></macro><!-- APA has two description elements following the title:title (parenthetical) [bracketed]  --><macro name="title-and-descriptions"><choose><if variable="title"><group delimiter=" "><text macro="title"/><text macro="parenthetical"/><text macro="bracketed"/></group></if><else><group delimiter=" "><text macro="bracketed"/><text macro="parenthetical"/></group></else></choose></macro><macro name="title"><choose><if type="post webpage" match="any"><!-- Webpages are always italicized --><text variable="title" font-style="italic"/></if><else-if variable="container-title" match="any"><!-- Other types are italicized based on presence of container-title.Assume that review and review-book are published in periodicals/blogs,not just on a web page (ex. 69) --><text variable="title"/></else-if><else><choose><if type="article-journal article-magazine article-newspaper post-weblog review review-book" match="any"><text variable="title" font-style="italic"/></if><else-if type="paper-conference"><choose><if variable="collection-editor editor editorial-director" match="any"><group delimiter=": " font-style="italic"><text variable="title"/><!-- Replace with volume-title as that becomes available --><choose><if is-numeric="volume" match="none"><group delimiter=" "><label variable="volume" form="short" text-case="capitalize-first"/><text variable="volume"/></group></if></choose></group></if><else><text variable="title" font-style="italic"/></else></choose></else-if><else><group delimiter=": " font-style="italic"><text variable="title"/><!-- Replace with volume-title as that becomes available --><choose><if is-numeric="volume" match="none"><group delimiter=" "><label variable="volume" form="short" text-case="capitalize-first"/><text variable="volume"/></group></if></choose></group></else></choose></else></choose></macro><macro name="title-intext"><choose><if variable="title" match="none"><text macro="bracketed-intext" prefix="[" suffix="]"/></if><else-if type="bill"><!-- If a bill has no number or container-title, assume it is a hearing; italic --><choose><if variable="number container-title" match="none"><text variable="title" form="short" font-style="italic" text-case="title"/></if><else-if variable="title"><text variable="title" form="short" text-case="title"/></else-if><else><group delimiter=" "><text variable="genre"/><group delimiter=" "><choose><if variable="chapter-number container-title" match="none"><!-- Replace with label variable="number" as that becomes available --><text term="issue" form="short"/></if></choose><text variable="number"/></group></group></else></choose></else-if><else-if type="legal_case" match="any"><!-- Cases are italicized --><text variable="title" font-style="italic"/></else-if><else-if type="legislation treaty" match="any"><!-- Legislation and treaties not italicized or quoted --><text variable="title" form="short" text-case="title"/></else-if><else-if type="post webpage" match="any"><!-- Webpages are always italicized --><text variable="title" form="short" font-style="italic" text-case="title"/></else-if><else-if variable="container-title" match="any"><!-- Other types are italicized or quoted based on presence of container-title. As in title macro. --><text variable="title" form="short" quotes="true" text-case="title"/></else-if><else><text variable="title" form="short" font-style="italic" text-case="title"/></else></choose></macro><macro name="parenthetical"><!-- (Secondary contributors; Database location; Genre no. 123; Report Series 123, Version, Edition, Volume, Page) --><group prefix="(" suffix=")"><choose><if type="patent"><!-- authority: U.S. ; genre: patent ; number: 123,445 --><group delimiter=" "><text variable="authority" form="short"/><choose><if variable="genre"><text variable="genre" text-case="capitalize-first"/></if><else><!-- This should be localized --><text value="patent" text-case="capitalize-first"/></else></choose><group delimiter=" "><!-- Replace with label variable="number" if that becomes available --><text term="issue" form="short" text-case="capitalize-first"/><text variable="number"/></group></group></if><else-if type="post webpage" match="any"><!-- For post webpage, container-title is treated as publisher --><group delimiter="; "><text macro="secondary-contributors"/><text macro="database-location"/><text macro="number"/><text macro="locators-booklike"/></group></else-if><else-if variable="container-title"><group delimiter="; "><text macro="secondary-contributors"/><choose><if type="broadcast graphic map motion_picture song" match="any"><!-- For audiovisual media, number information comes after title, not container-title --><text macro="number"/></if></choose></group></else-if><else><group delimiter="; "><text macro="secondary-contributors"/><text macro="database-location"/><text macro="number"/><text macro="locators-booklike"/></group></else></choose></group></macro><macro name="parenthetical-container"><choose><if variable="container-title" match="any"><group prefix="(" suffix=")"><group delimiter="; "><text macro="database-location"/><choose><if type="broadcast graphic map motion_picture song" match="none"><!-- For audiovisual media, number information comes after title, not container-title --><text macro="number"/></if></choose><text macro="locators-booklike"/></group></group></if></choose></macro><macro name="bracketed"><!-- [Descriptive information] --><!-- If there is a number, genre is already printed in macro="number" --><group prefix="[" suffix="]"><choose><if variable="reviewed-author reviewed-title" type="review review-book" match="any"><!-- Reviewed item --><group delimiter="; "><group delimiter=", "><group delimiter=" "><!-- Assume that genre is entered as \'Review of the book\' or similar --><choose><if variable="number" match="none"><choose><if variable="genre"><text variable="genre" text-case="capitalize-first"/></if><else-if variable="medium"><text variable="medium" text-case="capitalize-first"/></else-if><else><!-- Replace with term="review" as that becomes available --><text value="Review of"/></else></choose></if><else><choose><if variable="medium"><text variable="medium" text-case="capitalize-first"/></if><else><!-- Replace with term="review" as that becomes available --><text value="Review of"/></else></choose></else></choose><text macro="reviewed-title"/></group><names variable="reviewed-author"><label form="verb-short" suffix=" "/><name and="symbol" initialize-with=". " delimiter=", "/></names></group><choose><if variable="genre" match="any"><choose><if variable="number" match="none"><text variable="medium" text-case="capitalize-first"/></if></choose></if></choose></group></if><else-if type="thesis"><!-- Thesis type and institution --><group delimiter="; "><choose><if variable="number" match="none"><group delimiter=", "><text variable="genre" text-case="capitalize-first"/><choose><if variable="archive DOI URL" match="any"><!-- Include the university in brackets if thesis is published --><text variable="publisher"/></if></choose></group></if></choose><text variable="medium" text-case="capitalize-first"/></group></else-if><else-if variable="interviewer" type="interview" match="any"><!-- Interview information --><choose><if variable="title"><text macro="format"/></if><else-if variable="genre"><group delimiter="; "><group delimiter=" "><text variable="genre" text-case="capitalize-first"/><group delimiter=" "><text term="author" form="verb"/><names variable="interviewer"><name and="symbol" initialize-with=". " delimiter=", "/></names></group></group></group></else-if><else-if variable="interviewer"><group delimiter="; "><names variable="interviewer"><label form="verb" suffix=" " text-case="capitalize-first"/><name and="symbol" initialize-with=". " delimiter=", "/></names><text variable="medium" text-case="capitalize-first"/></group></else-if><else><text macro="format"/></else></choose></else-if><else-if type="personal_communication"><!-- Letter information --><choose><if variable="recipient"><group delimiter="; "><group delimiter=" "><choose><if variable="number" match="none"><choose><if variable="genre"><text variable="genre" text-case="capitalize-first"/></if><else-if variable="medium"><text variable="medium" text-case="capitalize-first"/></else-if><else><text term="letter" form="short" text-case="capitalize-first"/></else></choose></if><else><choose><if variable="medium"><text variable="medium" text-case="capitalize-first"/></if><else><text term="letter" form="short" text-case="capitalize-first"/></else></choose></else></choose><names variable="recipient" delimiter=", "><label form="verb" suffix=" "/><name and="symbol" delimiter=", "/></names></group><choose><if variable="genre" match="any"><choose><if variable="number" match="none"><text variable="medium" text-case="capitalize-first"/></if></choose></if></choose></group></if><else><text macro="format"/></else></choose></else-if><else-if variable="composer" type="song" match="all"><!-- Performer of classical music works --><group delimiter="; "><choose><if variable="number" match="none"><group delimiter=" "><choose><if variable="genre"><text variable="genre" text-case="capitalize-first"/><!-- Replace prefix with performer label as that becomes available --><names variable="author" prefix="recorded by "><name and="symbol" initialize-with=". " delimiter=", "/></names></if><else-if variable="medium"><text variable="medium" text-case="capitalize-first"/><!-- Replace prefix with performer label as that becomes available --><names variable="author" prefix="recorded by "><name and="symbol" initialize-with=". " delimiter=", "/></names></else-if><else><!-- Replace prefix with performer label as that becomes available --><names variable="author" prefix="Recorded by "><name and="symbol" initialize-with=". " delimiter=", "/></names></else></choose></group></if><else><group delimiter=" "><choose><if variable="medium"><text variable="medium" text-case="capitalize-first"/><!-- Replace prefix with performer label as that becomes available --><names variable="author" prefix="recorded by "><name and="symbol" initialize-with=". " delimiter=", "/></names></if><else><!-- Replace prefix with performer label as that becomes available --><names variable="author" prefix="Recorded by "><name and="symbol" initialize-with=". " delimiter=", "/></names></else></choose></group></else></choose><choose><if variable="genre" match="any"><choose><if variable="number" match="none"><text variable="medium" text-case="capitalize-first"/></if></choose></if></choose></group></else-if><else-if variable="container-title" match="none"><!-- Other description --><text macro="format"/></else-if><else><!-- For conference presentations, chapters in reports, software, place bracketed after the container title --><choose><if type="paper-conference speech" match="any"><choose><if variable="collection-editor editor editorial-director issue page volume" match="any"><text macro="format"/></if></choose></if><else-if type="book"><choose><if variable="version" match="none"><text macro="format"/></if></choose></else-if><else-if type="report" match="none"><text macro="format"/></else-if></choose></else></choose></group></macro><macro name="bracketed-intext"><group prefix="[" suffix="]"><choose><if variable="reviewed-author reviewed-title" type="review review-book" match="any"><!-- This should be localized --><text macro="reviewed-title-intext" prefix="Review of "/></if><else-if variable="interviewer" type="interview" match="any"><names variable="interviewer"><label form="verb" suffix=" " text-case="capitalize-first"/><name and="symbol" initialize-with=". " delimiter=", "/><substitute><text macro="format-intext"/></substitute></names></else-if><else-if type="personal_communication"><!-- Letter information --><choose><if variable="recipient"><group delimiter=" "><choose><if variable="number" match="none"><text variable="genre" text-case="capitalize-first"/></if><else><text term="letter" form="short" text-case="capitalize-first"/></else></choose><names variable="recipient" delimiter=", "><label form="verb" suffix=" "/><name and="symbol" delimiter=", "/></names></group></if><else><text macro="format-intext"/></else></choose></else-if><else><text macro="format-intext"/></else></choose></group></macro><macro name="bracketed-container"><group prefix="[" suffix="]"><choose><if type="paper-conference speech" match="any"><!-- Conference presentations should describe the session [container] in bracketed unless published in a proceedings --><choose><if variable="collection-editor editor editorial-director issue page volume" match="none"><text macro="format"/></if></choose></if><else-if type="book" variable="version" match="all"><!-- For entries in mobile app reference works, place bracketed after the container-title --><text macro="format"/></else-if><else-if type="report"><!-- For chapters in reports, place bracketed after the container title --><text macro="format"/></else-if></choose></group></macro><macro name="secondary-contributors"><choose><if type="article-journal article-magazine article-newspaper post-weblog review review-book" match="any"><text macro="secondary-contributors-periodical"/></if><else-if type="paper-conference"><choose><if variable="collection-editor editor editorial-director" match="any"><text macro="secondary-contributors-booklike"/></if><else><text macro="secondary-contributors-periodical"/></else></choose></else-if><else><text macro="secondary-contributors-booklike"/></else></choose></macro><macro name="secondary-contributors-periodical"><group delimiter="; "><choose><if variable="title"><names variable="interviewer" delimiter="; "><name and="symbol" initialize-with=". " delimiter=", "/><label form="short" prefix=", " text-case="title"/></names></if></choose><names variable="translator" delimiter="; "><name and="symbol" initialize-with=". " delimiter=", "/><label form="short" prefix=", " text-case="title"/></names></group></macro><macro name="secondary-contributors-booklike"><group delimiter="; "><choose><if variable="title"><names variable="interviewer"><name and="symbol" initialize-with=". " delimiter=", "/><label form="short" prefix=", " text-case="title"/></names></if></choose><!-- When editortranslator becomes available, add a test: variable="editortranslator" match="none"; then print translator --><choose><if type="post webpage" match="none"><!-- Webpages treat container-title like publisher --><choose><if variable="container-title" match="none"><group delimiter="; "><names variable="container-author"><label form="verb-short" suffix=" " text-case="title"/><name and="symbol" initialize-with=". " delimiter=", "/></names><names variable="editor translator" delimiter="; "><name and="symbol" initialize-with=". " delimiter=", "/><label form="short" prefix=", " text-case="title"/></names></group></if></choose></if><else><group delimiter="; "><names variable="container-author"><label form="verb-short" suffix=" " text-case="title"/><name and="symbol" initialize-with=". " delimiter=", "/></names><names variable="editor translator" delimiter="; "><name and="symbol" initialize-with=". " delimiter=", "/><label form="short" prefix=", " text-case="title"/></names></group></else></choose></group></macro><macro name="database-location"><choose><if variable="archive-place" match="none"><!-- With `archive-place`: physical archives. Without: online archives. --><!-- Add archive_collection as that becomes available --><text variable="archive_location"/></if></choose></macro><macro name="number"><choose><if variable="number"><group delimiter=", "><group delimiter=" "><text variable="genre" text-case="title"/><choose><if is-numeric="number"><!-- Replace with label variable="number" if that becomes available --><text term="issue" form="short" text-case="capitalize-first"/><text variable="number"/></if><else><text variable="number"/></else></choose></group><choose><if type="thesis"><choose><!-- Include the university in brackets if thesis is published --><if variable="archive DOI URL" match="any"><text variable="publisher"/></if></choose></if></choose></group></if></choose></macro><macro name="locators-booklike"><choose><if type="article-journal article-magazine article-newspaper broadcast interview patent post post-weblog review review-book speech webpage" match="any"/><else-if type="paper-conference"><choose><if variable="collection-editor editor editorial-director" match="any"><group delimiter=", "><text macro="version"/><text macro="edition"/><text macro="volume-booklike"/></group></if></choose></else-if><else><group delimiter=", "><text macro="version"/><text macro="edition"/><text macro="volume-booklike"/></group></else></choose></macro><macro name="version"><choose><if is-numeric="version"><group delimiter=" "><!-- replace with label variable="version" if that becomes available --><text term="version" text-case="capitalize-first"/><text variable="version"/></group></if><else><text variable="version"/></else></choose></macro><macro name="edition"><choose><if is-numeric="edition"><group delimiter=" "><number variable="edition" form="ordinal"/><label variable="edition" form="short"/></group></if><else><text variable="edition"/></else></choose></macro><macro name="volume-booklike"><group delimiter=", "><!-- Report series [ex. 52] --><choose><if type="report"><group delimiter=" "><text variable="collection-title" text-case="title"/><text variable="collection-number"/></group></if></choose><choose><if variable="volume" match="any"><choose><!-- Non-numeric volumes are already printed as part of the book title --><if is-numeric="volume" match="none"/><else><group delimiter=" "><label variable="volume" form="short" text-case="capitalize-first"/><number variable="volume" form="numeric"/></group></else></choose></if><else><group><!-- Replace with label variable="number-of-volumes" if that becomes available --><text term="volume" form="short" text-case="capitalize-first" suffix=" "/><text term="page-range-delimiter" prefix="1"/><number variable="number-of-volumes" form="numeric"/></group></else></choose><group delimiter=" "><label variable="issue" text-case="capitalize-first"/><text variable="issue"/></group><group delimiter=" "><label variable="page" form="short" suffix=" "/><text variable="page"/></group></group></macro><macro name="reviewed-title"><choose><if variable="reviewed-title"><!-- Not possible to distinguish TV series episode from other reviewed works [Ex. 69] --><text variable="reviewed-title" font-style="italic"/></if><else><!-- Assume title is title of reviewed work --><text variable="title" font-style="italic"/></else></choose></macro><macro name="reviewed-title-intext"><choose><if variable="reviewed-title"><!-- Not possible to distinguish TV series episode from other reviewed works [Ex. 69] --><text variable="reviewed-title" form="short" font-style="italic" text-case="title"/></if><else><!-- Assume title is title of reviewed work --><text variable="title" form="short" font-style="italic" text-case="title"/></else></choose></macro><macro name="format"><choose><if variable="genre medium" match="any"><group delimiter="; "><choose><if variable="number" match="none"><text variable="genre" text-case="capitalize-first"/></if></choose><text variable="medium" text-case="capitalize-first"/></group></if><!-- Generic labels for specific types --><!-- These should be localized when possible --><else-if type="dataset"><text value="Data set"/></else-if><else-if type="book" variable="version" match="all"><!-- Replace with type="software" and term="software" as that becomes available --><text value="Computer software"/></else-if><else-if type="interview personal_communication" match="any"><choose><if variable="archive container-title DOI publisher URL" match="none"><text term="letter" text-case="capitalize-first"/></if><else-if type="interview"><text term="interview" text-case="capitalize-first"/></else-if></choose></else-if><else-if type="map"><text value="Map"/></else-if></choose></macro><macro name="format-intext"><choose><if variable="genre" match="any"><text variable="genre" text-case="capitalize-first"/></if><else-if variable="medium"><text variable="medium" text-case="capitalize-first"/></else-if><!-- Generic labels for specific types --><!-- These should be localized when possible --><else-if type="dataset"><text value="Data set"/></else-if><else-if type="book" variable="version" match="all"><!-- Replace with type="software" and term="software" as that becomes available --><text value="Computer software"/></else-if><else-if type="interview personal_communication" match="any"><choose><if variable="archive container-title DOI publisher URL" match="none"><text term="letter" text-case="capitalize-first"/></if><else-if type="interview"><text term="interview" text-case="capitalize-first"/></else-if></choose></else-if><else-if type="map"><text value="Map"/></else-if></choose></macro><!-- APA \'source\' element contains four parts:container, event, publisher, access --><macro name="container"><choose><if type="article-journal article-magazine article-newspaper post-weblog review review-book" match="any"><!-- Periodical items --><text macro="container-periodical"/></if><else-if type="paper-conference"><!-- Determine if paper-conference is a periodical or booklike --><choose><if variable="editor editorial-director collection-editor container-author" match="any"><text macro="container-booklike"/></if><else><text macro="container-periodical"/></else></choose></else-if><else-if type="post webpage" match="none"><!-- post and webpage treat container-title like publisher --><text macro="container-booklike"/></else-if></choose></macro><macro name="container-periodical"><group delimiter=". "><group delimiter=", "><text variable="container-title" font-style="italic" text-case="title"/><choose><if variable="volume"><group><text variable="volume" font-style="italic"/><text variable="issue" prefix="(" suffix=")"/></group></if><else><text variable="issue" font-style="italic"/></else></choose><choose><if variable="page"><text variable="page"/></if><else><!-- Ex. 6: Journal article with article number or eLocator --><!-- This should be localized --><text variable="number" prefix="Article "/></else></choose></group><choose><if variable="issued"><choose><if variable="issue page volume" match="none"><text variable="status" text-case="capitalize-first"/></if></choose></if></choose></group></macro><macro name="container-booklike"><choose><if variable="container-title" match="any"><group delimiter=" "><text term="in" text-case="capitalize-first"/><group delimiter=", "><names variable="editor translator" delimiter=", &amp; "><!-- Change to editortranslator and move editor to substitute as that becomes available --><name and="symbol" initialize-with=". " delimiter=", "/><label form="short" text-case="title" prefix=" (" suffix=")"/><substitute><names variable="editorial-director"/><names variable="collection-editor"/><names variable="container-author"/></substitute></names><group delimiter=": " font-style="italic"><text variable="container-title"/><!-- Replace with volume-title as that becomes available --><choose><if is-numeric="volume" match="none"><group delimiter=" "><label variable="volume" form="short" text-case="capitalize-first"/><text variable="volume"/></group></if></choose></group></group><text macro="parenthetical-container"/><text macro="bracketed-container"/></group></if></choose></macro><macro name="publisher"><group delimiter="; "><choose><if type="thesis"><choose><if variable="archive DOI URL" match="none"><text variable="publisher"/></if></choose></if><else-if type="post webpage" match="any"><!-- For websites, treat container title like publisher --><group delimiter="; "><text variable="container-title" text-case="title"/><text variable="publisher"/></group></else-if><else-if type="paper-conference"><!-- For paper-conference, don\'t print publisher if in a journal-like proceedings --><choose><if variable="collection-editor editor editorial-director" match="any"><text variable="publisher"/></if></choose></else-if><else-if type="article-journal article-magazine article-newspaper post-weblog" match="none"><text variable="publisher"/></else-if></choose><group delimiter=", "><choose><if variable="archive-place"><!-- With `archive-place`: physical archives. Without: online archives. --><!-- For physical archives, print the location before the archive name.For electronic archives, these are printed in macro="description". --><!-- Split "archive_location" into "archive_collection" and "archive_location" as that becomes available --><!-- Must test for archive_collection:With collection: archive_collection (archive_location), archive, archive-placeNo collection: archive (archive_location), archive-place--><text variable="archive_location"/></if></choose><text variable="archive"/><text variable="archive-place"/></group></group></macro><macro name="access"><choose><if variable="DOI" match="any"><text variable="DOI" prefix="https://doi.org/"/></if><else-if variable="URL"><group delimiter=" "><choose><if variable="issued status" match="none"><group delimiter=" "><text term="retrieved" text-case="capitalize-first"/><date variable="accessed" form="text" suffix=","/><text term="from"/></group></if></choose><text variable="URL"/></group></else-if></choose></macro><macro name="event"><choose><if variable="event"><!-- To prevent Zotero from printing event-place due to its double-mapping of all \'place\' toboth publisher-place and event-place. Remove this \'choose\' when that is changed. --><choose><if variable="collection-editor editor editorial-director issue page volume" match="none"><!-- Don\'t print event info if published in a proceedings --><group delimiter=", "><text variable="event"/><text variable="event-place"/></group></if></choose></if></choose></macro><!-- After \'source\', APA also prints publication history (original publication, reprint info, retraction info) --><macro name="publication-history"><choose><if type="patent" match="none"><group prefix="(" suffix=")"><choose><if variable="references"><!-- This provides the option for more elaborate description of publication history, such as full "reprinted" references(examples 11, 43, 44) or retracted references --><text variable="references"/></if><else><group delimiter=" "><text value="Original work published"/><choose><if is-uncertain-date="original-date"><text term="circa" form="short"/></if></choose><date variable="original-date"><date-part name="year"/></date></group></else></choose></group></if><else><text variable="references" prefix="(" suffix=")"/></else></choose></macro><!-- Legal citations have their own rules --><macro name="legal-cites"><choose><if type="legal_case"><group delimiter=". "><group delimiter=", "><text variable="title"/><group delimiter=" "><text macro="container-legal"/><text macro="date-legal"/></group><text variable="references"/></group><text macro="access"/></group></if><else-if type="bill"><!-- Currently designed to handle bills, resolutions, hearings, rederal reports. --><group delimiter=". "><group delimiter=", "><choose><if variable="number container-title" match="none"><!-- If no number or container-title, then assume it is a hearing --><text variable="title" font-style="italic"/></if><else><text variable="title"/></else></choose><group delimiter=" "><text macro="container-legal"/><text macro="date-legal"/><choose><if variable="number container-title" match="none"><!-- If no number or container-title, then assume it is a hearing --><names variable="author" prefix="(testimony of " suffix=")"><name and="symbol" delimiter=", "/></names></if><else><text variable="status" prefix="(" suffix=")"/></else></choose></group><text variable="references"/></group><text macro="access"/></group></else-if><else-if type="legislation"><!-- Currently designed to handle statutes, codified regulations, executive orders.For uncodified regulations, assume future code section is in status. --><group delimiter=". "><group delimiter=", "><text variable="title"/><group delimiter=" "><text macro="container-legal"/><text macro="date-legal"/><text variable="status" prefix="(" suffix=")"/></group><text variable="references"/></group><text macro="access"/></group></else-if><else-if type="treaty"><!-- APA generally defers to Bluebook for legal citations, but diverges withoutexplanation for treaty items. The Bluebook format that was used in APA 6thed. is used here. --><group delimiter=", "><text variable="title" text-case="title"/><names variable="author"><name initialize-with="." form="short" delimiter="-"/></names><text macro="date-legal"/><text macro="container-legal"/><text macro="access"/></group></else-if></choose></macro><macro name="date-legal"><choose><if type="legal_case"><group prefix="(" suffix=")" delimiter=" "><text variable="authority"/><choose><if variable="container-title" match="any"><!-- Print only year for cases published in reporters--><date variable="issued" form="numeric" date-parts="year"/></if><else><date variable="issued" form="text"/></else></choose></group></if><else-if type="bill legislation" match="any"><group prefix="(" suffix=")" delimiter=" "><group delimiter=" "><date variable="original-date"><date-part name="year"/></date><text term="and" form="symbol"/></group><date variable="issued"><date-part name="year"/></date></group></else-if><else-if type="treaty"><date variable="issued" form="text"/></else-if></choose></macro><macro name="container-legal"><!-- Expect legal item container-titles to be stored in short form --><choose><if type="legal_case"><group delimiter=" "><choose><if variable="container-title"><group delimiter=" "><text variable="volume"/><text variable="container-title"/><group delimiter=" "><!-- Change to label variable="section" as that becomes available --><text term="section" form="symbol"/><text variable="section"/></group><choose><if variable="page page-first" match="any"><text variable="page-first"/></if><else><text value="___"/></else></choose></group></if><else><group delimiter=" "><choose><if is-numeric="number"><!-- Replace with label variable="number" if that becomes available --><text term="issue" form="short" text-case="capitalize-first"/></if></choose><text variable="number"/></group></else></choose></group></if><else-if type="bill"><group delimiter=", "><group delimiter=" "><text variable="genre"/><group delimiter=" "><choose><if variable="chapter-number container-title" match="none"><!-- Replace with label variable="number" as that becomes available --><text term="issue" form="short"/></if></choose><text variable="number"/></group></group><text variable="authority"/><text variable="chapter-number"/><group delimiter=" "><text variable="volume"/><text variable="container-title"/><text variable="page-first"/></group></group></else-if><else-if type="legislation"><choose><if variable="number"><!--There\'s a public law number--><group delimiter=", "><text variable="number" prefix="Pub. L. No. "/><group delimiter=" "><text variable="volume"/><text variable="container-title"/><text variable="page-first"/></group></group></if><else><group delimiter=" "><text variable="volume"/><text variable="container-title"/><choose><if variable="section"><group delimiter=" "><!-- Change to label variable="section" as that becomes available --><text term="section" form="symbol"/><text variable="section"/></group></if><else><text variable="page-first"/></else></choose></group></else></choose></else-if><else-if type="treaty"><group delimiter=" "><number variable="volume"/><text variable="container-title"/><choose><if variable="page page-first" match="any"><text variable="page-first"/></if><else><group delimiter=" "><!-- Replace with label variable="number" if that becomes available --><text term="issue" form="short" text-case="capitalize-first"/><text variable="number"/></group></else></choose></group></else-if></choose></macro><macro name="citation-locator"><group delimiter=" "><choose><if locator="chapter"><label variable="locator" text-case="capitalize-first"/></if><else><label variable="locator" form="short"/></else></choose><text variable="locator"/></group></macro><citation et-al-min="3" et-al-use-first="1" disambiguate-add-year-suffix="true" disambiguate-add-names="true" disambiguate-add-givenname="true" collapse="year" givenname-disambiguation-rule="primary-name-with-initials"><sort><key macro="author-bib" names-min="3" names-use-first="1"/><key macro="date-sort-group"/><key macro="date-sort-date" sort="ascending"/><key variable="status"/></sort><layout prefix="(" suffix=")" delimiter="; "><group delimiter=", "><text macro="author-intext"/><text macro="date-intext"/><text macro="citation-locator"/></group></layout></citation><bibliography hanging-indent="true" et-al-min="21" et-al-use-first="19" et-al-use-last="true" entry-spacing="0" line-spacing="2"><sort><key macro="author-bib"/><key macro="date-sort-group"/><key macro="date-sort-date" sort="ascending"/><key variable="status"/><key macro="title"/></sort><layout><choose><if type="bill legal_case legislation treaty" match="any"><!-- Legal items have different orders and delimiters --><choose><if variable="DOI URL" match="any"><text macro="legal-cites"/></if><else><text macro="legal-cites" suffix="."/></else></choose></if><else><group delimiter=" "><group delimiter=". " suffix="."><text macro="author-bib"/><text macro="date-bib"/><text macro="title-and-descriptions"/><text macro="container"/><text macro="event"/><text macro="publisher"/></group><text macro="access"/><text macro="publication-history"/></group></else></choose></layout></bibliography>\n</style>\n',
vancouver:'<?xml version="1.0" encoding="utf-8"?>\n<style xmlns="http://purl.org/net/xbiblio/csl" class="in-text" version="1.0" demote-non-dropping-particle="sort-only" initialize-with-hyphen="false" page-range-format="minimal"><info><title>Vancouver</title><id>http://www.zotero.org/styles/vancouver</id><link href="http://www.zotero.org/styles/vancouver" rel="self"/><link href="http://www.nlm.nih.gov/bsd/uniform_requirements.html" rel="documentation"/><author><name>Michael Berkowitz</name><email>mberkowi@gmu.edu</email></author><contributor><name>Sean Takats</name><email>stakats@gmu.edu</email></contributor><contributor><name>Sebastian Karcher</name></contributor><category citation-format="numeric"/><category field="medicine"/><summary>Vancouver style as outlined by International Committee of Medical Journal Editors Uniform Requirements for Manuscripts Submitted to Biomedical Journals: Sample References</summary><updated>2022-04-14T13:48:43+00:00</updated><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights></info><locale xml:lang="en"><date form="text" delimiter=" "><date-part name="year"/><date-part name="month" form="short" strip-periods="true"/><date-part name="day"/></date><terms><term name="collection-editor" form="long"><single>editor</single><multiple>editors</multiple></term><term name="presented at">presented at</term><term name="available at">available from</term><term name="section" form="short">sect.</term></terms></locale><locale xml:lang="fr"><date form="text" delimiter=" "><date-part name="day"/><date-part name="month" form="short" strip-periods="true"/><date-part name="year"/></date></locale><macro name="author"><names variable="author"><name sort-separator=" " initialize-with="" name-as-sort-order="all" delimiter=", " delimiter-precedes-last="always"/><label form="long" prefix=", "/><substitute><names variable="editor"/></substitute></names></macro><macro name="editor"><names variable="editor" suffix="."><name sort-separator=" " initialize-with="" name-as-sort-order="all" delimiter=", " delimiter-precedes-last="always"/><label form="long" prefix=", "/></names></macro><macro name="chapter-marker"><choose><if type="chapter paper-conference entry-dictionary entry-encyclopedia" match="any"><text term="in" text-case="capitalize-first"/></if></choose></macro><macro name="publisher"><choose><!--discard publisher info for articles--><if type="article-journal article-magazine article-newspaper" match="none"><group delimiter=": " suffix=";"><choose><if type="thesis"><text variable="publisher-place" prefix="[" suffix="]"/></if><else-if type="speech"/><else><text variable="publisher-place"/></else></choose><text variable="publisher"/></group></if></choose></macro><macro name="access"><choose><if variable="URL"><group delimiter=": "><text term="available at" text-case="capitalize-first"/><text variable="URL"/></group></if></choose></macro><macro name="accessed-date"><choose><if variable="URL"><group prefix="[" suffix="]" delimiter=" "><text term="cited" text-case="lowercase"/><date variable="accessed" form="text"/></group></if></choose></macro><macro name="container-title"><choose><if type="article-journal article-magazine chapter paper-conference article-newspaper review review-book entry-dictionary entry-encyclopedia" match="any"><group suffix="." delimiter=" "><choose><if type="article-journal review review-book" match="any"><text variable="container-title" form="short" strip-periods="true"/></if><else><text variable="container-title" strip-periods="true"/></else></choose><choose><if variable="URL"><text term="internet" prefix="[" suffix="]" text-case="capitalize-first"/></if></choose></group><text macro="edition" prefix=" "/></if><!--add event-name and event-place once they become available--><else-if type="bill legislation" match="any"><group delimiter=", "><group delimiter=". "><text variable="container-title"/><group delimiter=" "><text term="section" form="short" text-case="capitalize-first"/><text variable="section"/></group></group><text variable="number"/></group></else-if><else-if type="speech"><group delimiter=": " suffix=";"><group delimiter=" "><text variable="genre" text-case="capitalize-first"/><text term="presented at"/></group><text variable="event"/></group></else-if><else><group delimiter=", " suffix="."><choose><if variable="collection-title" match="none"><group delimiter=" "><label variable="volume" form="short" text-case="capitalize-first"/><text variable="volume"/></group></if></choose><text variable="container-title"/></group></else></choose></macro><macro name="title"><text variable="title"/><choose><if type="article-journal article-magazine chapter paper-conference article-newspaper review review-book entry-dictionary entry-encyclopedia" match="none"><choose><if variable="URL"><text term="internet" prefix=" [" suffix="]" text-case="capitalize-first"/></if></choose><text macro="edition" prefix=". "/></if></choose><choose><if type="thesis"><text variable="genre" prefix=" [" suffix="]"/></if></choose></macro><macro name="edition"><choose><if is-numeric="edition"><group delimiter=" "><number variable="edition" form="ordinal"/><text term="edition" form="short"/></group></if><else><text variable="edition" suffix="."/></else></choose></macro><macro name="date"><choose><if type="article-journal article-magazine article-newspaper review review-book" match="any"><group suffix=";" delimiter=" "><date variable="issued" form="text"/><text macro="accessed-date"/></group></if><else-if type="bill legislation" match="any"><group delimiter=", "><date variable="issued" delimiter=" "><date-part name="month" form="short" strip-periods="true"/><date-part name="day"/></date><date variable="issued"><date-part name="year"/></date></group></else-if><else-if type="report"><date variable="issued" delimiter=" "><date-part name="year"/><date-part name="month" form="short" strip-periods="true"/></date><text macro="accessed-date" prefix=" "/></else-if><else-if type="patent"><group suffix="."><group delimiter=", "><text variable="number"/><date variable="issued"><date-part name="year"/></date></group><text macro="accessed-date" prefix=" "/></group></else-if><else-if type="speech"><group delimiter="; "><group delimiter=" "><date variable="issued" delimiter=" "><date-part name="year"/><date-part name="month" form="short" strip-periods="true"/><date-part name="day"/></date><text macro="accessed-date"/></group><text variable="event-place"/></group></else-if><else><group suffix="."><date variable="issued"><date-part name="year"/></date><text macro="accessed-date" prefix=" "/></group></else></choose></macro><macro name="pages"><choose><if type="article-journal article-magazine article-newspaper review review-book" match="any"><text variable="page" prefix=":"/></if><else-if type="book" match="any"><text variable="number-of-pages" prefix=" "/><choose><if is-numeric="number-of-pages"><label variable="number-of-pages" form="short" prefix=" " plural="never"/></if></choose></else-if><else><group prefix=" " delimiter=" "><label variable="page" form="short" plural="never"/><text variable="page"/></group></else></choose></macro><macro name="journal-location"><choose><if type="article-journal article-magazine review review-book" match="any"><text variable="volume"/><text variable="issue" prefix="(" suffix=")"/></if></choose></macro><macro name="collection-details"><choose><if type="article-journal article-magazine article-newspaper review review-book" match="none"><choose><if variable="collection-title"><group delimiter=" " prefix="(" suffix=")"><names variable="collection-editor" suffix="."><name sort-separator=" " initialize-with="" name-as-sort-order="all" delimiter=", " delimiter-precedes-last="always"/><label form="long" prefix=", "/></names><group delimiter="; "><text variable="collection-title"/><group delimiter=" "><label variable="volume" form="short"/><text variable="volume"/></group></group></group></if></choose></if></choose></macro><macro name="report-details"><choose><if type="report"><text variable="number" prefix="Report No.: "/></if></choose></macro><citation collapse="citation-number"><sort><key variable="citation-number"/></sort><layout prefix="(" suffix=")" delimiter=","><text variable="citation-number"/></layout></citation><bibliography et-al-min="7" et-al-use-first="6" second-field-align="flush"><layout><text variable="citation-number" suffix=". "/><group delimiter=". " suffix=". "><text macro="author"/><text macro="title"/></group><group delimiter=" " suffix=". "><group delimiter=": "><text macro="chapter-marker"/><group delimiter=" "><text macro="editor"/><text macro="container-title"/></group></group><text macro="publisher"/><group><text macro="date"/><text macro="journal-location"/><text macro="pages"/></group></group><text macro="collection-details" suffix=". "/><text macro="report-details" suffix=". "/><text macro="access"/></layout></bibliography>\n</style>\n',harvard1:'<?xml version="1.0" encoding="utf-8"?>\n<style xmlns="http://purl.org/net/xbiblio/csl" class="in-text" version="1.0" demote-non-dropping-particle="sort-only" default-locale="en-GB"><info><title>Cite Them Right 11th edition - Harvard</title><id>http://www.zotero.org/styles/harvard-cite-them-right</id><link href="http://www.zotero.org/styles/harvard-cite-them-right" rel="self"/><link href="http://www.zotero.org/styles/harvard-cite-them-right-10th-edition" rel="template"/><link href="http://www.citethemrightonline.com/" rel="documentation"/><author><name>Patrick O\'Brien</name></author><category citation-format="author-date"/><category field="generic-base"/><summary>Harvard according to Cite Them Right, 11th edition.</summary><updated>2021-09-01T10:12:20+00:00</updated><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights></info><locale xml:lang="en-GB"><terms><term name="editor" form="short"><single>ed.</single><multiple>eds</multiple></term><term name="editortranslator" form="verb">edited and translated by</term><term name="edition" form="short">edn.</term></terms></locale><macro name="editor"><choose><if type="chapter paper-conference" match="any"><names variable="container-author" delimiter=", " suffix=", "><name and="text" initialize-with=". " delimiter=", " sort-separator=", " name-as-sort-order="all"/></names><choose><if variable="container-author" match="none"><names variable="editor translator" delimiter=", "><name and="text" initialize-with="." name-as-sort-order="all"/><label form="short" prefix=" (" suffix=")"/></names></if></choose></if></choose></macro><macro name="secondary-contributors"><choose><if type="chapter paper-conference" match="none"><names variable="editor translator" delimiter=". "><label form="verb" text-case="capitalize-first" suffix=" "/><name and="text" initialize-with="."/></names></if><else-if variable="container-author" match="any"><names variable="editor translator" delimiter=". "><label form="verb" text-case="capitalize-first" suffix=" "/><name and="text" initialize-with=". " delimiter=", "/></names></else-if></choose></macro><macro name="author"><names variable="author"><name and="text" delimiter-precedes-last="never" initialize-with="." name-as-sort-order="all"/><label form="short" prefix=" (" suffix=")"/><et-al font-style="italic"/><substitute><names variable="editor"/><names variable="translator"/><choose><if type="article-newspaper article-magazine" match="any"><text variable="container-title" text-case="title" font-style="italic"/></if><else><text macro="title"/></else></choose></substitute></names></macro><macro name="author-short"><names variable="author"><name form="short" and="text" delimiter=", " delimiter-precedes-last="never" initialize-with=". "/><et-al font-style="italic"/><substitute><names variable="editor"/><names variable="translator"/><choose><if type="article-newspaper article-magazine" match="any"><text variable="container-title" text-case="title" font-style="italic"/></if><else><text macro="title"/></else></choose></substitute></names></macro><macro name="access"><choose><if variable="DOI"><text variable="DOI" prefix="doi:"/></if><else-if variable="URL"><text term="available at" suffix=": " text-case="capitalize-first"/><text variable="URL"/><group prefix=" (" delimiter=": " suffix=")"><text term="accessed" text-case="capitalize-first"/><date form="text" variable="accessed"><date-part name="day"/><date-part name="month"/><date-part name="year"/></date></group></else-if></choose></macro><macro name="number-volumes"><choose><if variable="volume" match="none"><group delimiter=" " prefix="(" suffix=")"><text variable="number-of-volumes"/><label variable="volume" form="short" strip-periods="true"/></group></if></choose></macro><macro name="title"><choose><if type="bill book legal_case legislation motion_picture report song thesis webpage graphic" match="any"><group delimiter=". "><group delimiter=" "><group delimiter=" "><text variable="title" font-style="italic"/><text variable="medium" prefix="[" suffix="]"/></group><text macro="number-volumes"/></group><text macro="edition"/></group></if><else><text variable="title" form="long" quotes="true"/></else></choose></macro><macro name="publisher"><choose><if type="thesis"><group delimiter=". "><text variable="genre"/><text variable="publisher"/></group></if><else-if type="report"><group delimiter=". "><group delimiter=" "><text variable="genre"/><text variable="number"/></group><group delimiter=": "><text variable="publisher-place"/><text variable="publisher"/></group></group></else-if><else-if type="article-journal article-newspaper article-magazine" match="none"><group delimiter=" "><group delimiter=", "><choose><if type="speech" variable="event" match="any"><text variable="event" font-style="italic"/></if></choose><group delimiter=": "><text variable="publisher-place"/><text variable="publisher"/></group></group><group prefix="(" suffix=")" delimiter=", "><text variable="collection-title"/><text variable="collection-number"/></group></group></else-if></choose></macro><macro name="year-date"><choose><if variable="issued"><date variable="issued"><date-part name="year"/></date><text variable="year-suffix"/></if><else><text term="no date"/><text variable="year-suffix" prefix=" "/></else></choose></macro><macro name="locator"><choose><if type="article-journal"><text variable="volume"/><text variable="issue" prefix="(" suffix=")"/></if></choose></macro><macro name="published-date"><choose><if type="article-newspaper article-magazine post-weblog speech" match="any"><date variable="issued"><date-part name="day" suffix=" "/><date-part name="month" form="long"/></date></if></choose></macro><macro name="pages"><choose><if type="chapter paper-conference article-journal article article-magazine article-newspaper book review review-book report" match="any"><group delimiter=" "><label variable="page" form="short"/><text variable="page"/></group></if></choose></macro><macro name="container-title"><choose><if variable="container-title"><group delimiter=". "><group delimiter=" "><text variable="container-title" font-style="italic"/><choose><if type="article article-journal" match="any"><choose><if match="none" variable="page volume"><text value="Preprint" prefix="[" suffix="]"/></if></choose></if></choose></group><text macro="edition"/></group></if></choose></macro><macro name="edition"><choose><if is-numeric="edition"><group delimiter=" "><number variable="edition" form="ordinal"/><text term="edition" form="short" strip-periods="true"/></group></if><else><text variable="edition"/></else></choose></macro><macro name="container-prefix"><choose><if type="chapter paper-conference" match="any"><text term="in"/></if></choose></macro><citation et-al-min="4" et-al-use-first="1" disambiguate-add-year-suffix="true" disambiguate-add-names="true" disambiguate-add-givenname="true" collapse="year"><sort><key macro="year-date"/></sort><layout prefix="(" suffix=")" delimiter="; "><group delimiter=", "><group delimiter=", "><text macro="author-short"/><text macro="year-date"/></group><group><label variable="locator" form="short" suffix=" "/><text variable="locator"/></group></group></layout></citation><bibliography and="text" et-al-min="4" et-al-use-first="1"><sort><key macro="author"/><key macro="year-date"/><key variable="title"/></sort><layout suffix="."><group delimiter=". "><group delimiter=" "><text macro="author"/><text macro="year-date" prefix="(" suffix=")"/><group delimiter=", "><text macro="title"/><group delimiter=" "><text macro="container-prefix"/><text macro="editor"/><text macro="container-title"/></group></group></group><text macro="secondary-contributors"/><text macro="publisher"/></group><group delimiter=", " prefix=", "><text macro="locator"/><text macro="published-date"/><text macro="pages"/></group><text macro="access" prefix=". "/></layout></bibliography>\n</style>\n'}},{}],95:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0}),r.templates=r.default=void 0;var s=e("@citation-js/core"),n=i(e("./styles.json"));const a=r.templates=new s.util.Register(n.default),o=e=>a.has(e)?a.get(e):a.get("apa");r.default=o},{"./styles.json":94,"@citation-js/core":"citation-js"}],96:[function(e,t,r){"use strict";var i,s,n,a,o,l,u,c,m,p,h,f,d,g={PROCESSOR_VERSION:"1.4.61",error:function(e){throw"undefined"==typeof Error?new Error("citeproc-js error: "+e):"citeproc-js error: "+e},debug:function(e){"undefined"==typeof console?dump("CSL: "+e+"\n"):console.log("citeproc-js warning: "+e)},toLocaleUpperCase(e){var t=this.tmp.lang_array;try{e=e.toLocaleUpperCase(t)}catch(t){e=e.toUpperCase()}return e},toLocaleLowerCase(e){var t=this.tmp.lang_array;try{e=e.toLocaleLowerCase(t)}catch(t){e=e.toLowerCase()}return e},LOCATOR_LABELS_REGEXP:new RegExp("^((vrs|sv|subpara|op|subch|add|amend|annot|app|art|bibliog|bk|ch|cl|col|cmt|dec|dept|div|ex|fig|fld|fol|n|hypo|illus|intro|l|no|p|pp|para|pt|pmbl|princ|pub|r|rn|sched|sec|ser|subdiv|subsec|supp|tbl|tit|vol)\\.)\\s+(.*)"),STATUTE_SUBDIV_PLAIN_REGEX:/(?:(?:^| )(?:vrs|sv|subpara|op|subch|add|amend|annot|app|art|bibliog|bk|ch|cl|col|cmt|dec|dept|div|ex|fig|fld|fol|n|hypo|illus|intro|l|no|p|pp|para|pt|pmbl|princ|pub|r|rn|sched|sec|ser|subdiv|subsec|supp|tbl|tit|vol)\. *)/,STATUTE_SUBDIV_PLAIN_REGEX_FRONT:/(?:^\s*[.,;]*\s*(?:vrs|sv|subpara|op|subch|add|amend|annot|app|art|bibliog|bk|ch|cl|col|cmt|dec|dept|div|ex|fig|fld|fol|n|hypo|illus|intro|l|no|p|pp|para|pt|pmbl|princ|pub|r|rn|sched|sec|ser|subdiv|subsec|supp|tbl|tit|vol)\. *)/,STATUTE_SUBDIV_STRINGS:{"vrs.":"verse","sv.":"sub-verbo","subpara.":"subparagraph","op.":"opus","subch.":"subchapter","add.":"addendum","amend.":"amendment","annot.":"annotation","app.":"appendix","art.":"article","bibliog.":"bibliography","bk.":"book","ch.":"chapter","cl.":"clause","col.":"column","cmt.":"comment","dec.":"decision","dept.":"department","ex.":"example","fig.":"figure","fld.":"field","fol.":"folio","n.":"note","hypo.":"hypothetical","illus.":"illustration","intro.":"introduction","l.":"line","no.":"issue","p.":"page","pp.":"page","para.":"paragraph","pt.":"part","pmbl.":"preamble","princ.":"principle","pub.":"publication","r.":"rule","rn.":"randnummer","sched.":"schedule","sec.":"section","ser.":"series,","subdiv.":"subdivision","subsec.":"subsection","supp.":"supplement","tbl.":"table","tit.":"title","vol.":"volume"},STATUTE_SUBDIV_STRINGS_REVERSE:{verse:"vrs.","sub-verbo":"sv.","sub verbo":"sv.",subparagraph:"subpara.",opus:"op.",subchapter:"subch.",addendum:"add.",amendment:"amend.",annotation:"annot.",appendix:"app.",article:"art.",bibliography:"bibliog.",book:"bk.",chapter:"ch.",clause:"cl.",column:"col.",comment:"cmt.",decision:"dec.",department:"dept.",example:"ex.",figure:"fig.",field:"fld.",folio:"fol.",note:"n.",hypothetical:"hypo.",illustration:"illus.",introduction:"intro.",line:"l.",issue:"no.",page:"p.",paragraph:"para.",part:"pt.",preamble:"pmbl.",principle:"princ.",publication:"pub.",rule:"r.",randnummer:"rn.",schedule:"sched.",section:"sec.","series,":"ser.",subdivision:"subdiv.",subsection:"subsec.",supplement:"supp.",table:"tbl.",title:"tit.",volume:"vol."},LOCATOR_LABELS_MAP:{vrs:"verse",sv:"sub-verbo",subpara:"subparagraph",op:"opus",subch:"subchapter",add:"addendum",amend:"amendment",annot:"annotation",app:"appendix",art:"article",bibliog:"bibliography",bk:"book",ch:"chapter",cl:"clause",col:"column",cmt:"comment",dec:"decision",dept:"department",ex:"example",fig:"figure",fld:"field",fol:"folio",n:"note",hypo:"hypothetical",illus:"illustration",intro:"introduction",l:"line",no:"issue",p:"page",pp:"page",para:"paragraph",pt:"part",pmbl:"preamble",princ:"principle",pub:"publication",r:"rule",rn:"randnummer",sched:"schedule",sec:"section",ser:"series,",subdiv:"subdivision",subsec:"subsection",supp:"supplement",tbl:"table",tit:"title",vol:"volume"},MODULE_MACROS:{"juris-pretitle":!0,"juris-title":!0,"juris-pretitle-short":!0,"juris-title-short":!0,"juris-main":!0,"juris-main-short":!0,"juris-tail":!0,"juris-tail-short":!0,"juris-locator":!0},MODULE_TYPES:{legal_case:!0,legislation:!0,bill:!0,hearing:!0,gazette:!0,report:!0,regulation:!0,standard:!0,patent:!0,locator:!0},checkNestedBrace:function(e){"note"===e.opt.xclass?(this.depth=0,this.update=function(e){e=e||"";for(var t=e.split(/([\(\)])/),r=1,i=t.length;r<i;r+=2)"("===t[r]?(1==this.depth%2&&(t[r]="["),this.depth+=1):")"===t[r]&&(0==this.depth%2&&(t[r]="]"),this.depth-=1);var s=t.join("");return s}):this.update=function(e){return e}},MULTI_FIELDS:["event","publisher","publisher-place","event-place","title","container-title","collection-title","authority","genre","title-short","medium","country","jurisdiction","archive","archive-place"],LangPrefsMap:{title:"titles","title-short":"titles",event:"titles",genre:"titles",medium:"titles","container-title":"journals","collection-title":"titles",archive:"journals",publisher:"publishers",authority:"publishers","publisher-place":"places","event-place":"places","archive-place":"places",jurisdiction:"places",number:"places",edition:"places",issue:"places",volume:"places"},AbbreviationSegments:function(){this["container-title"]={},this["collection-title"]={},this["institution-entire"]={},this["institution-part"]={},this.nickname={},this.number={},this.title={},this.place={},this.hereinafter={},this.classic={},this["container-phrase"]={},this["title-phrase"]={}},getAbbrevsDomain:function(e,t,r){var i=null;if(e.opt.availableAbbrevDomains&&t&&"default"!==t){var s=e.locale[e.opt.lang].opts["jurisdiction-preference"],n=null;if(e.locale[r]&&(n=e.locale[r].opts["jurisdiction-preference"]),n)for(var a=n.length-1;a>-1;a--)if(e.opt.availableAbbrevDomains[t].indexOf(n[a])>-1){i=n[a];break}if(!i&&s)for(a=s.length-1;a>-1;a--)if(e.opt.availableAbbrevDomains[t].indexOf(s[a])>-1){i=s[a];break}}return i},FIELD_CATEGORY_REMAP:{title:"title","container-title":"container-title","collection-title":"collection-title",country:"place",number:"number",place:"place",archive:"container-title","title-short":"title",genre:"title",event:"title",medium:"title","archive-place":"place","publisher-place":"place","event-place":"place",jurisdiction:"place","language-name":"place","language-name-original":"place","call-number":"number","chapter-number":"number","collection-number":"number",edition:"number",page:"number",issue:"number",locator:"number","locator-extra":"number","number-of-pages":"number","number-of-volumes":"number",volume:"number","citation-number":"number",publisher:"institution-part"},parseLocator:function(e){if(this.opt.development_extensions.locator_date_and_revision&&e.locator){e.locator=""+e.locator;var t=e.locator.indexOf("|");if(t>-1){var r=e.locator;e.locator=r.slice(0,t),r=r.slice(t+1);var i=r.match(/^([0-9]{4}-[0-9]{2}-[0-9]{2}).*/);i&&(e["locator-date"]=this.fun.dateparser.parseDateToObject(i[1]),r=r.slice(i[1].length)),e["locator-extra"]=r.replace(/^\s+/,"").replace(/\s+$/,"")}}return e.locator&&(e.locator=(""+e.locator).replace(/\s+$/,"")),e},normalizeLocaleStr:function(e){if(e){var t=e.split("-");return t[0]=t[0].toLowerCase(),t[1]&&(t[1]=t[1].toUpperCase()),t.join("-")}},parseNoteFieldHacks:function(e,t,r){if("string"==typeof e.note){for(var i=[],s=e.note.split("\n"),n=0,a=s.length;n<a;n++){var o=s[n],l=(i=[],o.match(g.NOTE_FIELDS_REGEXP));if(l){for(var u=o.split(g.NOTE_FIELDS_REGEXP),c=0,m=u.length-1;c<m;c++)i.push(u[c]),i.push(l[c]);i.push(u[u.length-1]);for(c=1,m=i.length;c<m&&(!i[c-1].trim()||!(n>0||c>1)||i[c-1].match(g.NOTE_FIELD_REGEXP));c+=2)i[c]="\n"+i[c].slice(2,-1).trim()+"\n";s[n]=i.join("")}}s=s.join("\n").split("\n");var p=0,h={};for(n=0,a=s.length;n<a;n++){o=s[n];var f=o.match(g.NOTE_FIELD_REGEXP);if(o.trim()){if(!f){if(0===n)continue;p=n;break}var d=f[1],b=f[2].replace(/^\s+/,"").replace(/\s+$/,"");if("type"===d)e.type=b,s[n]="";else if(g.DATE_VARIABLES.indexOf(d.replace(/^alt-/,""))>-1)e[d]&&!r||(e[d]=g.DateParser.parseDateToArray(b),(!t||t[d]&&this.isDateString(b))&&(s[n]=""));else if(!e[d]){if(g.NAME_VARIABLES.indexOf(d.replace(/^alt-/,""))>-1){h[d]||(h[d]=[]);var y=b.split(/\s*\|\|\s*/);if(1===y.length)h[d].push({literal:y[0]});else if(2===y.length){var v={family:y[0],given:y[1]};g.parseParticles(v),h[d].push(v)}}else e[d]=b;t&&!t[d]||(s[n]="")}}}for(var d in h)e[d]=h[d];if(t){s[p].trim()&&(s[p]="\n"+s[p]);for(n=p-1;n>-1;n--)s[n].trim()||(s=s.slice(0,n).concat(s.slice(n+1)))}e.note=s.join("\n").trim()}},checkPrefixSpaceAppend:function(e,t){t||(t="");var r="",i=t.replace(/<[^>]+>/g,"").replace(/["'\u201d\u2019\u00bb\u202f\u00a0 ]+$/g,""),s=i.slice(-1);i.match(g.ENDSWITH_ROMANESQUE_REGEXP)?r=" ":g.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(s)>-1?r=" ":s.match(/[\)\],0-9]/)&&(r=" ");t=(t+r).replace(/\s+/g," ");return t},checkIgnorePredecessor:function(e,t){var r=t.replace(/<[^>]+>/g,"").replace(/["'\u201d\u2019\u00bb\u202f\u00a0 ]+$/g,""),i=r.slice(-1);return g.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(i)>-1&&t.trim().indexOf(" ")>-1&&(e.tmp.term_predecessor=!1,!0)},checkSuffixSpacePrepend:function(e,t){return t?((t.match(g.STARTSWITH_ROMANESQUE_REGEXP)||["[","("].indexOf(t.slice(0,1))>-1)&&(t=" "+t),t):""},GENDERS:["masculine","feminine"],ERROR_NO_RENDERED_FORM:1,PREVIEW:"Just for laughs.",ASSUME_ALL_ITEMS_REGISTERED:2,START:0,END:1,SINGLETON:2,SEEN:6,SUCCESSOR:3,SUCCESSOR_OF_SUCCESSOR:4,SUPPRESS:5,SINGULAR:0,PLURAL:1,LITERAL:!0,BEFORE:1,AFTER:2,DESCENDING:1,ASCENDING:2,PRIMARY:1,SECONDARY:2,POSITION_FIRST:0,POSITION_SUBSEQUENT:1,POSITION_IBID:2,POSITION_IBID_WITH_LOCATOR:3,POSITION_CONTAINER_SUBSEQUENT:4,POSITION_MAP:{0:0,4:1,1:2,2:3,3:4},POSITION_TEST_VARS:["position","first-reference-note-number","near-note"],AREAS:["citation","citation_sort","bibliography","bibliography_sort","intext"],CITE_FIELDS:["first-reference-note-number","first-container-reference-note-number","locator","locator-extra"],SWAPPING_PUNCTUATION:[".","!","?",":",","],TERMINAL_PUNCTUATION:[":",".",";","!","?"," "],NONE:0,NUMERIC:1,POSITION:2,TRIGRAPH:3,DATE_PARTS:["year","month","day"],DATE_PARTS_ALL:["year","month","day","season"],DATE_PARTS_INTERNAL:["year","month","day","year_end","month_end","day_end"],NAME_PARTS:["non-dropping-particle","family","given","dropping-particle","suffix","literal"],DISAMBIGUATE_OPTIONS:["disambiguate-add-names","disambiguate-add-givenname","disambiguate-add-year-suffix"],GIVENNAME_DISAMBIGUATION_RULES:["all-names","all-names-with-initials","primary-name","primary-name-with-initials","by-cite"],NAME_ATTRIBUTES:["and","delimiter-precedes-last","delimiter-precedes-et-al","initialize-with","initialize","name-as-sort-order","sort-separator","et-al-min","et-al-use-first","et-al-subsequent-min","et-al-subsequent-use-first","form","prefix","suffix","delimiter"],LOOSE:0,STRICT:1,TOLERANT:2,PREFIX_PUNCTUATION:/[.;:]\s*$/,SUFFIX_PUNCTUATION:/^\s*[.;:,\(\)]/,NUMBER_REGEXP:/(?:^\d+|\d+$)/,NAME_INITIAL_REGEXP:/^([A-Z\u0e01-\u0e5b\u00c0-\u017f\u0400-\u042f\u0590-\u05d4\u05d6-\u05ff\u0600-\u06ff\u0370\u0372\u0376\u0386\u0388-\u03ab\u03e2\u03e4\u03e6\u03e8\u03ea\u03ec\u03ee\u03f4\u03f7\u03fd-\u03ff])([a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0400-\u052f\u0600-\u06ff\u0370-\u03ff\u1f00-\u1fff]*|)(\.)*/,ROMANESQUE_REGEXP:/[-0-9a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]/,ROMANESQUE_NOT_REGEXP:/[^a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]/g,STARTSWITH_ROMANESQUE_REGEXP:/^[&a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]/,ENDSWITH_ROMANESQUE_REGEXP:/[.;:&a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]$/,ALL_ROMANESQUE_REGEXP:/^[a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]+$/,VIETNAMESE_SPECIALS:/[\u00c0-\u00c3\u00c8-\u00ca\u00cc\u00cd\u00d2-\u00d5\u00d9\u00da\u00dd\u00e0-\u00e3\u00e8-\u00ea\u00ec\u00ed\u00f2-\u00f5\u00f9\u00fa\u00fd\u0101\u0103\u0110\u0111\u0128\u0129\u0168\u0169\u01a0\u01a1\u01af\u01b0\u1ea0-\u1ef9]/,VIETNAMESE_NAMES:/^(?:(?:[.AaBbCcDdEeGgHhIiKkLlMmNnOoPpQqRrSsTtUuVvXxYy \u00c0-\u00c3\u00c8-\u00ca\u00cc\u00cd\u00d2-\u00d5\u00d9\u00da\u00dd\u00e0-\u00e3\u00e8-\u00ea\u00ec\u00ed\u00f2-\u00f5\u00f9\u00fa\u00fd\u0101\u0103\u0110\u0111\u0128\u0129\u0168\u0169\u01a0\u01a1\u01af\u01b0\u1ea0-\u1ef9]{2,6})(\s+|$))+$/,NOTE_FIELDS_REGEXP:/\{:(?:[\-_a-z]+|[A-Z]+):[^\}]+\}/g,NOTE_FIELD_REGEXP:/^([\-_a-z]+|[A-Z]+):\s*([^\}]+)$/,PARTICLE_GIVEN_REGEXP:/^([^ ]+(?:\u02bb |\u2019 | |\' ) *)(.+)$/,PARTICLE_FAMILY_REGEXP:/^([^ ]+(?:\-|\u02bb|\u2019| |\') *)(.+)$/,DISPLAY_CLASSES:["block","left-margin","right-inline","indent"],NAME_VARIABLES:["author","chair","collection-editor","compiler","composer","container-author","contributor","curator","director","editor","editor-translator","editorial-director","executive-producer","guest","host","illustrator","interviewer","narrator","organizer","original-author","performer","producer","recipient","reviewed-author","script-writer","series-creator","translator","commenter"],CREATORS:["author","chair","collection-editor","compiler","composer","container-author","contributor","curator","director","editor","editor-translator","editorial-director","executive-producer","guest","host","illustrator","interviewer","narrator","organizer","original-author","performer","producer","recipient","reviewed-author","script-writer","series-creator","translator","commenter"],NUMERIC_VARIABLES:["call-number","chapter-number","collection-number","division","edition","page","issue","locator","locator-extra","number","number-of-pages","number-of-volumes","part-number","printing-number","section","supplement-number","version","volume","supplement","citation-number"],DATE_VARIABLES:["locator-date","issued","event-date","accessed","original-date","publication-date","available-date","submitted","alt-issued","alt-event"],VARIABLES_WITH_SHORT_FORM:["title","container-title"],TITLE_FIELD_SPLITS:function(e){for(var t=["title","short","main","sub","subjoin"],r={},i=0,s=t.length;i<s;i++)r[t[i]]=e+"title"+("title"===t[i]?"":"-"+t[i]);return r},demoteNoiseWords:function(e,t,r){var i=e.locale[e.opt.lang].opts["leading-noise-words"];if(t&&r){t=t.split(/\s+/),t.reverse();for(var s=[],n=t.length-1;n>-1&&i.indexOf(t[n].toLowerCase())>-1;n+=-1)s.push(t.pop());t.reverse();var a=t.join(" "),o=s.join(" ");"drop"!==r&&o?"demote"===r&&(t=[a,o].join(", ")):t=a}return t},
extractTitleAndSubtitle:function(e,t){var r=t?"":"",i=[""];this.opt.development_extensions.split_container_title&&i.push("container-");for(var s=0,n=i.length;s<n;s++){var a=i[s],o=g.TITLE_FIELD_SPLITS(a),l=[!1];if(e.multi)for(var u in e.multi._keys[o.short])l.push(u);for(var c=0,m=l.length;c<m;c++){u=l[c];var p={};u?(e.multi._keys[o.title]&&(p[o.title]=e.multi._keys[o.title][u]),e.multi._keys[o.short]&&(p[o.short]=e.multi._keys[o.short][u])):(p[o.title]=e[o.title],p[o.short]=e[o.short]),p[o.main]=p[o.title],p[o.sub]=!1;var h=p[o.short];if(p[o.title]){if(h&&h.toLowerCase()===p[o.title].toLowerCase())p[o.main]=p[o.title],p[o.subjoin]="",p[o.sub]="";else if(h){var f=p[o.title].slice(h.replace(/[\?\!]+$/,"").length),d=p[o.title].replace(f.replace(/^[\?\!]+/,""),"").trim(),b=g.TITLE_SPLIT_REGEXP.matchfirst.exec(f);if(b&&d.toLowerCase()===h.toLowerCase())p[o.main]=d,p[o.subjoin]=b[1].replace(/[\?\!]+(\s*)$/,"$1"),p[o.sub]=f.replace(g.TITLE_SPLIT_REGEXP.matchfirst,""),this.opt.development_extensions.force_short_title_casing_alignment&&(p[o.short]=p[o.main]);else{var y=g.TITLE_SPLIT(p[o.title]);3==y.length?(p[o.main]=y[0],p[o.subjoin]=y[1],p[o.sub]=y[2]):(p[o.main]=p[o.title],p[o.subjoin]="",p[o.sub]="")}}else{y=g.TITLE_SPLIT(p[o.title]);if(3==y.length){if(p[o.main]=y[0],p[o.subjoin]=y[1],p[o.sub]=y[2],this.opt.development_extensions.implicit_short_title&&"legal_case"!==e.type&&!e[o.short]&&!p[o.main].match(/^[\-\.[0-9]+$/)){var v=p[o.subjoin].trim();-1===["?","!"].indexOf(v)&&(v=""),p[o.short]=p[o.main]+v}}else p[o.main]=p[o.title],p[o.subjoin]="",p[o.sub]=""}if(p[o.subjoin]&&p[o.subjoin].match(/([\?\!])/)){b=p[o.subjoin].match(/(\s*)$/);p[o.main]=p[o.main]+r+p[o.subjoin].trim(),p[o.subjoin]=b[1]}}if(p[o.subjoin]&&(p[o.subjoin].indexOf(":")>-1&&(p[o.subjoin]=r+": "),(p[o.subjoin].indexOf("-")>-1||p[o.subjoin].indexOf("")>-1)&&(p[o.subjoin]="")),u)for(var _ in p)e.multi._keys[_]||(e.multi._keys[_]={}),e.multi._keys[_][u]=p[_];else for(var _ in p)e[_]=p[_]}}},titlecaseSentenceOrNormal:function(e,t,r,i,s){var n=g.TITLE_FIELD_SPLITS(r),a={};if(i&&t.multi?(t.multi._keys[n.title]&&(a[n.title]=t.multi._keys[n.title][i]),t.multi._keys[n.main]&&(a[n.main]=t.multi._keys[n.main][i]),t.multi._keys[n.sub]&&(a[n.sub]=t.multi._keys[n.sub][i]),t.multi._keys[n.subjoin]&&(a[n.subjoin]=t.multi._keys[n.subjoin][i])):(a[n.title]=t[n.title],a[n.main]=t[n.main],a[n.sub]=t[n.sub],a[n.subjoin]=t[n.subjoin]),a[n.main]&&a[n.sub]){var o=a[n.main],l=a[n.subjoin],u=a[n.sub];return s?(o=g.Output.Formatters.sentence(e,o),u=g.Output.Formatters.sentence(e,u)):e.opt.development_extensions.uppercase_subtitles&&(u=g.Output.Formatters["capitalize-first"](e,u)),[o,l,u].join("")}if(a[n.title]){if(s)return g.Output.Formatters.sentence(e,a[n.title]);if(e.opt.development_extensions.uppercase_subtitles){for(var c=g.TITLE_SPLIT(a[n.title]),m=0,p=c.length;m<p;m+=2)c[m]=g.Output.Formatters["capitalize-first"](e,c[m]);for(m=1,p=c.length-1;m<p;m+=2){var h=c[m].match(/([:\?\!] )/);if(h){var f="fr"===e.opt["default-locale"][0].slice(0,2).toLowerCase()?"":"";c[m]=f+h[1]}(c[m].indexOf("-")>-1||c[m].indexOf("")>-1)&&(c[m]="")}return a[n.title]=c.join(""),a[n.title]}return a[n.title]}return""},getSafeEscape:function(e){if(["bibliography","citation"].indexOf(e.tmp.area)>-1){var t=[];return e.opt.development_extensions.thin_non_breaking_space_html_hack&&"html"===e.opt.mode&&t.push(function(e){return e.replace(/\u202f/g,'<span style="white-space:nowrap">&thinsp;</span>')}),t.length?function(r){for(var i=0,s=t.length;i<s;i+=1)r=t[i](r);return g.Output.Formats[e.opt.mode].text_escape(r)}:g.Output.Formats[e.opt.mode].text_escape}return function(e){return e}},SKIP_WORDS:["about","above","across","afore","after","against","al","along","alongside","amid","amidst","among","amongst","anenst","apropos","apud","around","as","aside","astride","at","athwart","atop","barring","before","behind","below","beneath","beside","besides","between","beyond","but","by","circa","despite","down","during","et","except","for","forenenst","from","given","in","inside","into","lest","like","modulo","near","next","notwithstanding","of","off","on","onto","out","over","per","plus","pro","qua","sans","since","than","through"," thru","throughout","thruout","till","to","toward","towards","under","underneath","until","unto","up","upon","versus","vs.","v.","vs","v","via","vis- -vis","with","within","without","according to","ahead of","apart from","as for","as of","as per","as regards","aside from","back to","because of","close to","due to","except for","far from","inside of","instead of","near to","next to","on to","out from","out of","outside of","prior to","pursuant to","rather than","regardless of","such as","that of","up to","where as","or","yet","so","for","and","nor","a","an","the","de","d'","von","van","c","ca"],FORMAT_KEY_SEQUENCE:["@strip-periods","@font-style","@font-variant","@font-weight","@text-decoration","@vertical-align","@quotes"],INSTITUTION_KEYS:["font-style","font-variant","font-weight","text-decoration","text-case"],SUFFIX_CHARS:"a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z",ROMAN_NUMERALS:[["","i","ii","iii","iv","v","vi","vii","viii","ix"],["","x","xx","xxx","xl","l","lx","lxx","lxxx","xc"],["","c","cc","ccc","cd","d","dc","dcc","dccc","cm"],["","m","mm","mmm","mmmm","mmmmm"]],LANGS:{"af-ZA":"Afrikaans",ar:"Arabic","bg-BG":"Bulgarian","ca-AD":"Catalan","cs-CZ":"Czech","da-DK":"Danish","de-AT":"Austrian","de-CH":"German (CH)","de-DE":"German (DE)","el-GR":"Greek","en-GB":"English (GB)","en-US":"English (US)","es-ES":"Spanish","et-EE":"Estonian",eu:"European","fa-IR":"Persian","fi-FI":"Finnish","fr-CA":"French (CA)","fr-FR":"French (FR)","he-IL":"Hebrew","hr-HR":"Croatian","hu-HU":"Hungarian","is-IS":"Icelandic","it-IT":"Italian","ja-JP":"Japanese","km-KH":"Khmer","ko-KR":"Korean","lt-LT":"Lithuanian","lv-LV":"Latvian","mn-MN":"Mongolian","nb-NO":"Norwegian (Bokml)","nl-NL":"Dutch","nn-NO":"Norwegian (Nynorsk)","pl-PL":"Polish","pt-BR":"Portuguese (BR)","pt-PT":"Portuguese (PT)","ro-RO":"Romanian","ru-RU":"Russian","sk-SK":"Slovak","sl-SI":"Slovenian","sr-RS":"Serbian","sv-SE":"Swedish","th-TH":"Thai","tr-TR":"Turkish","uk-UA":"Ukrainian","vi-VN":"Vietnamese","zh-CN":"Chinese (CN)","zh-TW":"Chinese (TW)"},LANG_BASES:{af:"af_ZA",ar:"ar",bg:"bg_BG",ca:"ca_AD",cs:"cs_CZ",da:"da_DK",de:"de_DE",el:"el_GR",en:"en_US",es:"es_ES",et:"et_EE",eu:"eu",fa:"fa_IR",fi:"fi_FI",fr:"fr_FR",he:"he_IL",hr:"hr-HR",hu:"hu_HU",is:"is_IS",it:"it_IT",ja:"ja_JP",km:"km_KH",ko:"ko_KR",lt:"lt_LT",lv:"lv-LV",mn:"mn_MN",nb:"nb_NO",nl:"nl_NL",nn:"nn-NO",pl:"pl_PL",pt:"pt_PT",ro:"ro_RO",ru:"ru_RU",sk:"sk_SK",sl:"sl_SI",sr:"sr_RS",sv:"sv_SE",th:"th_TH",tr:"tr_TR",uk:"uk_UA",vi:"vi_VN",zh:"zh_CN"},SUPERSCRIPTS:{"":"a","":"2","":"3","":"1","":"o","":"h","":"","":"j","":"r","":"","":"","":"","":"w","":"y","":"","":"l","":"s","":"x","":"","":"A","":"","":"B","":"D","":"E","":"","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"","":"P","":"R","":"T","":"U","":"W","":"a","":"","":"","":"","":"b","":"d","":"e","":"","":"","":"","":"g","":"k","":"m","":"","":"o","":"","":"","":"","":"p","":"t","":"u","":"","":"","":"v","":"","":"","":"","":"","":"","":"","":"0","":"i","":"4","":"5","":"6","":"7","":"8","":"9","":"+","":"","":"=","":"(","":")","":"n","":"SM","":"TM","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},SUPERSCRIPTS_REGEXP:new RegExp("[]","g"),UPDATE_GROUP_CONTEXT_CONDITION:function(e,t,r,i,s){if(e.opt.use_context_condition){var n=e.tmp.group_context.tip;n.condition?(n.condition.termtxt||(n.condition.termtxt=t,n.condition.valueTerm=r),n.value_seen||"comma-safe-numbers-only"!==n.condition.test||s&&(n.value_seen=!0,s.match(/^[0-9]/)||(e.tmp.just_did_number=!1))):i&&i.decorations.filter(e=>"@vertical-align"===e[0]).length>0?e.tmp.just_did_number=!1:i&&i.strings.suffix?e.tmp.just_did_number=!1:t&&(t.match(/[0-9]$/)?e.tmp.just_did_number=!0:e.tmp.just_did_number=!1)}},EVALUATE_GROUP_CONDITION:function(e,t){if(e.opt.use_context_condition){var r,i="comma-safe-numbers-only"===t.condition.test;if("empty-label"===t.condition.test)r=!t.condition.termtxt;else if("empty-label-no-decor"===t.condition.test)r=!t.condition.termtxt||t.condition.termtxt.indexOf("%s")>-1;else if(["comma-safe","comma-safe-numbers-only"].indexOf(t.condition.test)>-1){var s=t.condition.termtxt,n=!1;t.condition.termtxt&&(n=t.condition.termtxt.slice(0,1).match(g.ALL_ROMANESQUE_REGEXP));var a=e.tmp.just_did_number;r=a?t.condition.valueTerm?!i:!s||(n?!i:["always","after-number"].indexOf(e.opt.require_comma_on_symbol)>-1):!t.condition.valueTerm&&(!!s&&(n?!i:"always"===e.opt.require_comma_on_symbol))}if(r)var o=!1;else o=!0;return t.condition.not&&(o=!o),o}},SYS_OPTIONS:["prioritize_disambiguate_condition","csl_reverse_lookup_support","main_title_from_short_title","uppercase_subtitles","force_short_title_casing_alignment","implicit_short_title","split_container_title"],TITLE_SPLIT_REGEXP:(i=["\\.\\s+","\\!\\s+","\\?\\s+","\\s*::*\\s+","\\s*\\s*","\\s+\\-\\s+","\\s*\\-\\-\\-*\\s*"],{match:new RegExp("("+i.join("|")+")","g"),matchfirst:new RegExp("^("+i.join("|")+")"),split:new RegExp("(?:"+i.join("|")+")")}),TITLE_SPLIT:function(e){if(!e)return e;for(var t=e.match(g.TITLE_SPLIT_REGEXP.match),r=e.split(g.TITLE_SPLIT_REGEXP.split),i=r.length-2;i>-1;i--)r[i]=r[i].trim(),r[i]&&r[i].slice(-1).toLowerCase()!==r[i].slice(-1)?(r[i]=r[i]+t[i]+r[i+1],r=r.slice(0,i+1).concat(r.slice(i+2))):r=r.slice(0,i+1).concat([t[i]]).concat(r.slice(i+1));return r},GET_COURT_CLASS:function(e,t,r){var i="",s=null,n=t.jurisdiction?t.jurisdiction.split(":")[0]:null,a="court_condition_classes";return r&&(a="court_key_classes"),n&&t.authority&&("string"==typeof t.authority?s=t.authority:t.authority[0]&&t.authority[0].literal&&(s=t.authority[0].literal)),s&&(this.lang&&e.locale[this.lang].opts[a]&&e.locale[this.lang].opts[a][n]&&e.locale[this.lang].opts[a][n][s]?i=e.locale[this.lang].opts[a][n][s]:e.locale[e.opt["default-locale"][0]].opts[a]&&e.locale[e.opt["default-locale"][0]].opts[a][n]&&e.locale[e.opt["default-locale"][0]].opts[a][n][s]&&(i=e.locale[e.opt["default-locale"][0]].opts[a][n][s])),i},SET_COURT_CLASSES:function(e,t,r,i){for(var s=r.getNodesByName(i,"court-class"),n=0,a=r.numberofnodes(s);n<a;n+=1){var o=s[n],l=r.attributes(o),u=l["@name"],c=l["@country"],m=l["@courts"],p="court_key_classes";if(e.registry&&(p="court_condition_classes"),u&&c&&m){m=m.trim().split(/\s+/),e.locale[t].opts[p]||(e.locale[t].opts[p]={}),e.locale[t].opts[p][c]||(e.locale[t].opts[p][c]={});for(var h=0,f=m.length;h<f;h++)e.locale[t].opts[p][c][m[h]]=u}}},INIT_JURISDICTION_MACROS:function(e,t,r,i){if(t["best-jurisdiction"])return!0;if(!e.sys.retrieveStyleModule||!g.MODULE_MACROS[i]||!t.jurisdiction)return!1;var s=e.getJurisdictionList(t.jurisdiction);if(!e.opt.jurisdictions_seen[s[0]]){var n=e.retrieveAllStyleModules(s);for(var a in n){var o=e.loadStyleModule(a,n[a]);o&&(n[o]||(Object.assign(n,e.retrieveAllStyleModules([o])),e.loadStyleModule(o,n[o],!0)))}}s=e.getJurisdictionList(t.jurisdiction);e.opt.parallel.enable&&(e.parallel||(e.parallel=new g.Parallel(e)));for(var l=0,u=s.length;l<u;l++){a=s[l];if(r&&e.juris[a]&&!r["best-jurisdiction"]&&e.juris[a].types.locator&&(t["best-jurisdiction"]=a),e.juris[a]&&e.juris[a].types[t.type])return t["best-jurisdiction"]=a,!0}return!1}};g.XmlJSON=function(e){this.dataObj=e,this.institution={name:"institution",attrs:{"institution-parts":"long",delimiter:", "},children:[{name:"institution-part",attrs:{name:"long"},children:[]}]}},g.XmlJSON.prototype.clean=function(e){return e},g.XmlJSON.prototype.getStyleId=function(e,t){var r="id";t&&(r="title");for(var i="",s=e.children,n=0,a=s.length;n<a;n++)if("info"===s[n].name)for(var o=s[n].children,l=0,u=o.length;l<u;l++)o[l].name===r&&(i=o[l].children[0]);return i},g.XmlJSON.prototype.children=function(e){return!(!e||!e.children.length)&&e.children.slice()},g.XmlJSON.prototype.nodename=function(e){return e?e.name:null},g.XmlJSON.prototype.attributes=function(e){var t={};for(var r in e.attrs)t["@"+r]=e.attrs[r];return t},g.XmlJSON.prototype.content=function(e){var t="";if(!e||!e.children)return t;for(var r=0,i=e.children.length;r<i;r+=1)"string"==typeof e.children[r]&&(t+=e.children[r]);return t},g.XmlJSON.prototype.namespace={},g.XmlJSON.prototype.numberofnodes=function(e){return e&&"number"==typeof e.length?e.length:0},g.XmlJSON.prototype.getAttributeValue=function(e,t,r){var i="";return r&&(t=r+":"+t),e&&e.attrs&&(i=e.attrs[t]?e.attrs[t]:""),i},g.XmlJSON.prototype.getNodeValue=function(e,t){var r="";if(t)for(var i=0,s=e.children.length;i<s;i+=1)e.children[i].name===t&&(r=e.children[i].children.length?e.children[i]:"");else e&&(r=e);return r&&r.children&&1==r.children.length&&"string"==typeof r.children[0]&&(r=r.children[0]),r},g.XmlJSON.prototype.setAttributeOnNodeIdentifiedByNameAttribute=function(e,t,r,i,s){"@"===i.slice(0,1)&&(i=i.slice(1));for(var n=0,a=e.children.length;n<a;n+=1)e.children[n].name===t&&e.children[n].attrs.name===r&&(e.children[n].attrs[i]=s)},g.XmlJSON.prototype.deleteNodeByNameAttribute=function(e,t){var r,i;for(r=0,i=e.children.length;r<i;r+=1)e.children[r]&&"string"!=typeof e.children[r]&&e.children[r].attrs.name==t&&(e.children=e.children.slice(0,r).concat(e.children.slice(r+1)))},g.XmlJSON.prototype.deleteAttribute=function(e,t){void 0!==e.attrs[t]&&e.attrs.pop(t)},g.XmlJSON.prototype.setAttribute=function(e,t,r){return e.attrs[t]=r,!1},g.XmlJSON.prototype.nodeCopy=function(e,t){if(!t)t={};if("object"==typeof t&&void 0===t.length)for(var r in e)"string"==typeof e[r]?t[r]=e[r]:"object"==typeof e[r]&&(void 0===e[r].length?t[r]=this.nodeCopy(e[r],{}):t[r]=this.nodeCopy(e[r],[]));else for(var i=0,s=e.length;i<s;i+=1)"string"==typeof e[i]?t[i]=e[i]:t[i]=this.nodeCopy(e[i],{});return t},g.XmlJSON.prototype.getNodesByName=function(e,t,r,i){if(!i)i=[];if(!e||!e.children)return i;t===e.name&&(r?r===e.attrs.name&&i.push(e):i.push(e));for(var s=0,n=e.children.length;s<n;s+=1)"object"==typeof e.children[s]&&this.getNodesByName(e.children[s],t,r,i);return i},g.XmlJSON.prototype.nodeNameIs=function(e,t){return void 0!==e&&t==e.name},g.XmlJSON.prototype.makeXml=function(e){return"string"==typeof e&&(e="<"===e.slice(0,1)?this.jsonStringWalker.walkToObject(e):JSON.parse(e)),e},g.XmlJSON.prototype.insertChildNodeAfter=function(e,t,r,i){for(var s=0,n=e.children.length;s<n;s+=1)if(t===e.children[s]){e.children=e.children.slice(0,s).concat([i]).concat(e.children.slice(s+1));break}return e},g.XmlJSON.prototype.insertPublisherAndPlace=function(e){if("group"===e.name){for(var t=!0,r=["publisher","publisher-place"],i=0,s=e.children.length;i<s;i+=1){var n=r.indexOf(e.children[i].attrs.variable),a="text"===e.children[i].name;if(!(a&&n>-1)||e.children[i].attrs.prefix||e.children[i].attrs.suffix){t=!1;break}r=r.slice(0,n).concat(r.slice(n+1))}t&&!r.length&&(e.attrs["has-publisher-and-publisher-place"]=!0)}for(i=0,s=e.children.length;i<s;i+=1)"object"==typeof e.children[i]&&this.insertPublisherAndPlace(e.children[i])},g.XmlJSON.prototype.isChildOfSubstitute=function(e){if(e.length>0){var t=e.slice(),r=t.pop();return"substitute"===r||this.isChildOfSubstitute(t)}return!1},g.XmlJSON.prototype.addMissingNameNodes=function(e,t){if(t||(t=[]),"names"===e.name&&!this.isChildOfSubstitute(t)){for(var r=!0,i=0,s=e.children.length;i<s;i++)if("name"===e.children[i].name){r=!1;break}r&&(e.children=[{name:"name",attrs:{},children:[]}].concat(e.children))}t.push(e.name);for(i=0,s=e.children.length;i<s;i+=1)"object"==typeof e.children[i]&&this.addMissingNameNodes(e.children[i],t);t.pop()},g.XmlJSON.prototype.addInstitutionNodes=function(e){if("names"===e.name){for(var t={},r=-1,i=0,s=e.children.length;i<s;i+=1){if("name"==e.children[i].name){for(var n in e.children[i].attrs)t[n]=e.children[i].attrs[n];t.delimiter=e.children[i].attrs.delimiter,t.and=e.children[i].attrs.and,r=i;for(var a=0,o=e.children[i].children.length;a<o;a+=1)if("family"===e.children[i].children[a].attrs.name)for(var n in e.children[i].children[a].attrs)t[n]=e.children[i].children[a].attrs[n]}if("institution"==e.children[i].name){r=-1;break}}if(r>-1){var l=this.nodeCopy(this.institution);for(i=0,s=g.INSTITUTION_KEYS.length;i<s;i+=1){var u=g.INSTITUTION_KEYS[i];void 0!==t[u]&&(l.children[0].attrs[u]=t[u]),t.delimiter&&(l.attrs.delimiter=t.delimiter),t.and&&(l.attrs.and=t.and)}e.children=e.children.slice(0,r+1).concat([l]).concat(e.children.slice(r+1))}}for(i=0,s=e.children.length;i<s;i+=1)"string"!=typeof e.children[i]&&this.addInstitutionNodes(e.children[i])},g.XmlJSON.prototype.flagDateMacros=function(e){for(var t=0,r=e.children.length;t<r;t+=1)"macro"===e.children[t].name&&this.inspectDateMacros(e.children[t])&&(e.children[t].attrs["macro-has-date"]="true")},g.XmlJSON.prototype.inspectDateMacros=function(e){if(!e||!e.children)return!1;if("date"===e.name)return!0;for(var t=0,r=e.children.length;t<r;t+=1)if(this.inspectDateMacros(e.children[t]))return!0;return!1},g.stripXmlProcessingInstruction=function(e){return e?(e=e.replace(/^<\?[^?]+\?>/,""),e=e.replace(/<!--[^>]+-->/g,""),e=e.replace(/^\s+/g,""),e=e.replace(/\s+$/g,""),e):e},g.parseXml=function(e){function t(e){e=e.split(/(?:\r\n|\n|\r)/).join(" ").replace(/>[	 ]+</g,"><").replace(/<\!--.*?-->/g,"");for(var t=e.split("><"),r=null,i=0,s=t.length;i<s;i++)i>0&&(t[i]="<"+t[i]),i<t.length-1&&(t[i]=t[i]+">"),"number"!=typeof r&&("<style "!==t[i].slice(0,7)&&"<locale "!=t[i].slice(0,8)||(r=i));t=t.slice(r);for(i=t.length-2;i>-1;i--)if(-1===t[i].slice(1).indexOf("<")){var n=t[i].slice(0,5);"/>"!==t[i].slice(-2)&&("<term"===n?"</term"===t[i+1].slice(0,6)&&(t[i]=t[i]+t[i+1],t=t.slice(0,i+1).concat(t.slice(i+2))):["<sing","<mult"].indexOf(n)>-1&&"/>"!==t[i].slice(-2)&&"<"===t[i+1].slice(0,1)&&(t[i]=t[i]+t[i+1],t=t.slice(0,i+1).concat(t.slice(i+2))))}return t}function r(e){return e.split("&amp;").join("&").split("&quot;").join('"').split("&gt;").join(">").split("&lt;").join("<").replace(/&#([0-9]{1,6});/gi,function(e,t){var r=parseInt(t,10);return String.fromCharCode(r)}).replace(/&#x([a-f0-9]{1,6});/gi,function(e,t){var r=parseInt(t,16);return String.fromCharCode(r)})}function i(e){var t=e.match(/([^\'\"=	 ]+)=(?:\"[^\"]*\"|\'[^\']*\')/g);if(t)for(var r=0,i=t.length;r<i;r++)t[r]=t[r].replace(/=.*/,"");return t}function s(e,t){var r=RegExp("^.*[\t ]+"+t+"=(\"(?:[^\"]*)\"|'(?:[^']*)').*$"),i=e.match(r);return i?i[1].slice(1,-1):null}function n(e){var t=RegExp("^<([^\t />]+)"),r=e.match(t);return r?r[1]:null}function a(e){var t={};t.name=n(e),t.attrs={};var a=i(e);if(a)for(var o=0,l=a.length;o<l;o++){var u={name:a[o],value:s(e,a[o])};t.attrs[u.name]=r(u.value)}return t.children=[],t}function o(e){var t=e.match(/^.*>([^<]*)<.*$/);return r(t[1])}function l(e){p.slice(-1)[0].push(e)}function u(e){p.push(e.children)}function c(e){var t;if(e.slice(1).indexOf("<")>-1){var r=e.slice(0,e.indexOf(">")+1);t=a(r),t.children=[o(e)],l(t)}else"/>"===e.slice(-2)?(t=a(e),"term"===n(e)&&t.children.push(""),l(t)):"</"===e.slice(0,2)?p.pop():(t=a(e),l(t),u(t))}for(var m={children:[]},p=[m.children],h=t(e),f=0,d=h.length;f<d;f++){var g=h[f];c(g)}return m.children[0]},g.XmlDOM=function(e){this.dataObj=e,"undefined"==typeof DOMParser?(DOMParser=function(){},DOMParser.prototype.parseFromString=function(e,t){if("undefined"!=typeof ActiveXObject){var r=new ActiveXObject("MSXML.DomDocument");return r.async=!1,r.loadXML(e),r}if("undefined"!=typeof XMLHttpRequest){r=new XMLHttpRequest;return t||(t="text/xml"),r.open("GET","data:"+t+";charset=utf-8,"+encodeURIComponent(e),!1),r.overrideMimeType&&r.overrideMimeType(t),r.send(null),r.responseXML}if("undefined"!=typeof marknote){var i=new marknote.Parser;return i.parse(e)}},this.hasAttributes=function(e){var t;return t=!(!e.attributes||!e.attributes.length),t}):this.hasAttributes=function(e){var t;return t=!(!e.attributes||!e.attributes.length),t},this.importNode=function(e,t){var r;return r=void 0===e.importNode?this._importNode(e,t,!0):e.importNode(t,!0),r},this._importNode=function(e,t,r){switch(t.nodeType){case 1:var i=e.createElement(t.nodeName);if(t.attributes&&t.attributes.length>0)for(var s=0,n=t.attributes.length;s<n;)i.setAttribute(t.attributes[s].nodeName,t.getAttribute(t.attributes[s++].nodeName));if(r&&t.childNodes&&t.childNodes.length>0)for(s=0,n=t.childNodes.length;s<n;)i.appendChild(this._importNode(e,t.childNodes[s++],r));return i}},this.parser=new DOMParser;var t='<docco><institution institution-parts="long" delimiter=", " substitute-use-first="1" use-last="1"><institution-part name="long"/></institution></docco>',r=this.parser.parseFromString(t,"text/xml"),i=r.getElementsByTagName("institution");this.institution=i.item(0);var s=r.getElementsByTagName("institution-part");this.institutionpart=s.item(0),this.ns="http://purl.org/net/xbiblio/csl"},g.XmlDOM.prototype.clean=function(e){return e=e.replace(/<\?[^?]+\?>/g,""),e=e.replace(/<![^>]+>/g,""),e=e.replace(/^\s+/,""),e=e.replace(/\s+$/,""),e=e.replace(/^\n*/,""),e},g.XmlDOM.prototype.getStyleId=function(e,t){var r="",i="id";t&&(i="title");var s=e.getElementsByTagName(i);return s&&s.length&&(s=s.item(0)),s&&(r=s.textContent),r||(r=s.innerText),r||(r=s.innerHTML),r},g.XmlDOM.prototype.children=function(e){var t,r,i,s;if(e){for(s=[],t=e.childNodes,r=0,i=t.length;r<i;r+=1)"#text"!=t[r].nodeName&&s.push(t[r]);return s}return[]},g.XmlDOM.prototype.nodename=function(e){var t=e.nodeName;return t},g.XmlDOM.prototype.attributes=function(e){var t,r,i,s,n;if(t=new Object,e&&this.hasAttributes(e))for(r=e.attributes,s=0,n=r.length;s<n;s+=1)i=r[s],t["@"+i.name]=i.value;return t},g.XmlDOM.prototype.content=function(e){var t;return t=void 0!==e.textContent?e.textContent:void 0!==e.innerText?e.innerText:e.txt,t},g.XmlDOM.prototype.namespace={xml:"http://www.w3.org/XML/1998/namespace"},g.XmlDOM.prototype.numberofnodes=function(e){return e?e.length:0},g.XmlDOM.prototype.getAttributeName=function(e){var t=e.name;return t},g.XmlDOM.prototype.getAttributeValue=function(e,t,r){var i="";return r&&(t=r+":"+t),e&&this.hasAttributes(e)&&e.getAttribute(t)&&(i=e.getAttribute(t)),i},g.XmlDOM.prototype.getNodeValue=function(e,t){var r=null;if(t){var i=e.getElementsByTagName(t);i.length>0&&(r=void 0!==i[0].textContent?i[0].textContent:void 0!==i[0].innerText?i[0].innerText:i[0].text)}return null===r&&e&&e.childNodes&&(0==e.childNodes.length||1==e.childNodes.length&&"#text"==e.firstChild.nodeName)&&(r=void 0!==e.textContent?e.textContent:void 0!==e.innerText?e.innerText:e.text),null===r&&(r=e),r},g.XmlDOM.prototype.setAttributeOnNodeIdentifiedByNameAttribute=function(e,t,r,i,s){var n,a,o,l;for("@"===i.slice(0,1)&&(i=i.slice(1)),o=e.getElementsByTagName(t),n=0,a=o.length;n<a;n+=1)l=o[n],l.getAttribute("name")==r&&l.setAttribute(i,s)},g.XmlDOM.prototype.deleteNodeByNameAttribute=function(e,t){var r,i,s,n;for(n=e.childNodes,r=0,i=n.length;r<i;r+=1)s=n[r],s&&s.nodeType!=s.TEXT_NODE&&this.hasAttributes(s)&&s.getAttribute("name")==t&&e.removeChild(n[r])},g.XmlDOM.prototype.deleteAttribute=function(e,t){e.removeAttribute(t)},g.XmlDOM.prototype.setAttribute=function(e,t,r){return e.ownerDocument||(e=e.firstChild),["function","unknown"].indexOf(typeof e.setAttribute)>-1&&e.setAttribute(t,r),!1},g.XmlDOM.prototype.nodeCopy=function(e){var t=e.cloneNode(!0);return t},g.XmlDOM.prototype.getNodesByName=function(e,t,r){var i,s,n,a,o;for(i=[],s=e.getElementsByTagName(t),a=0,o=s.length;a<o;a+=1)n=s.item(a),(!r||this.hasAttributes(n)&&n.getAttribute("name")==r)&&i.push(n);return i},g.XmlDOM.prototype.nodeNameIs=function(e,t){return t==e.nodeName},g.XmlDOM.prototype.makeXml=function(e){e||(e="<docco><bogus/></docco>"),e=e.replace(/\s*<\?[^>]*\?>\s*\n*/g,"");var t=this.parser.parseFromString(e,"application/xml");return t.firstChild},g.XmlDOM.prototype.insertChildNodeAfter=function(e,t,r,i){var s;return s=this.importNode(t.ownerDocument,i),e.replaceChild(s,t),e},g.XmlDOM.prototype.insertPublisherAndPlace=function(e){for(var t=e.getElementsByTagName("group"),r=0,i=t.length;r<i;r+=1){for(var s=t.item(r),n=[],a=0,o=s.childNodes.length;a<o;a+=1)1!==s.childNodes.item(a).nodeType&&n.push(a);if(s.childNodes.length-n.length==2){var l=[];for(a=0,o=2;a<o;a+=1)if(!(n.indexOf(a)>-1)){for(var u=s.childNodes.item(a),c=[],m=0,p=u.childNodes.length;m<p;m+=1)1!==u.childNodes.item(m).nodeType&&c.push(m);if(u.childNodes.length-c.length==0&&(l.push(u.getAttribute("variable")),u.getAttribute("suffix")||u.getAttribute("prefix"))){l=[];break}}l.indexOf("publisher")>-1&&l.indexOf("publisher-place")>-1&&s.setAttribute("has-publisher-and-publisher-place",!0)}}},g.XmlDOM.prototype.isChildOfSubstitute=function(e){return!!e.parentNode&&("substitute"===e.parentNode.tagName.toLowerCase()||this.isChildOfSubstitute(e.parentNode))},g.XmlDOM.prototype.addMissingNameNodes=function(e){for(var t=e.getElementsByTagName("names"),r=0,i=t.length;r<i;r+=1){var s=t.item(r),n=s.getElementsByTagName("name");if(!(n&&0!==n.length||this.isChildOfSubstitute(s))){var a=s.ownerDocument,o=a.createElement("name");s.appendChild(o)}}},g.XmlDOM.prototype.addInstitutionNodes=function(e){var t,r,i,s,n,a,o,l,u;for(t=e.getElementsByTagName("names"),l=0,u=t.length;l<u;l+=1)if(r=t.item(l),a=r.getElementsByTagName("name"),0!=a.length&&(i=r.getElementsByTagName("institution"),0==i.length)){s=this.importNode(e.ownerDocument,this.institution),n=s.getElementsByTagName("institution-part").item(0),o=a.item(0),r.insertBefore(s,o.nextSibling);for(var c=0,m=g.INSTITUTION_KEYS.length;c<m;c+=1){var p=g.INSTITUTION_KEYS[c],h=o.getAttribute(p);h&&n.setAttribute(p,h)}var f=o.getElementsByTagName("name-part");for(c=0,m=f.length;c<m;c+=1)if("family"===f[c].getAttribute("name"))for(var d=0,b=g.INSTITUTION_KEYS.length;d<b;d+=1){p=g.INSTITUTION_KEYS[d],h=f[c].getAttribute(p);h&&n.setAttribute(p,h)}}},g.XmlDOM.prototype.flagDateMacros=function(e){var t,r,i,s,n=e.getElementsByTagName("macro");for(t=0,r=n.length;t<r;t+=1)i=n.item(t),s=i.getElementsByTagName("date"),s.length&&i.setAttribute("macro-has-date","true")},g.setupXml=function(e){var t={},r=null;return void 0!==e?"string"==typeof e?(e=e.replace("^\ufeff","").replace(/^\s+/,""),t="<"===e.slice(0,1)?g.parseXml(e):JSON.parse(e),r=new g.XmlJSON(t)):r=void 0!==e.getAttribute?new g.XmlDOM(e):void 0!==e.toXMLString?new g.XmlE4X(e):new g.XmlJSON(e):g.error("unable to parse XML input"),r||g.error("citeproc-js error: unable to parse CSL style or locale object"),r},g.getSortCompare=function(e){if(g.stringCompare)return g.stringCompare;var t,r=this,i={sensitivity:"base",ignorePunctuation:!0,numeric:!0};e||(e="en-US"),t=function(t,s){return g.toLocaleLowerCase.call(r,t).localeCompare(g.toLocaleLowerCase.call(r,s),e,i)};var s=function(e){return e.replace(/^[\[\]\'\"]*/g,"")},n=function(){return!!t("[x","x")&&function(e,r){return t(s(e),s(r))}},a=n(),o=function(e,r){return a?a(e,r):t(e,r)};return o},g.ambigConfigDiff=function(e,t){var r,i,s,n;if(e.names.length!==t.names.length)return 1;for(r=0,i=e.names.length;r<i;r+=1){if(e.names[r]!==t.names[r])return 1;for(s=0,n=e.givens[r];s<n;s+=1)if(e.givens[r][s]!==t.givens[r][s])return 1}return e.disambiguate!=t.disambiguate?1:e.year_suffix!==t.year_suffix?1:0},g.cloneAmbigConfig=function(e,t){var r,i,s,n,a,o={names:[],givens:[],year_suffix:!1,disambiguate:!1};for(r=0,i=e.names.length;r<i;r+=1)a=e.names[r],o.names[r]=a;for(r=0,i=e.givens.length;r<i;r+=1){for(a=[],s=0,n=e.givens[r].length;s<n;s+=1)a.push(e.givens[r][s]);o.givens.push(a)}return t?(o.year_suffix=t.year_suffix,o.disambiguate=t.disambiguate):(o.year_suffix=e.year_suffix,o.disambiguate=e.disambiguate),o},g.getAmbigConfig=function(){var e;e=this.tmp.disambig_request,e||(e=this.tmp.disambig_settings);var t=g.cloneAmbigConfig(e);return t},g.getMaxVals=function(){return this.tmp.names_max.mystack.slice()},g.getMinVal=function(){return this.tmp["et-al-min"]},g.tokenExec=function(e,t,r){var i,s,n,a;a=!1,i=e.next,s=!1;var o=function(t){return t?(this.tmp.jump.replace("succeed"),e.succeed):(this.tmp.jump.replace("fail"),e.fail)};e.test&&(i=o.call(this,e.test(t,r)));for(var l=0,u=e.execs.length;l<u;l++)n=e.execs[l],s=n.call(e,this,t,r),s&&(i=s);return a&&g.debug(e.name+" ("+e.tokentype+") ---> done"),i},g.expandMacro=function(e,t){var r,i,s;r=e.postponed_macro;var n=e.strings.sort_direction;e=new g.Token("group",g.START);var a=!1,o=!1;i=this.cslXml.getNodesByName(this.cslXml.dataObj,"macro",r),i.length&&(o=this.cslXml.getAttributeValue(i[0],"cslid"),a=this.cslXml.getAttributeValue(i[0],"macro-has-date")),a&&(r=r+"@"+this.build.current_default_locale,c=function(e){e.tmp.extension&&(e.tmp["doing-macro-with-date"]=!0)},e.execs.push(c)),this.build.macro_stack.indexOf(r)>-1?g.error('CSL processor error: call to macro "'+r+'" would cause an infinite loop'):this.build.macro_stack.push(r),e.cslid=o,g.MODULE_MACROS[r]&&(e.juris=r,this.opt.update_mode=g.POSITION),g.Node.group.build.call(e,this,t,!0),this.cslXml.getNodeValue(i)||g.error('CSL style error: undefined macro "'+r+'"');var l,u=g.getMacroTarget.call(this,r);if(u&&(g.buildMacro.call(this,u,i),g.configureMacro.call(this,u)),!this.build.extension){var c=(l=r,function(e,t,r){for(var i=0;i<e.macros[l].length;)i=g.tokenExec.call(e,e.macros[l][i],t,r)}),m=new g.Token("text",g.SINGLETON);m.execs.push(c),t.push(m)}s=new g.Token("group",g.END),s.strings.sort_direction=n,a&&(c=function(e){e.tmp.extension&&(e.tmp["doing-macro-with-date"]=!1)},s.execs.push(c)),e.juris&&(s.juris=r),g.Node.group.build.call(s,this,t,!0),this.build.macro_stack.pop()},g.getMacroTarget=function(e){var t=!1;return this.build.extension?t=this[this.build.root+this.build.extension].tokens:this.macros[e]||(t=[],this.macros[e]=t),t},g.buildMacro=function(e,t){var r,i=g.makeBuilder(this,e);r=void 0===t.length?t:t[0],i(r)},g.configureMacro=function(e){this.build.extension||this.configureTokenList(e)},g.XmlToToken=function(e,t,r,i){var s,n,a,o,l,u;if(s=e.cslXml.nodename(this),!e.build.skip||e.build.skip===s){if(!s)return n=e.cslXml.content(this),void(n&&(e.build.text=n));if(g.Node[e.cslXml.nodename(this)]||g.error('Undefined node name "'+s+'".'),[],a=e.cslXml.attributes(this),o=g.setDecorations.call(this,e,a),l=new g.Token(s,t),t!==g.END||"if"===s||"else-if"===s||"layout"===s){for(var c in a)if(a.hasOwnProperty(c)){if(t===g.END&&"@language"!==c&&"@locale"!==c)continue;if(a.hasOwnProperty(c))if(g.Attributes[c])try{g.Attributes[c].call(l,e,""+a[c])}catch(e){g.error(c+" attribute: "+e)}else g.debug('warning: undefined attribute "'+c+'" in style')}l.decorations=o,g.DATE_VARIABLES.indexOf(a["@variable"])>-1&&i.push(l.variables)}else t===g.END&&a["@variable"]&&(l.hasVariable=!0,g.DATE_VARIABLES.indexOf(a["@variable"])>-1&&(l.variables=i.pop()));u=r||e[e.build.area].tokens,g.Node[s].build.call(l,e,u,!0)}},g.DateParser=function(){for(var e=[["",1867],["",1911],["",1925],["",1988]],t={},r=0,i=e.length;r<i;r++){var s=e[r][0],n=e[r][1];t[s]=n}var a=[],o={};for(r=0,i=e.length;r<i;r++){var l=e[r];n=l[0];a.push(n),o[l[0]]=l[1]}var u=a.join("|"),c=new RegExp("(?:"+u+")(?:[0-9]+)"),m=new RegExp("(?:"+u+")(?:[0-9]+)","g"),p=/(\u6708|\u5E74)/g,h=/\u65E5/g,f=/\u301c/g,d="(?:[?0-9]{1,2}%%NUMD%%){0,2}[?0-9]{4}(?![0-9])",b="[?0-9]{4}(?:%%NUMD%%[?0-9]{1,2}){0,2}(?![0-9])",y="[?0-9]{1,3}",v="[%%DATED%%]",_="[?~]",x="[^-/~?0-9]+",E="("+b+"|"+d+"|"+y+"|"+v+"|"+_+"|"+x+")",A=new RegExp(E.replace(/%%NUMD%%/g,"-").replace(/%%DATED%%/g,"-")),w=new RegExp(E.replace(/%%NUMD%%/g,"-").replace(/%%DATED%%/g,"/")),T=new RegExp(E.replace(/%%NUMD%%/g,"/").replace(/%%DATED%%/g,"-")),O="january february march april may june july august september october november december spring summer fall winter spring summer";this.monthStrings=O.split(" "),this.setOrderDayMonth=function(){this.monthGuess=1,
this.dayGuess=0},this.setOrderMonthDay=function(){this.monthGuess=0,this.dayGuess=1},this.resetDateParserMonths=function(){this.monthSets=[];for(var e=0,t=this.monthStrings.length;e<t;e++)this.monthSets.push([this.monthStrings[e]]);this.monthAbbrevs=[];for(e=0,t=this.monthSets.length;e<t;e++){this.monthAbbrevs.push([]);for(var r=0,i=this.monthSets[e].length;r<i;r++)this.monthAbbrevs[e].push(this.monthSets[e][0].slice(0,3))}this.monthRexes=[];for(e=0,t=this.monthAbbrevs.length;e<t;e++)this.monthRexes.push(new RegExp("(?:"+this.monthAbbrevs[e].join("|")+")"))},this.addDateParserMonths=function(e){if("string"==typeof e&&(e=e.split(/\s+/)),12===e.length||16===e.length){for(var t=0,r=e.length;t<r;t++){for(var i=null,s=!1,n=3,a={},o=0,l=this.monthAbbrevs.length;o<l;o++){if(a[o]={},o===t){for(var u=0,c=this.monthAbbrevs[t].length;u<c;u++)if(this.monthAbbrevs[t][u]===e[t].slice(0,this.monthAbbrevs[t][u].length)){s=!0;break}}else for(u=0,c=this.monthAbbrevs[o].length;u<c;u++)if(i=this.monthAbbrevs[o][u].length,this.monthAbbrevs[o][u]===e[t].slice(0,i)){for(;this.monthSets[o][u].slice(0,i)===e[t].slice(0,i);){if(i>e[t].length||i>this.monthSets[o][u].length){g.debug("unable to disambiguate month string in date parser: "+e[t]);break}i+=1}n=i,a[o][u]=i}for(var m in a)for(var p in a[m])i=a[m][p],m=parseInt(m,10),p=parseInt(p,10),this.monthAbbrevs[m][p]=this.monthSets[m][p].slice(0,i)}s||(this.monthSets[t].push(e[t]),this.monthAbbrevs[t].push(e[t].slice(0,n)))}this.monthRexes=[],this.monthRexStrs=[];for(t=0,r=this.monthAbbrevs.length;t<r;t++)this.monthRexes.push(new RegExp("^(?:"+this.monthAbbrevs[t].join("|")+")")),this.monthRexStrs.push("^(?:"+this.monthAbbrevs[t].join("|")+")");if(18===this.monthAbbrevs.length)for(t=12,r=14;t<r;t++)this.monthRexes[t+4]=new RegExp("^(?:"+this.monthAbbrevs[t].join("|")+")"),this.monthRexStrs[t+4]="^(?:"+this.monthAbbrevs[t].join("|")+")"}else g.debug("month [+season] list of "+e.length+", expected 12 or 16. Ignoring.")},this.convertDateObjectToArray=function(e){e["date-parts"]=[],e["date-parts"].push([]);for(var t,r=0,i=0,s=3;i<s&&(t=["year","month","day"][i],e[t]);i++)r+=1,e["date-parts"][0].push(e[t]),delete e[t];e["date-parts"].push([]);for(i=0,s=r;i<s&&(t=["year_end","month_end","day_end"][i],e[t]);i++)e["date-parts"][1].push(e[t]),delete e[t];return e["date-parts"][0].length!==e["date-parts"][1].length&&e["date-parts"].pop(),e},this.convertDateObjectToString=function(e){for(var t=[],r=0,i=3;r<i&&e[g.DATE_PARTS_ALL[r]];r+=1)t.push(e[g.DATE_PARTS_ALL[r]]);return t.join("-")},this._parseNumericDate=function(e,t,r,i){r||(r="");for(var s=i.split(t),n=0,a=s.length;n<a;n++)if(4===s[n].length){e["year"+r]=s[n].replace(/^0*/,""),s=n?s.slice(0,n):s.slice(1);break}for(n=0,a=s.length;n<a;n++)s[n]=parseInt(s[n],10);if(1===s.length||2===s.length&&!s[1]){var o=s[0];o&&(e["month"+r]=""+s[0])}else if(2===s.length)if(s[this.monthGuess]>12){o=s[this.dayGuess];var l=s[this.monthGuess];o&&(e["month"+r]=""+o,l&&(e["day"+r]=""+l))}else{o=s[this.monthGuess],l=s[this.dayGuess];o&&(e["month"+r]=""+o,l&&(e["day"+r]=""+l))}},this.parseDateToObject=function(e){var t,r=e,i=-1,s=-1,n=!1;if(e){if(e=e.replace(/^(.*[0-9])T[0-9].*/,"$1"),"-"===e.slice(0,1)&&(n=!0,e=e.slice(1)),e.match(/^[0-9]{1,3}$/))for(;e.length<4;)e="0"+e;e=""+e,e=e.replace(/\s*[0-9]{2}:[0-9]{2}(?::[0-9]+)/,"");var a=e.match(p);if(a){e=e.replace(/\s+/g,""),e=e.replace(h,""),e=e.replace(p,"-"),e=e.replace(f,"/"),e=e.replace(/\-\//g,"/"),e=e.replace(/-$/g,"");var l=e.split(c);t=[];var u=e.match(m);if(u){for(var d=[],b=0,y=u.length;b<y;b++)d=d.concat(u[b].match(/([^0-9]+)([0-9]+)/).slice(1));for(b=0,y=l.length;b<y;b++)if(t.push(l[b]),b!==y-1){var v=2*b;t.push(d[v]),t.push(d[v+1])}}else t=l;for(b=1,y=t.length;b<y;b+=3)t[b+1]=o[t[b]]+parseInt(t[b+1],10),t[b]="";e=t.join(""),e=e.replace(/\s*-\s*$/,"").replace(/\s*-\s*\//,"/"),e=e.replace(/\.\s*$/,""),e=e.replace(/\.(?! )/,""),i=e.indexOf("/"),s=e.indexOf("-")}}e=e.replace(/([A-Za-z])\./g,"$1");var _,x,E="",O="",S={};if('"'===e.slice(0,1)&&'"'===e.slice(-1))return S.literal=e.slice(1,-1),S;if(i>-1&&s>-1){var C=e.split("/");C.length>3?(_="-",e=e.replace(/\_/g,"-"),x="/",t=e.split(T)):(_="/",e=e.replace(/\_/g,"/"),x="-",t=e.split(w))}else e=e.replace(/\//g,"-"),e=e.replace(/\_/g,"-"),_="-",x="-",t=e.split(A);var k=[];for(b=0,y=t.length;b<y;b++){a=t[b].match(/^\s*([\-\/]|[^\-\/\~\?0-9]+|[\-~?0-9]+)\s*$/);a&&k.push(a[1])}var N=k.indexOf(_),I=[],P=!1;N>-1?(I.push([0,N]),I.push([N+1,k.length]),P=!0):I.push([0,k.length]);var j="";for(b=0,y=I.length;b<y;b++){var R=I[b],D=k.slice(R[0],R[1]);e:for(var B=0,M=D.length;B<M;B++){var L=D[B];if(L.indexOf(x)>-1)this._parseNumericDate(S,x,j,L);else if(L.match(/[0-9]{4}/))S["year"+j]=L.replace(/^0*/,"");else{("~"===L||"?"===L||"c"===L||L.match(/^cir/))&&(S.circa=!0);for(var U=0,F=this.monthRexes.length;U<F;U++)if(L.toLocaleLowerCase().match(this.monthRexes[U])){S["month"+j]=""+(parseInt(U,10)+1);continue e}L.match(/^[0-9]+$/)&&(E=L),L.toLocaleLowerCase().match(/^bc/)&&E?(S["year"+j]=""+-1*E,E=""):L.toLocaleLowerCase().match(/^ad/)&&E?(S["year"+j]=""+E,E=""):!L.toLocaleLowerCase().match(/(?:mic|tri|hil|eas)/)||S["season"+j]||(O=L)}}E&&(S["day"+j]=E,E=""),O&&!S["season"+j]&&(S["season"+j]=O.trim(),O=""),j="_end"}if(P)for(B=0,M=g.DATE_PARTS_ALL.length;B<M;B++){var G=g.DATE_PARTS_ALL[B];S[G]&&!S[G+"_end"]?S[G+"_end"]=S[G]:!S[G]&&S[G+"_end"]&&(S[G]=S[G+"_end"])}(!S.year||S.year&&S.day&&!S.month)&&(S={literal:r});var z=["year","month","day","year_end","month_end","day_end"];for(b=0,y=z.length;b<y;b++){var q=z[b];"string"==typeof S[q]&&S[q].match(/^[0-9]+$/)&&(S[q]=parseInt(S[q],10))}return n&&Object.keys(S).indexOf("year")>-1&&(S.year=-1*S.year),S},this.parseDateToArray=function(e){return this.convertDateObjectToArray(this.parseDateToObject(e))},this.parseDateToString=function(e){return this.convertDateObjectToString(this.parseDateToObject(e))},this.parse=function(e){return this.parseDateToObject(e)},this.setOrderMonthDay(),this.resetDateParserMonths()},g.DateParser=new g.DateParser,g.Engine=function(e,t,r,i){function s(e){e=e.slice();var t=new RegExp("(?:(?:[?!:]*\\s+|-|^)(?:"+e.join("|")+")(?=[!?:]*\\s+|-|$))","g");return t}var n,a;for(var o in this.processor_version=g.PROCESSOR_VERSION,this.csl_version="1.0",this.sys=e,"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},writable:!0,configurable:!0}),e.variableWrapper&&(g.VARIABLE_WRAPPER_PREPUNCT_REX=new RegExp("^(["+[" "].concat(g.SWAPPING_PUNCTUATION).join("")+"]*)(.*)")),g.retrieveStyleModule&&(this.sys.retrieveStyleModule=g.retrieveStyleModule),g.getAbbreviation&&(this.sys.getAbbreviation=g.getAbbreviation),this.sys.stringCompare&&(g.stringCompare=this.sys.stringCompare),this.sys.AbbreviationSegments=g.AbbreviationSegments,this.transform=new g.Transform(this),this.setParseNames=function(e){this.opt["parse-names"]=e},this.opt=new g.Engine.Opt,this.tmp=new g.Engine.Tmp,this.build=new g.Engine.Build,this.fun=new g.Engine.Fun(this),this.configure=new g.Engine.Configure,this.citation_sort=new g.Engine.CitationSort,this.bibliography_sort=new g.Engine.BibliographySort,this.citation=new g.Engine.Citation(this),this.bibliography=new g.Engine.Bibliography,this.intext=new g.Engine.InText,this.output=new g.Output.Queue(this),this.dateput=new g.Output.Queue(this),this.cslXml=g.setupXml(t),g.SYS_OPTIONS){var l=g.SYS_OPTIONS[o];"boolean"==typeof this.sys[l]&&(this.opt.development_extensions[l]=this.sys[l])}(this.opt.development_extensions.uppercase_subtitles||this.opt.development_extensions.implicit_short_title)&&(this.opt.development_extensions.main_title_from_short_title=!0),this.opt.development_extensions.csl_reverse_lookup_support&&(this.build.cslNodeId=0,this.setCslNodeIds=function(e,t){var r=this.cslXml.children(e);this.cslXml.setAttribute(e,"cslid",this.build.cslNodeId),this.opt.nodenames.push(t),this.build.cslNodeId+=1;for(var i=0,s=this.cslXml.numberofnodes(r);i<s;i+=1)t=this.cslXml.nodename(r[i]),t&&this.setCslNodeIds(r[i],t)},this.setCslNodeIds(this.cslXml.dataObj,"style")),this.cslXml.addMissingNameNodes(this.cslXml.dataObj),this.cslXml.addInstitutionNodes(this.cslXml.dataObj),this.cslXml.insertPublisherAndPlace(this.cslXml.dataObj),this.cslXml.flagDateMacros(this.cslXml.dataObj),n=this.cslXml.attributes(this.cslXml.dataObj),void 0===n["@sort-separator"]&&this.cslXml.setAttribute(this.cslXml.dataObj,"sort-separator",", "),this.opt["initialize-with-hyphen"]=!0,this.setStyleAttributes(),this.opt.xclass=this.cslXml.getAttributeValue(this.cslXml.dataObj,"class"),this.opt.class=this.opt.xclass,this.opt.styleID=this.cslXml.getStyleId(this.cslXml.dataObj),this.opt.styleName=this.cslXml.getStyleId(this.cslXml.dataObj,!0),"1.1m"===this.opt.version.slice(0,4)&&(this.opt.development_extensions.consolidate_legal_items=!0,this.opt.development_extensions.consolidate_container_items=!0,this.opt.development_extensions.main_title_from_short_title=!0,this.opt.development_extensions.expect_and_symbol_form=!0,this.opt.development_extensions.require_explicit_legal_case_title_short=!0,this.opt.development_extensions.force_jurisdiction=!0,this.opt.development_extensions.force_title_abbrev_fallback=!0),r&&(r=r.replace("_","-"),r=g.normalizeLocaleStr(r)),this.opt["default-locale"][0]&&(this.opt["default-locale"][0]=this.opt["default-locale"][0].replace("_","-"),this.opt["default-locale"][0]=g.normalizeLocaleStr(this.opt["default-locale"][0])),r&&i&&(this.opt["default-locale"]=[r]),r&&!i&&this.opt["default-locale"][0]&&(r=this.opt["default-locale"][0]),0===this.opt["default-locale"].length&&(r||(r="en-US"),this.opt["default-locale"].push("en-US")),r||(r=this.opt["default-locale"][0]),a=g.localeResolve(r),this.opt.lang=a.best,this.opt["default-locale"][0]=a.best,this.locale={},this.opt["default-locale-sort"]||(this.opt["default-locale-sort"]=this.opt["default-locale"][0]),"dale|".localeCompare("daleb",this.opt["default-locale-sort"])>-1?this.opt.sort_sep="@":this.opt.sort_sep="|",this.localeConfigure(a),this.locale[this.opt.lang].opts["skip-words-regexp"]=s(this.locale[this.opt.lang].opts["skip-words"]),this.output.adjust=new g.Output.Queue.adjust(this.getOpt("punctuation-in-quote")),this.registry=new g.Registry(this),this.macros={},this.build.area="citation";var u=this.cslXml.getNodesByName(this.cslXml.dataObj,this.build.area);this.buildTokenLists(u,this[this.build.area].tokens),this.build.area="bibliography";u=this.cslXml.getNodesByName(this.cslXml.dataObj,this.build.area);this.buildTokenLists(u,this[this.build.area].tokens),this.build.area="intext";u=this.cslXml.getNodesByName(this.cslXml.dataObj,this.build.area);this.buildTokenLists(u,this[this.build.area].tokens),this.opt.parallel.enable&&(this.parallel=new g.Parallel(this)),this.juris={},this.configureTokenLists(),this.disambiguate=new g.Disambiguation(this),this.splice_delimiter=!1,this.fun.dateparser=g.DateParser,this.fun.flipflopper=new g.Util.FlipFlopper(this),this.setCloseQuotesArray(),this.fun.ordinalizer.init(this),this.fun.long_ordinalizer.init(this),this.fun.page_mangler=g.Util.PageRangeMangler.getFunction(this,"page"),this.fun.year_mangler=g.Util.PageRangeMangler.getFunction(this,"year"),this.setOutputFormat("html")},g.Engine.prototype.setCloseQuotesArray=function(){var e;e=[],e.push(this.getTerm("close-quote")),e.push(this.getTerm("close-inner-quote")),e.push('"'),e.push("'"),this.opt.close_quotes_array=e},g.makeBuilder=function(e,t){function r(r){o.push(r),g.XmlToToken.call(r,e,g.START,t,a)}function i(){var r=o.pop();g.XmlToToken.call(r,e,g.END,t,a)}function s(r){g.XmlToToken.call(r,e,g.SINGLETON,t,a)}function n(t,a,o){o||(o=[]),t||(t=[]),void 0===t.length&&(t=[t]);for(var l=0;l<t.length;l++){var u=t[l];null!==e.cslXml.nodename(u)&&(a&&"date"===e.cslXml.nodename(u)&&(g.Util.fixDateNode.call(e,a,l,u),u=e.cslXml.children(a)[l]),e.cslXml.numberofnodes(e.cslXml.children(u))?(r(u),n(e.cslXml.children(u),u,o),i()):s(u))}}var a=[],o=[];return n},g.Engine.prototype.buildTokenLists=function(e,t){if(this.cslXml.getNodeValue(e)){var r,i=g.makeBuilder(this,t);r=void 0===e.length?e:e[0],i(r)}},g.Engine.prototype.setStyleAttributes=function(){var e,t,r={};for(t in r.name=this.cslXml.nodename(this.cslXml.dataObj),e=this.cslXml.attributes(this.cslXml.dataObj),e)e.hasOwnProperty(t)&&g.Attributes[t].call(r,this,e[t])},g.Engine.prototype.getTerm=function(e,t,r,i,s,n){var a;e&&e.match(/[A-Z]/)&&e===e.toUpperCase()&&(g.debug("Warning: term key is in uppercase form: "+e),e=e.toLowerCase()),a=n?this.opt["default-locale"][0]:this.opt.lang;var o=g.Engine.getField(g.LOOSE,this.locale[a].terms,e,t,r,i);return o||"range-delimiter"!==e||(o=""),void 0===o&&(s===g.STRICT?g.error('Error in getTerm: term "'+e+'" does not exist.'):s===g.TOLERANT&&(o="")),o&&(this.tmp.cite_renders_content=!0),o},g.Engine.prototype.getDate=function(e,t){var r;return r=t?this.opt["default-locale"]:this.opt.lang,!!this.locale[r].dates[e]&&this.locale[r].dates[e]},g.Engine.prototype.getOpt=function(e){return void 0!==this.locale[this.opt.lang].opts[e]&&this.locale[this.opt.lang].opts[e]},g.Engine.prototype.getVariable=function(e,t,r,i){return g.Engine.getField(g.LOOSE,e,t,r,i)},g.Engine.prototype.getDateNum=function(e,t){return void 0===e?0:e[t]},g.Engine.getField=function(e,t,r,i,s,n){var a,o,l,u,c,m;if(a="",void 0===t[r]){if(e!==g.STRICT)return;g.error('Error in getField: term "'+r+'" does not exist.')}for(m=n&&t[r][n]?t[r][n]:t[r],o=[],"symbol"===i?o=["symbol","short"]:"verb-short"===i?o=["verb-short","verb"]:"long"!==i&&(o=[i]),o=o.concat(["long"]),c=o.length,u=0;u<c;u+=1)if(l=o[u],"string"==typeof m||"number"==typeof m)a=m;else if(void 0!==m[l]){a="string"==typeof m[l]||"number"==typeof m[l]?m[l]:"number"==typeof s?m[l][s]:m[l][0];break}return a},g.Engine.prototype.configureTokenLists=function(){var e,t,r;for(r=g.AREAS.length,t=0;t<r;t+=1){e=g.AREAS[t];var i=this[e].tokens;this.configureTokenList(i)}return this.version=g.version,this.state},g.Engine.prototype.configureTokenList=function(e){var t,r,i,s,n,a,o,l;for(t=["year","month","day"],o=e.length-1,n=o;n>-1;n+=-1){if(r=e[n],"date"===r.name&&g.END===r.tokentype&&(i=[]),"date-part"===r.name&&r.strings.name)for(l=t.length,a=0;a<l;a+=1)s=t[a],s===r.strings.name&&i.push(r.strings.name);"date"===r.name&&g.START===r.tokentype&&(i.reverse(),r.dateparts=i),r.next=n+1,r.name&&g.Node[r.name].configure&&g.Node[r.name].configure.call(r,this,n)}},g.Engine.prototype.refetchItems=function(e){for(var t=[],r=0,i=e.length;r<i;r+=1)t.push(this.refetchItem(""+e[r]));return t},g.ITERATION=0,g.Engine.prototype.retrieveItem=function(e){var t;if(this.tmp.loadedItemIDs[e])return this.registry.refhash[e];if(this.tmp.loadedItemIDs[e]=!0,this.opt.development_extensions.normalize_lang_keys_to_lowercase&&"boolean"==typeof this.opt.development_extensions.normalize_lang_keys_to_lowercase){for(var r=0,i=this.opt["default-locale"].length;r<i;r+=1)this.opt["default-locale"][r]=this.opt["default-locale"][r].toLowerCase();for(r=0,i=this.opt["locale-translit"].length;r<i;r+=1)this.opt["locale-translit"][r]=this.opt["locale-translit"][r].toLowerCase();for(r=0,i=this.opt["locale-translat"].length;r<i;r+=1)this.opt["locale-translat"][r]=this.opt["locale-translat"][r].toLowerCase();this.opt.development_extensions.normalize_lang_keys_to_lowercase=100}if(g.ITERATION+=1,t=JSON.parse(JSON.stringify(this.sys.retrieveItem(""+e))),this.opt.development_extensions.normalize_lang_keys_to_lowercase){if(t.multi){if(t.multi._keys)for(var s in t.multi._keys)for(var n in t.multi._keys[s])n!==n.toLowerCase()&&(t.multi._keys[s][n.toLowerCase()]=t.multi._keys[s][n],delete t.multi._keys[s][n]);if(t.multi.main)for(var s in t.multi.main)t.multi.main[s]=t.multi.main[s].toLowerCase()}for(r=0,i=g.NAME_VARIABLES.length;r>i;r+=1){var a=g.NAME_VARIABLES[r];if(t[a]&&t[a].multi)for(var o=0,l=t[a].length;o<l;o+=1){var u=t[a][o];if(u.multi){if(u.multi._key)for(var n in u.multi._key)n!==n.toLowerCase()&&(u.multi._key[n.toLowerCase()]=u.multi._key[n],delete u.multi._key[n]);u.multi.main&&(u.multi.main=u.multi.main.toLowerCase())}}}}if(t.language&&t.language.match(/[><]/)){var c=t.language.match(/(.*?)([<>])(.*)/);"<"===c[2]?(t["language-name"]=c[1],t["language-name-original"]=c[3]):(t["language-name"]=c[3],t["language-name-original"]=c[1]),this.opt.multi_layout?t["language-name-original"]&&(t.language=t["language-name-original"]):t["language-name"]&&(t.language=t["language-name"])}if(t.page){t["page-first"]=t.page;var m=""+t.page;c=m.split(/\s*(?:&|, |-|\u2013)\s*/);"\\"!==c[0].slice(-1)&&(t["page-first"]=c[0])}for(var n in this.opt.development_extensions.field_hack&&t.note&&g.parseNoteFieldHacks(t,!1,this.opt.development_extensions.allow_field_hack_date_override),t)if(g.DATE_VARIABLES.indexOf(n.replace(/^alt-/,""))>-1){var p=t[n];p&&(this.opt.development_extensions.raw_date_parsing&&(!p.raw||p["date-parts"]&&0!==p["date-parts"].length||(p=this.fun.dateparser.parseDateToObject(p.raw))),t[n]=this.dateParseArray(p))}if(this.opt.development_extensions.consolidate_legal_items&&t.type&&["bill","gazette","legislation","regulation","treaty"].indexOf(t.type)>-1){var h=["type","title","jurisdiction","genre","volume","container-title"],f=[];for(r=0,i=h.length;r<i;r+=1)b=h[r],t[b]&&f.push(t[b]);h=["original-date","issued"];for(r=0,i=h.length;r<i;r+=1)if(b=h[r],t[b]&&t[b].year){var d=t[b].year;f.push(d);break}t.legislation_id=f.join("::")}if(this.bibliography.opt.track_container_items&&this.bibliography.opt.track_container_items.indexOf(t.type)>-1){h=["type","container-title","publisher","edition"];var b,y=[];for(r=0,i=h.length;r<i;r+=1)b=h[r],t[b]&&y.push(t[b]);t.container_id=y.join("::")}if(this.opt.development_extensions.force_jurisdiction&&"string"==typeof t.authority&&(t.authority=[{literal:t.authority,multi:{_key:{}}}],t.multi&&t.multi._keys&&t.multi._keys.authority))for(var n in t.authority[0].multi._key={},t.multi._keys.authority)t.authority[0].multi._key[n]={literal:t.multi._keys.authority[n]};if(t["title-short"]||(t["title-short"]=t.shortTitle),this.opt.development_extensions.main_title_from_short_title){var v="fr"===this.opt["default-locale"][0].slice(0,2).toLowerCase();g.extractTitleAndSubtitle.call(this,t,v)}var _,x=["bill","legal_case","legislation","gazette","regulation"].indexOf(t.type)>-1;if(this.opt.development_extensions.force_jurisdiction&&x&&(t.jurisdiction||(t.jurisdiction="us")),!x&&t.title&&this.sys.getAbbreviation){t.jurisdiction||!0,_=this.sys.normalizeAbbrevsKey?this.sys.normalizeAbbrevsKey("title",t.title):t.title;var E=this.transform.loadAbbreviation(t.jurisdiction,"title",_,t.language);this.transform.abbrevs[E].title&&this.transform.abbrevs[E].title[_]&&(t["title-short"]=this.transform.abbrevs[E].title[_])}if(t["container-title-short"]||(t["container-title-short"]=t.journalAbbreviation),t["container-title"]&&this.sys.getAbbreviation){_=this.sys.normalizeAbbrevsKey?this.sys.normalizeAbbrevsKey(t["container-title"]):t["container-title"];E=this.transform.loadAbbreviation(t.jurisdiction,"container-title",_,t.language);this.transform.abbrevs[E]["container-title"]&&this.transform.abbrevs[E]["container-title"][_]&&(t["container-title-short"]=this.transform.abbrevs[E]["container-title"][_])}if(t.jurisdiction&&(t.country=t.jurisdiction.split(":")[0]),this.registry.refhash[e]){if(JSON.stringify(this.registry.refhash[e])!=JSON.stringify(t)){for(var n in this.registry.refhash[e])delete this.registry.refhash[e][n];this.tmp.taintedItemIDs[t.id]=!0,Object.assign(this.registry.refhash[e],t)}}else this.registry.refhash[e]=t;return this.registry.refhash[e]},g.Engine.prototype.refetchItem=function(e){return this.registry.refhash[e]},g.Engine.prototype.setOpt=function(e,t,r){"style"===e.name||"cslstyle"===e.name?(this.opt.inheritedAttributes[t]=r,this.citation.opt.inheritedAttributes[t]=r,this.bibliography.opt.inheritedAttributes[t]=r):["citation","bibliography"].indexOf(e.name)>-1?this[e.name].opt.inheritedAttributes[t]=r:e.strings[t]=r},g.Engine.prototype.inheritOpt=function(e,t,r,i){if(void 0!==e.strings[t])return e.strings[t];var s=this[this.tmp.root].opt.inheritedAttributes[r||t];return void 0!==s?s:i},g.Engine.prototype.remapSectionVariable=function(e){for(var t=0,r=e.length;t<r;t+=1){var i=e[t][0],s=e[t][1];if(["bill","gazette","legislation","regulation","treaty"].indexOf(i.type)>-1){if(s.locator){s.locator=s.locator.trim();var n=s.locator.match(g.STATUTE_SUBDIV_PLAIN_REGEX_FRONT);n||(s.label?s.locator=g.STATUTE_SUBDIV_STRINGS_REVERSE[s.label]+" "+s.locator:s.locator="p. "+s.locator)}var a=null;if(i.section){i.section=i.section.trim();n=i.section.match(g.STATUTE_SUBDIV_PLAIN_REGEX_FRONT);n?a=n[0].trim():(i.section="sec. "+i.section,a="sec.")}if(i.section)if(s.locator){n=s.locator.match(/^([^ ]*)\s*(.*)/);var o=" ";n?("p."===n[1]&&"p."!==a&&(s.locator=n[2]),["[","(",".",",",";",":","?"].indexOf(s.locator.slice(0,1))>-1&&(o="")):o="",s.locator=i.section+o+s.locator}else s.locator=i.section;s.label=""}}},g.Engine.prototype.setNumberLabels=function(e){if(e.number&&["bill","gazette","legislation","regulation","treaty"].indexOf(e.type)>-1&&this.opt.development_extensions.consolidate_legal_items&&!this.tmp.shadow_numbers.number){this.tmp.shadow_numbers.number={},this.tmp.shadow_numbers.number.values=[],this.tmp.shadow_numbers.number.plural=0,this.tmp.shadow_numbers.number.numeric=!1,this.tmp.shadow_numbers.number.label=!1;var t=""+e.number;t=t.split("\\").join("");var r=t.split(/\s+/)[0],i=g.STATUTE_SUBDIV_STRINGS[r];if(i){var s=t.split(g.STATUTE_SUBDIV_PLAIN_REGEX);if(s.length>1){for(var n=[],a=1,o=s.length;a<o;a+=1)n.push(s[a].replace(/\s*$/,"").replace(/^\s*/,""));t=n.join(" ")}else t=s[0];this.tmp.shadow_numbers.number.label=i,this.tmp.shadow_numbers.number.values.push(["Blob",t,!1]),this.tmp.shadow_numbers.number.numeric=!1}else this.tmp.shadow_numbers.number.values.push(["Blob",t,!1]),this.tmp.shadow_numbers.number.numeric=!0}},g.substituteOne=function(e){return function(t,r){return r?e.replace("%%STRING%%",r):""}},g.substituteTwo=function(e){return function(t){var r=e.replace("%%PARAM%%",t);return function(e,t){return t?r.replace("%%STRING%%",t):""}}},g.Mode=function(e){var t,r,i,s,n,a;for(i in t={},r=g.Output.Formats[e],r)"@"===i.slice(0,1)?(s=!1,n=r[i],a=i.split("/"),"string"==typeof n&&n.indexOf("%%STRING%%")>-1?s=n.indexOf("%%PARAM%%")>-1?g.substituteTwo(n):g.substituteOne(n):"boolean"!=typeof n||n?"function"==typeof n?s=n:g.error("Bad "+e+" config entry for "+i+": "+n):s=g.Output.Formatters.passthrough,1===a.length?t[a[0]]=s:2===a.length&&(t[a[0]]||(t[a[0]]={}),t[a[0]][a[1]]=s)):t[i]=r[i];return t},g.setDecorations=function(e,t){var r,i;for(i in r=[],g.FORMAT_KEY_SEQUENCE){var s=g.FORMAT_KEY_SEQUENCE[i];t[s]&&(r.push([s,t[s]]),delete t[s])}return r},g.Doppeler=function(e,t){var r=new RegExp("("+e+")","g"),i=new RegExp(e,"g");this.split=function(e){t&&(e=t(e));var s=e.match(r);if(!s)return{tags:[],strings:[e]};for(var n=e.split(i),a=s.length-1;a>-1;a--){"number"==typeof s[a]&&(s[a]="");var o=s[a];"'"===o&&n[a+1].length>0&&(n[a+1]=s[a]+n[a+1],s[a]="")}return{tags:s,strings:n,origStrings:n.slice()}},this.join=function(e){for(var t=e.strings.slice(-1),r=e.tags.length-1;r>-1;r--)t.push(e.tags[r]),t.push(e.strings[r]);return t.reverse(),t.join("")}},g.Engine.prototype.normalDecorIsOrphan=function(e,t){if("normal"===t[1]){var r,i=!1;r="citation"===this.tmp.area?[this.citation.opt.layout_decorations].concat(e.alldecor):e.alldecor;for(var s=r.length-1;s>-1;s+=-1)for(var n=r[s].length-1;n>-1;n+=-1)r[s][n][0]===t[0]&&"normal"!==r[s][n][1]&&(i=!0);if(!i)return!0}return!1},g.Engine.prototype.getCitationLabel=function(e){var t="",r=this.getTrigraphParams(),i=r[0],s=this.getTerm("reference","short",0);void 0===s&&(s="reference"),s=s.replace(".",""),s=s.slice(0,1).toUpperCase()+s.slice(1);for(var n=0,a=g.NAME_VARIABLES.length;n<a;n+=1){var o=g.NAME_VARIABLES[n];if(e[o]){var l=e[o];i=l.length>r.length?r[r.length-1]:r[l.length-1];for(var u=0,c=l.length;u<c&&u!==i.authors.length;u+=1){var m=this.nameOutput.getName(l[u],"locale-translit",!0),p=m.name;p&&p.family?(s=p.family,s=s.replace(/^([ \'\u2019a-z]+\s+)/,"")):p&&p.literal&&(s=p.literal);var h=s.toLowerCase().match(/^(a\s+|the\s+|an\s+)/);if(h&&(s=s.slice(h[1].length)),s=s.replace(g.ROMANESQUE_NOT_REGEXP,""),!s)break;s=s.slice(0,i.authors[u]),s.length>1?s=s.slice(0,1).toUpperCase()+s.slice(1).toLowerCase():1===s.length&&(s=s.toUpperCase()),t+=s}break}}if(!t&&e.title){var f=this.locale[this.opt.lang].opts["skip-words"],d=e.title.split(/\s+/);for(n=d.length-1;n>-1;n--)f.indexOf(d[n])>-1&&(d=d.slice(0,n).concat(d.slice(n+1)));var b=d.join("");b=b.slice(0,r[0].authors[0]),b.length>1?b=b.slice(0,1).toUpperCase()+b.slice(1).toLowerCase():1===b.length&&(b=b.toUpperCase()),t=b}var y="0000";return e.issued&&e.issued.year&&(y=""+e.issued.year),y=y.slice(-1*i.year),t+=y,t},g.Engine.prototype.getTrigraphParams=function(){var e=[],t=this.opt.trigraph.split(":");this.opt.trigraph&&"A"===this.opt.trigraph.slice(0,1)||g.error("Bad trigraph definition: "+this.opt.trigraph);for(var r=0,i=t.length;r<i;r+=1){for(var s=t[r],n={authors:[],year:0},a=0,o=s.length;a<o;a+=1)switch(s.slice(a,a+1)){case"A":n.authors.push(1);break;case"a":n.authors[n.authors.length-1]+=1;break;case"0":n.year+=1;break;default:g.error("Invalid character in trigraph definition: "+this.opt.trigraph)}e.push(n)}return e},g.Engine.prototype.setOutputFormat=function(e){this.opt.mode=e,this.fun.decorate=g.Mode(e),this.output[e]||(this.output[e]={},this.output[e].tmp={})},g.Engine.prototype.getSortFunc=function(){return function(e,t){return e=e.split("-"),t=t.split("-"),e.length<t.length?1:e.length>t.length?-1:(e=e.slice(-1)[0],t=t.slice(-1)[0],e.length<t.length?1:e.length>t.length?-1:0)}},g.Engine.prototype.setLangTagsForCslSort=function(e){var t,r;if(e)for(this.opt["locale-sort"]=[],t=0,r=e.length;t<r;t+=1)this.opt["locale-sort"].push(e[t]);this.opt["locale-sort"].sort(this.getSortFunc())},g.Engine.prototype.setLangTagsForCslTransliteration=function(e){var t,r;if(this.opt["locale-translit"]=[],e)for(t=0,r=e.length;t<r;t+=1)this.opt["locale-translit"].push(e[t]);this.opt["locale-translit"].sort(this.getSortFunc())},g.Engine.prototype.setLangTagsForCslTranslation=function(e){var t,r;if(this.opt["locale-translat"]=[],e)for(t=0,r=e.length;t<r;t+=1)this.opt["locale-translat"].push(e[t]);this.opt["locale-translat"].sort(this.getSortFunc())},g.Engine.prototype.setLangPrefsForCites=function(e,t){var r=this.opt["cite-lang-prefs"];t||(t=function(e){return e.toLowerCase()});for(var i=["Persons","Institutions","Titles","Journals","Publishers","Places"],s=0,n=i.length;s<n;s+=1){var a=t(i[s]),o=i[s].toLowerCase();if(e[a]){for(var l=[];e[a].length>1;)l.push(e[a].pop());var u={orig:1,translit:2,translat:3};for(2===l.length&&u[l[0]]<u[l[1]]&&l.reverse();l.length;)e[a].push(l.pop());for(var c=r[o];c.length;)c.pop();for(var m=0,p=e[a].length;m<p;m+=1)c.push(e[a][m])}}},g.Engine.prototype.setLangPrefsForCiteAffixes=function(e){if(e&&48===e.length){for(var t,r=this.opt.citeAffixes,i=0,s=["persons","institutions","titles","journals","publishers","places"],n=["translit","orig","translit","translat"],a=0,o=s.length;a<o;a+=1)for(var l=0,u=n.length;l<u;l+=1)t="",i%8==4&&(r[s[a]]["locale-"+n[l]].prefix||r[s[a]]["locale-"+n[l]].suffix)||(t=e[i]?e[i]:"",r[s[a]]["locale-"+n[l]].prefix=t,t=e[i]?e[i+1]:"",r[s[a]]["locale-"+n[l]].suffix=t),i+=2;this.opt.citeAffixes=r}},g.Engine.prototype.setAutoVietnameseNamesOption=function(e){this.opt["auto-vietnamese-names"]=!!e},g.Engine.prototype.setAbbreviations=function(e){this.sys.setAbbreviations&&this.sys.setAbbreviations(e)},g.Engine.prototype.setSuppressTrailingPunctuation=function(e){this.citation.opt.suppressTrailingPunctuation=!!e},g.Output={},g.Output.Queue=function(e){this.levelname=["top"],this.state=e,this.queue=[],this.empty=new g.Token("empty");var t={};t.empty=this.empty,this.formats=new g.Stack(t),this.current=new g.Stack(this.queue)},g.Output.Queue.prototype.pop=function(){var e=this.current.value();return e.length?e.pop():e.blobs.pop()},g.Output.Queue.prototype.getToken=function(e){var t=this.formats.value()[e];return t},g.Output.Queue.prototype.mergeTokenStrings=function(e,t){var r,i,s;if(r=this.formats.value()[e],i=this.formats.value()[t],s=r,i){r||(r=new g.Token(e,g.SINGLETON),r.decorations=[]),s=new g.Token(e,g.SINGLETON);var n="";for(var n in r.strings)r.strings.hasOwnProperty(n)&&(s.strings[n]=r.strings[n]);for(var n in i.strings)i.strings.hasOwnProperty(n)&&(s.strings[n]=i.strings[n]);s.decorations=r.decorations.concat(i.decorations)}return s},g.Output.Queue.prototype.addToken=function(e,t,r){var i,s;if(i=new g.Token("output"),"string"==typeof r&&(r=this.formats.value()[r]),r&&r.strings){for(s in r.strings)r.strings.hasOwnProperty(s)&&(i.strings[s]=r.strings[s]);i.decorations=r.decorations}"string"==typeof t&&(i.strings.delimiter=t),this.formats.value()[e]=i},g.Output.Queue.prototype.pushFormats=function(e){e||(e={}),e.empty=this.empty,this.formats.push(e)},g.Output.Queue.prototype.popFormats=function(){this.formats.pop()},g.Output.Queue.prototype.startTag=function(e,t){var r={};this.state.tmp["doing-macro-with-date"]&&this.state.tmp.extension&&(t=this.empty,e="empty"),r[e]=t,this.pushFormats(r),this.openLevel(e)},g.Output.Queue.prototype.endTag=function(e){this.closeLevel(e),this.popFormats()},g.Output.Queue.prototype.openLevel=function(e){var t,r;"object"==typeof e?t=new g.Blob(void 0,e):void 0===e?t=new g.Blob(void 0,this.formats.value().empty,"empty"):(this.formats.value()&&this.formats.value()[e]||g.error('CSL processor error: call to nonexistent format token "'+e+'"'),t=new g.Blob(void 0,this.formats.value()[e],e)),r=this.current.value(),!this.state.tmp.just_looking&&this.checkNestedBrace&&(t.strings.prefix=this.checkNestedBrace.update(t.strings.prefix)),r.push(t),this.current.push(t)},g.Output.Queue.prototype.closeLevel=function(e){e&&e!==this.current.value().levelname&&g.error("Level mismatch error:  wanted "+e+" but found "+this.current.value().levelname);var t=this.current.pop();!this.state.tmp.just_looking&&this.checkNestedBrace&&(t.strings.suffix=this.checkNestedBrace.update(t.strings.suffix))},g.Output.Queue.prototype.append=function(e,t,r,i,s){var n,a,o,l=!0;if(r&&(i=!0),this.state.tmp["doing-macro-with-date"]&&!r){if("macro-with-date"!==t)return!1;"macro-with-date"===t&&(t="empty")}if(void 0===e)return!1;if("number"==typeof e&&(e=""+e),!r&&this.state.tmp.element_trace&&"suppress-me"===this.state.tmp.element_trace.value())return!1;if(a=!1,t?"literal"===t?(n=!0,l=!1):n="string"==typeof t?this.formats.value()[t]:t:n=this.formats.value().empty,n||g.error("CSL processor error: unknown format token name: "+t),n.strings&&void 0===n.strings.delimiter&&(n.strings.delimiter=""),"string"==typeof e&&e.length&&(e=e.replace(/ ([:;?!\u00bb])/g,"$1").replace(/\u00ab /g,""),this.last_char_rendered=e.slice(-1),e=e.replace(/\s+'/g," '"),r||(e=e.replace(/^'/g," '")),i?r&&(this.state.tmp.term_predecessor_name=!0):(this.state.tmp.term_predecessor=!0,this.state.tmp.in_cite_predecessor=!0)),a=new g.Blob(e,n),o=this.current.value(),void 0===o&&0===this.current.mystack.length&&(this.current.mystack.push([]),o=this.current.value()),"string"==typeof a.blobs&&(i?r&&(this.state.tmp.term_predecessor_name=!0):(this.state.tmp.term_predecessor=!0,this.state.tmp.in_cite_predecessor=!0)),"string"==typeof e){if("string"==typeof a.blobs&&" "!==a.blobs.slice(0,1)){for(var u="",c=a.blobs;g.TERMINAL_PUNCTUATION.indexOf(c.slice(0,1))>-1;)u+=c.slice(0,1),c=c.slice(1);c&&u&&(a.strings.prefix=a.strings.prefix+u,a.blobs=c)}a.strings["text-case"]&&(a.blobs=g.Output.Formatters[a.strings["text-case"]](this.state,e)),this.state.tmp.strip_periods&&!s&&(a.blobs=a.blobs.replace(/\.([^a-z]|$)/g,"$1"))
;for(var m=a.decorations.length-1;m>-1;m+=-1)"@quotes"===a.decorations[m][0]&&"false"!==a.decorations[m][1]&&(a.punctuation_in_quote=this.state.getOpt("punctuation-in-quote")),a.blobs.match(g.ROMANESQUE_REGEXP)||"@font-style"===a.decorations[m][0]&&(a.decorations=a.decorations.slice(0,m).concat(a.decorations.slice(m+1)));o.push(a),this.state.fun.flipflopper.processTags(a)}else l?o.push(a):o.push(e);return!0},g.Output.Queue.prototype.string=function(e,t,r){var i,s=g.getSafeEscape(this.state),n=t.slice(),a=[];if(0===n.length)return a;var o,l,u,c,m="";r?m=r.strings.delimiter:(e.tmp.count_offset_characters=!1,e.tmp.offset_characters=0),r&&r.new_locale&&(r.old_locale=e.opt.lang,e.opt.lang=r.new_locale);for(var p=0,h=n.length;p<h;p+=1){if(o=n[p],o.strings.first_blob&&(e.tmp.count_offset_characters=o.strings.first_blob),"string"==typeof o.blobs){if("number"==typeof o.num)a.push(o);else if(o.blobs){o.particle&&(o.blobs=o.particle+o.blobs,o.particle=""),i=s(o.blobs);var f=i.length;if(!e.tmp.suppress_decorations)for(y=0,v=o.decorations.length;y<v;y+=1)c=o.decorations[y],"@showid"!==c[0]&&(e.normalDecorIsOrphan(o,c)||(i=e.fun.decorate[c[0]][c[1]].call(o,e,i,c[2])));if(i&&i.length){if(i=s(o.strings.prefix)+i+s(o.strings.suffix),e.opt.development_extensions.csl_reverse_lookup_support&&!e.tmp.suppress_decorations)for(y=0,v=o.decorations.length;y<v;y+=1)c=o.decorations[y],"@showid"===c[0]&&(i=e.fun.decorate[c[0]][c[1]].call(o,e,i,c[2]));a.push(i),e.tmp.count_offset_characters&&(e.tmp.offset_characters+=f+o.strings.suffix.length+o.strings.prefix.length)}}}else if(o.blobs.length){var d=e.output.string(e,o.blobs,o);if(r&&"string"!==d&&d.length>1&&o.strings.delimiter)for(var b=!1,y=0,v=d.length;y<v;y++)"string"!=typeof d[y]?b=!0:b&&(d[y]=o.strings.delimiter+d[y]);a=a.concat(d)}o.strings.first_blob&&e.registry.registry[o.strings.first_blob]&&(e.registry.registry[o.strings.first_blob].offset=e.tmp.offset_characters,e.tmp.count_offset_characters=!1)}for(p=0,h=a.length-1;p<h;p+=1)"number"!=typeof a[p].num||"number"!=typeof a[p+1].num||a[p+1].UGLY_DELIMITER_SUPPRESS_HACK||(a[p].strings.suffix=a[p].strings.suffix+(m||""),a[p+1].successor_prefix="",a[p+1].UGLY_DELIMITER_SUPPRESS_HACK=!0);var _=0;for(p=0,h=a.length;p<h;p+=1)"string"==typeof a[p]&&(_=parseInt(p,10)+1,p<a.length-1&&"object"==typeof a[p+1]&&(m&&!a[p+1].UGLY_DELIMITER_SUPPRESS_HACK&&(a[p]+=s(m)),a[p+1].UGLY_DELIMITER_SUPPRESS_HACK=!0));if(r&&(r.decorations.length||r.strings.suffix))_=a.length;else if(r&&r.strings.prefix)for(p=0,h=a.length;p<h;p++)if(void 0!==a[p].num){_=p,0===p&&(a[p].strings.prefix=r.strings.prefix+a[p].strings.prefix);break}var x=e.output.renderBlobs(a.slice(0,_),m,!1,r);if(x&&r&&(r.decorations.length||r.strings.suffix||r.strings.prefix)){if(!e.tmp.suppress_decorations)for(p=0,h=r.decorations.length;p<h;p+=1)c=r.decorations[p],["@cite","@bibliography","@display","@showid"].indexOf(c[0])>-1||e.normalDecorIsOrphan(o,c)||c[0]&&"string"==typeof x&&(x=e.fun.decorate[c[0]][c[1]].call(r,e,x,c[2]));if(i=x,l=r.strings.suffix,i&&i.length&&(u=r.strings.prefix,i=s(u)+i+s(l),e.tmp.count_offset_characters&&(e.tmp.offset_characters+=u.length+l.length)),x=i,!e.tmp.suppress_decorations)for(p=0,h=r.decorations.length;p<h;p+=1)c=r.decorations[p],-1!==["@cite","@bibliography","@display","@showid"].indexOf(c[0])&&"string"==typeof x&&(x=e.fun.decorate[c[0]][c[1]].call(r,e,x,c[2]))}var E=a.slice(_,a.length);return!E.length&&x?a=[x]:E.length&&!x?a=E:x&&E.length&&(a=[x].concat(E)),void 0===r?(this.queue=[],this.current.mystack=[],this.current.mystack.push(this.queue),e.tmp.suppress_decorations&&(a=e.output.renderBlobs(a,void 0,!1))):"boolean"==typeof r&&(a=e.output.renderBlobs(a,void 0,!0)),r&&r.new_locale&&(e.opt.lang=r.old_locale),a},g.Output.Queue.prototype.clearlevel=function(){var e,t,r;for(e=this.current.value(),r=e.blobs.length,t=0;t<r;t+=1)e.blobs.pop()},g.Output.Queue.prototype.renderBlobs=function(e,t,r,i){var s,n,a,o,l,u,c,m,p,h,f;if(f=g.getSafeEscape(this.state),t||(t=""),s=this.state,n="",[],a="",u=e.length,"citation"===this.state.tmp.area&&!this.state.tmp.just_looking&&1===u&&"object"==typeof e[0]&&i)return e[0].strings.prefix=i.strings.prefix+e[0].strings.prefix,e[0].strings.suffix=e[0].strings.suffix+i.strings.suffix,e[0].decorations=e[0].decorations.concat(i.decorations),e[0].params=i.params,e[0];var d=!0;for(l=0;l<u;l+=1)e[l].checkNext?(e[l].checkNext(e[l+1],d),d=!1):d=!e[l+1]||!e[l+1].splice_prefix;var b=!0;for(l=e.length-1;l>0;l+=-1)e[l].checkLast?b&&e[l].checkLast(e[l-1])&&(b=!1):b=!0;for(u=e.length,l=0;l<u;l+=1)if(o=e[l],n&&(a=t),"string"==typeof o)n+=f(a),n+=o,s.tmp.count_offset_characters&&(s.tmp.offset_characters+=a.length);else if(r)n=n?[n,o]:[o];else if(o.status!==g.SUPPRESS){p=o.particle?o.particle+o.num:o.formatter.format(o.num,o.gender);var y=p.replace(/<[^>]*>/g,"").length;this.append(p,"empty",!0);var v=this.pop(),_=s.tmp.count_offset_characters;if(p=this.string(s,[v],!1),s.tmp.count_offset_characters=_,o.strings["text-case"]&&(p=g.Output.Formatters[o.strings["text-case"]](this.state,p)),p&&this.state.tmp.strip_periods&&(p=p.replace(/\.([^a-z]|$)/g,"$1")),!s.tmp.suppress_decorations)for(m=o.decorations.length,c=0;c<m;c+=1)h=o.decorations[c],s.normalDecorIsOrphan(o,h)||(p=s.fun.decorate[h[0]][h[1]].call(o,s,p,h[2]));p=f(o.strings.prefix)+p+f(o.strings.suffix);var x="";o.status===g.END?x=f(o.range_prefix):o.status===g.SUCCESSOR?x=f(o.successor_prefix):o.status===g.START?x=l>0&&!o.suppress_splice_prefix?f(o.splice_prefix):"":o.status===g.SEEN&&(x=f(o.splice_prefix)),n+=x,n+=p,s.tmp.count_offset_characters&&(s.tmp.offset_characters+=x.length+o.strings.prefix.length+y+o.strings.suffix.length)}return n},g.Output.Queue.purgeEmptyBlobs=function(e){if("object"==typeof e&&"object"==typeof e.blobs&&e.blobs.length)for(var t=e.blobs.length-1;t>-1;t--){g.Output.Queue.purgeEmptyBlobs(e.blobs[t]);var r=e.blobs[t];if(!r||!r.blobs||!r.blobs.length){for(var i=[];e.blobs.length-1>t;)i.push(e.blobs.pop());for(e.blobs.pop();i.length;)e.blobs.push(i.pop())}}},g.Output.Queue.adjust=function(e){function t(e){return"number"==typeof e.num||e.blobs&&1===e.blobs.length&&"number"==typeof e.blobs[0].num}function r(e){return"number"==typeof e.num||!(!e.blobs||"object"!=typeof e.blobs)&&(!!r(e.blobs[e.blobs.length-1])||void 0)}function i(e,t){var r=!1,i=["@font-style","@font-variant","@font-weight","@text-decoration","@vertical-align"];if(t&&i.push("@quotes"),e.decorations)for(var s=0,n=e.decorations.length;s<n;s++)if(i.indexOf(e.decorations[s][0])>-1){r=!0;break}return r}function s(e){if(e.decorations)for(var t=0,r=e.decorations.length;t<r;t++)if("@quotes"===e.decorations[t][0]&&"false"!==e.decorations[t][1])return!0;return"object"==typeof e.blobs&&s(e.blobs[e.blobs.length-1])}function n(e,t){var r=t.strings.suffix.slice(-1);r||"string"!=typeof t.blobs||(r=t.blobs.slice(-1));var i=E[e][r];return!(!i||1!==i.length)||"object"==typeof t.blobs&&!!n(e,t.blobs[t.blobs.length-1])}function a(e,t){if(!v[t])return!1;if("string"==typeof e.blobs)return e.blobs.slice(-1)===t;var r=e.blobs[e.blobs.length-1];if(r){var i=r.strings.suffix.slice(-1);return i?r.strings.suffix.slice(-1)==t:a(r,t)}return!1}function o(e,t,r,i,s){function n(){f[i]=f[i].slice(1)}function a(){h[t]=h[t].slice(0,-1)}function o(e){f[i]=e+f[i]}function l(e){h[t]+=e}function u(){return E[b]}function c(){return g[d]}function m(){var e=g[d][b];"string"==typeof e?(a(),n(),o(e)):(o(d),a())}function p(){var e=E[b][d];"string"==typeof e?(a(),n(),l(e)):(l(b),n())}var h="blobs"===t?e:e.strings,f="blobs"===i?r:r.strings,d=h[t].slice(-1),b=f[i].slice(0,1),y=s?a:n,v=s?c:u,_=s?m:p,x=d===b;x?y():v()&&_()}function l(e){if(e.blobs&&"string"==typeof e.blobs)v[e.strings.suffix.slice(0,1)]&&e.strings.suffix.slice(0,1)===e.blobs.slice(-1)&&(e.strings.suffix=e.strings.suffix.slice(1));else if("object"==typeof e&&"object"==typeof e.blobs&&e.blobs.length)for(var t=i(e,!0),r=e.blobs.length-1;r>-1;r--){this.upward(e.blobs[r]);var s=e.strings,n=e.blobs[r].strings;if(0===r){" "===s.prefix.slice(-1)&&" "===n.prefix.slice(0,1)&&(n.prefix=n.prefix.slice(1));var a=n.prefix.slice(0,1);t||!_[a]||s.prefix||(s.prefix+=a,n.prefix=n.prefix.slice(1))}if(r===e.blobs.length-1){a=n.suffix.slice(-1);!t&&[" "].indexOf(a)>-1&&(s.suffix.slice(0,1)!==a&&(s.suffix=a+s.suffix),n.suffix=n.suffix.slice(0,-1))}s.delimiter&&r>0&&_[s.delimiter.slice(-1)]&&s.delimiter.slice(-1)===n.prefix.slice(0,1)&&(n.prefix=n.prefix.slice(1))}}function u(e){if("object"==typeof e&&"object"==typeof e.blobs&&e.blobs.length)for(var t=e.blobs.length-1;t>-1;t--)if(this.leftward(e.blobs[t]),t<e.blobs.length-1&&!e.strings.delimiter){var r=e.blobs[t],s=r.strings.suffix.slice(-1),n=e.blobs[t+1],a=n.strings.prefix.slice(0,1),l=i(r)||i(n),u="number"==typeof s||"number"==typeof a;if(!l&&!u&&v[a]&&!u){var c=a===r.strings.suffix.slice(-1),m=!r.strings.suffix&&"string"==typeof r.blobs&&r.blobs.slice(-1)===a;c||m?n.strings.prefix=n.strings.prefix.slice(1):o(r,"suffix",n,"prefix")}}}function c(l){if(l.blobs&&"string"==typeof l.blobs)v[l.strings.suffix.slice(0,1)]&&l.strings.suffix.slice(0,1)===l.blobs.slice(-1)&&(l.strings.suffix=l.strings.suffix.slice(1));else if("object"==typeof l&&"object"==typeof l.blobs&&l.blobs.length){for(var u=l.strings,c=0,m=l.blobs.length;c<m;c++)if(t(l.blobs[c])){!0;break}if(u.delimiter&&v[u.delimiter.slice(0,1)]){var p=u.delimiter.slice(0,1);for(c=l.blobs.length-2;c>-1;c--){var h=l.blobs[c].strings;h.suffix.slice(-1)!==p&&(h.suffix+=p)}u.delimiter=u.delimiter.slice(1)}for(c=l.blobs.length-1;c>-1;c--){var f=l.blobs[c],d=(h=l.blobs[c].strings,i(f,!0)),g=t(f);if(c===l.blobs.length-1){var b=u.suffix.slice(0,1),y=!1;v[b]&&(y=n(b,f),!y&&e&&(y=s(f))),y&&v[b]&&(r(f)||("string"==typeof f.blobs?o(f,"blobs",l,"suffix"):o(f,"suffix",l,"suffix"),"."===u.suffix.slice(0,1)&&(h.suffix+=u.suffix.slice(0,1),u.suffix=u.suffix.slice(1))))," "===h.suffix.slice(-1)&&" "===u.suffix.slice(0,1)&&(u.suffix=u.suffix.slice(1)),_[h.suffix.slice(0,1)]&&("string"==typeof f.blobs&&f.blobs.slice(-1)===h.suffix.slice(0,1)&&(h.suffix=h.suffix.slice(1)),h.suffix.slice(-1)===u.suffix.slice(0,1)&&(u.suffix=u.suffix.slice(0,-1))),a(l,l.strings.suffix.slice(0,1))&&(l.strings.suffix=l.strings.suffix.slice(1))}else if(u.delimiter)_[u.delimiter.slice(0,1)]&&u.delimiter.slice(0,1)===h.suffix.slice(-1)&&(l.blobs[c].strings.suffix=l.blobs[c].strings.suffix.slice(0,-1));else{var x=l.blobs[c+1].strings;t(f)||d||!_[h.suffix.slice(-1)]||h.suffix.slice(-1)!==x.prefix.slice(0,1)||(x.prefix=x.prefix.slice(1))}g||d||!v[h.suffix.slice(0,1)]||"string"!=typeof f.blobs||o(f,"blobs",f,"suffix"),this.downward(l.blobs[c])}}}function m(e){var t=e.strings.suffix.slice(0,1);if("string"==typeof e.blobs)for(;b[t];)o(e,"blobs",e,"suffix"),t=e.strings.suffix.slice(0,1);else for(;b[t];)o(e.blobs[e.blobs.length-1],"suffix",e,"suffix"),t=e.strings.suffix.slice(0,1)}function p(e){if("string"==typeof e.blobs)for(var t=e.blobs.slice(-1);y[t];)o(e,"blobs",e,"suffix",!0),t=e.blobs.slice(-1);else for(t=e.blobs[e.blobs.length-1].strings.suffix.slice(-1);y[t];)o(e.blobs[e.blobs.length-1],"suffix",e,"suffix",!0),t=e.blobs[e.blobs.length-1].strings.suffix.slice(-1)}function h(t){if("object"==typeof t&&"object"==typeof t.blobs&&t.blobs.length){for(var r,i=0,s=t.blobs.length;i<s;i++){for(var n=t.blobs[i],a=!1,o=0,l=n.decorations.length;o<l;o++){var u=n.decorations[o];"@quotes"===u[0]&&"false"!==u[1]&&(a=!0)}a&&(e?m(n):p(n)),r=this.fix(t.blobs[i]),n.blobs&&"string"==typeof n.blobs&&(r=n.blobs.slice(-1))}return r}}var f={";":!0,":":!0},d={".":!0,"!":!0,"?":!0},g={"!":{".":"!","?":"!?",":":"!",",":"!,",";":"!;"},"?":{"!":"?!",".":"?",":":"?",",":"?,",";":"?;"},".":{"!":".!","?":".?",":":".:",",":".,",";":".;"},":":{"!":"!","?":"?",".":":",",":":,",";":":;"},",":{"!":",!","?":",?",":":",:",".":",.",";":",;"},";":{"!":"!","?":"?",":":";",",":";,",".":";"}},b={},y={},v={},_={};for(var x in g)v[x]=!0,_[x]=!0,f[x]||(b[x]=!0),d[x]||(y[x]=!0);_[" "]=!0,_[" "]=!0;var E={};for(var x in g)for(var A in g[x])E[A]||(E[A]={}),E[A][x]=g[x][A];this.upward=l,this.leftward=u,this.downward=c,this.fix=h},g.Engine.Opt=function(){this.parallel={enable:!1},this.has_disambiguate=!1,this.mode="html",this.dates={},this.jurisdictions_seen={},this.suppressedJurisdictions={},this.inheritedAttributes={},this["locale-sort"]=[],this["locale-translit"]=[],this["locale-translat"]=[],this.citeAffixes={persons:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},institutions:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},titles:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},journals:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},publishers:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},places:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}}},this["default-locale"]=[],this.update_mode=g.NONE,this.bib_mode=g.NONE,this.sort_citations=!1,this["et-al-min"]=0,this["et-al-use-first"]=1,this["et-al-use-last"]=!1,this["et-al-subsequent-min"]=!1,this["et-al-subsequent-use-first"]=!1,this["demote-non-dropping-particle"]="display-and-sort",this["parse-names"]=!0,this.citation_number_slug=!1,this.trigraph="Aaaa00:AaAa00:AaAA00:AAAA00",this.nodenames=[],this.gender={},this["cite-lang-prefs"]={persons:["orig"],institutions:["orig"],titles:["orig"],journals:["orig"],publishers:["orig"],places:["orig"],number:["orig"]},this.has_layout_locale=!1,this.disable_duplicate_year_suppression=[],this.use_context_condition=!1,this.jurisdiction_fallbacks={},this.development_extensions={},this.development_extensions.field_hack=!0,this.development_extensions.allow_field_hack_date_override=!0,this.development_extensions.locator_date_and_revision=!0,this.development_extensions.locator_label_parse=!0,this.development_extensions.raw_date_parsing=!0,this.development_extensions.clean_up_csl_flaws=!0,this.development_extensions.consolidate_legal_items=!1,this.development_extensions.csl_reverse_lookup_support=!1,this.development_extensions.wrap_url_and_doi=!1,this.development_extensions.thin_non_breaking_space_html_hack=!1,this.development_extensions.apply_citation_wrapper=!1,this.development_extensions.main_title_from_short_title=!1,this.development_extensions.uppercase_subtitles=!1,this.development_extensions.normalize_lang_keys_to_lowercase=!1,this.development_extensions.strict_text_case_locales=!1,this.development_extensions.expect_and_symbol_form=!1,this.development_extensions.require_explicit_legal_case_title_short=!1,this.development_extensions.spoof_institutional_affiliations=!1,this.development_extensions.force_jurisdiction=!1,this.development_extensions.parse_names=!0,this.development_extensions.hanging_indent_legacy_number=!1,this.development_extensions.throw_on_empty=!1,this.development_extensions.strict_inputs=!0,this.development_extensions.prioritize_disambiguate_condition=!1,this.development_extensions.force_short_title_casing_alignment=!0,this.development_extensions.implicit_short_title=!1,this.development_extensions.force_title_abbrev_fallback=!1,this.development_extensions.split_container_title=!1,this.development_extensions.legacy_institution_name_ordering=!1,this.development_extensions.etal_min_etal_usefirst_hack=!1},g.Engine.Tmp=function(){this.names_max=new g.Stack,this.names_base=new g.Stack,this.givens_base=new g.Stack,this.value=[],this.namepart_decorations={},this.namepart_type=!1,this.area="citation",this.root="citation",this.extension="",this.can_substitute=new g.Stack(0,g.LITERAL),this.element_rendered_ok=!1,this.element_trace=new g.Stack("style"),this.nameset_counter=0,this.group_context=new g.Stack({term_intended:!1,variable_attempt:!1,variable_success:!1,output_tip:void 0,label_form:void 0,parallel_first:void 0,parallel_last:void 0,parallel_delimiter_override:void 0,condition:!1,force_suppress:!1,done_vars:[]}),this.term_predecessor=!1,this.in_cite_predecessor=!1,this.jump=new g.Stack(0,g.LITERAL),this.decorations=new g.Stack,this.tokenstore_stack=new g.Stack,this.last_suffix_used="",this.last_names_used=[],this.last_years_used=[],this.years_used=[],this.names_used=[],this.taintedItemIDs={},this.taintedCitationIDs={},this.initialize_with=new g.Stack,this.disambig_request=!1,this["name-as-sort-order"]=!1,this.suppress_decorations=!1,this.disambig_settings=new g.AmbigConfig,this.bib_sort_keys=[],this.prefix=new g.Stack("",g.LITERAL),this.suffix=new g.Stack("",g.LITERAL),this.delimiter=new g.Stack("",g.LITERAL),this.cite_locales=[],this.cite_affixes={citation:!1,bibliography:!1,citation_sort:!1,bibliography_sort:!1},this.strip_periods=0,this.shadow_numbers={},this.authority_stop_last=0,this.loadedItemIDs={},this.condition_counter=0,this.condition_lang_val_arr=[],this.condition_lang_counter_arr=[]},g.Engine.Fun=function(e){this.match=new g.Util.Match,this.suffixator=new g.Util.Suffixator(g.SUFFIX_CHARS),this.romanizer=new g.Util.Romanizer,this.ordinalizer=new g.Util.Ordinalizer(e),this.long_ordinalizer=new g.Util.LongOrdinalizer},g.Engine.Build=function(){this["alternate-term"]=!1,this.in_bibliography=!1,this.in_style=!1,this.skip=!1,this.postponed_macro=!1,this.layout_flag=!1,this.name=!1,this.names_variables=[[]],this.name_label=[{}],this.form=!1,this.term=!1,this.macro={},this.macro_stack=[],this.text=!1,this.lang=!1,this.area="citation",this.root="citation",this.extension="",this.substitute_level=new g.Stack(0,g.LITERAL),this.names_level=0,this.render_nesting_level=0,this.render_seen=!1,this.bibliography_key_pos=0},g.Engine.Configure=function(){this.tests=[],this.fail=[],this.succeed=[]},g.Engine.Citation=function(e){this.opt={inheritedAttributes:{}},this.tokens=[],this.srt=new g.Registry.Comparifier(e,"citation_sort"),this.opt.collapse=[],this.opt["disambiguate-add-names"]=!1,this.opt["disambiguate-add-givenname"]=!1,this.opt["disambiguate-add-year-suffix"]=!1,this.opt["givenname-disambiguation-rule"]="by-cite",this.opt["near-note-distance"]=5,this.opt.topdecor=[],this.opt.layout_decorations=[],this.opt.layout_prefix="",this.opt.layout_suffix="",this.opt.layout_delimiter="",this.opt.sort_locales=[],this.opt.max_number_of_names=0,this.root="citation"},g.Engine.Bibliography=function(){this.opt={inheritedAttributes:{}},this.tokens=[],this.opt.collapse=[],this.opt.topdecor=[],this.opt.layout_decorations=[],this.opt.layout_prefix="",this.opt.layout_suffix="",this.opt.layout_delimiter="",this.opt["line-spacing"]=1,this.opt["entry-spacing"]=1,this.opt.sort_locales=[],this.opt.max_number_of_names=0,this.root="bibliography"},g.Engine.BibliographySort=function(){this.tokens=[],this.opt={},this.opt.sort_directions=[],this.opt.topdecor=[],this.opt.citation_number_sort_direction=g.ASCENDING,this.opt.citation_number_secondary=!1,this.tmp={},this.keys=[],this.root="bibliography"},g.Engine.CitationSort=function(){this.tokens=[],this.opt={},this.opt.sort_directions=[],this.keys=[],this.opt.topdecor=[],this.root="citation"},g.Engine.InText=function(){this.opt={inheritedAttributes:{}},this.tokens=[],this.opt.collapse=[],this.opt["disambiguate-add-names"]=!1,this.opt["disambiguate-add-givenname"]=!1,this.opt["disambiguate-add-year-suffix"]=!1,this.opt["givenname-disambiguation-rule"]="by-cite",this.opt["near-note-distance"]=5,this.opt.topdecor=[],this.opt.layout_decorations=[],this.opt.layout_prefix="",this.opt.layout_suffix="",this.opt.layout_delimiter="",this.opt.sort_locales=[],this.opt.max_number_of_names=0,this.root="intext"},g.Engine.prototype.previewCitationCluster=function(e,t,r,i){var s=this.opt.mode;this.setOutputFormat(i),e.citationID&&delete e.citationID;var n=this.processCitationCluster(e,t,r,g.PREVIEW);return this.setOutputFormat(s),n[1]},g.Engine.prototype.appendCitationCluster=function(e){for(var t=[],r=this.registry.citationreg.citationByIndex.length,i=0;i<r;i+=1){var s=this.registry.citationreg.citationByIndex[i];t.push([""+s.citationID,s.properties.noteIndex])}return this.processCitationCluster(e,t,[])[1]},g.Engine.prototype.processCitationCluster=function(e,t,r,i){var s,n,a,o,l,u,c,m,p,h,f,d,b,y,v,_,x;if(this.debug=!1,this.tmp.loadedItemIDs={},this.tmp.citation_errors=[],this.registry.return_data={bibchange:!1},this.setCitationId(e),i===g.PREVIEW){this.debug&&g.debug("****** start state save *********"),v=this.registry.citationreg.citationByIndex.slice(),_=this.registry.reflist.slice();for(var E=t.concat(r),A={},w=[],T=0,O=E.length;T<O;T+=1)for(s=this.registry.citationreg.citationById[E[T][0]],o=0,l=s.citationItems.length;o<l;o+=1)A[s.citationItems[o].id]=!0,w.push(""+s.citationItems[o].id);for(o=0,l=e.citationItems.length;o<l;o+=1)A[e.citationItems[o].id]=!0,w.push(""+e.citationItems[o].id);x={};for(T=0,O=_.length;T<O;T+=1)if(!A[_[T].id]){var S=this.registry.registry[_[T].id].ambig,C=this.registry.ambigcites[S];if(C)for(o=0,l=C.length;o<l;o+=1)x[C[o]]=g.cloneAmbigConfig(this.registry.registry[C[o]].disambig)}this.debug&&g.debug("****** end state save *********")}this.tmp.taintedCitationIDs={};var k=[],N={};for(T=0,O=e.citationItems.length;T<O;T+=1){for(var I in f={},e.citationItems[T])f[I]=e.citationItems[T][I];if(h=this.retrieveItem(""+f.id),h.id&&this.transform.loadAbbreviation("default","hereinafter",h.id,h.language),f=g.parseLocator.call(this,f),this.opt.development_extensions.consolidate_legal_items&&this.remapSectionVariable([[h,f]]),this.opt.development_extensions.locator_label_parse&&f.locator&&-1===["bill","gazette","legislation","regulation","treaty"].indexOf(h.type)&&(!f.label||"page"===f.label)){var P=g.LOCATOR_LABELS_REGEXP.exec(f.locator);if(P){var j=g.LOCATOR_LABELS_MAP[P[2]];this.getTerm(j)&&(f.label=j,f.locator=P[3])}}var R=[h,f];k.push(R),e.citationItems[T].item=h}e.sortedItems=k;var D,B=[],M={};for(T=0,O=t.length;T<O;T+=1)n=t[T],this.opt.development_extensions.strict_inputs&&(M[n[0]]&&g.error("Previously referenced citationID "+n[0]+" encountered in citationsPre"),n[1]&&(D>n[1]&&g.debug("Note index sequence is not sane at citationsPre["+T+"]"),D=n[1])),this.registry.citationreg.citationById[n[0]].properties.noteIndex=n[1],B.push(this.registry.citationreg.citationById[n[0]]),M[n[0]]=this.registry.citationreg.citationById[n[0]];for(e.properties||(e.properties={noteIndex:0}),this.opt.development_extensions.strict_inputs&&(M[e.citationID]&&g.error("Citation with previously referenced citationID "+e.citationID),e.properties.noteIndex&&(D>e.properties.noteIndex&&g.debug("Note index sequence is not sane for citation "+e.citationID),D=e.properties.noteIndex)),B.push(e),M[e.citationID]=e,T=0,O=r.length;T<O;T+=1)a=r[T],this.opt.development_extensions.strict_inputs&&(M[a[0]]&&g.error("Previously referenced citationID "+a[0]+" encountered in citationsPost"),a[1]&&(D>a[1]&&g.debug("Note index sequence is not sane at postCitation["+T+"]"),D=a[1])),this.registry.citationreg.citationById[a[0]].properties.noteIndex=a[1],B.push(this.registry.citationreg.citationById[a[0]]),M[a[0]]=this.registry.citationreg.citationById[a[0]];this.registry.citationreg.citationByIndex=B,this.registry.citationreg.citationById=M,this.registry.citationreg.citationsByItemId={},this.opt.update_mode===g.POSITION&&(b=[],d=[],y={});var L,U=[];for(T=0,O=B.length;T<O;T+=1){for(B[T].properties.index=T,o=0,l=B[T].sortedItems.length;o<l;o+=1)f=B[T].sortedItems[o],this.registry.citationreg.citationsByItemId[f[1].id]||(this.registry.citationreg.citationsByItemId[f[1].id]=[],U.push(""+f[1].id)),-1===this.registry.citationreg.citationsByItemId[f[1].id].indexOf(B[T])&&this.registry.citationreg.citationsByItemId[f[1].id].push(B[T]);this.opt.update_mode===g.POSITION&&(B[T].properties.noteIndex?d.push(B[T]):(B[T].properties.noteIndex=0,b.push(B[T])))}if(i!==g.ASSUME_ALL_ITEMS_REGISTERED&&(this.debug&&g.debug("****** start update items *********"),this.updateItems(U,null,null,!0),this.debug&&g.debug("****** endo update items *********")),!this.opt.citation_number_sort&&k&&k.length>1&&this.citation_sort.tokens.length>0){for(T=0,O=k.length;T<O;T+=1)k[T][1].sortkeys=g.getSortKeys.call(this,k[T][0],"citation_sort");if(this.opt.grouped_sort&&!e.properties.unsorted){for(T=0,O=k.length;T<O;T+=1){var F=k[T][1].sortkeys;this.tmp.authorstring_request=!0;var G=this.registry.registry[k[T][0].id].disambig;this.tmp.authorstring_request=!0,g.getAmbiguousCite.call(this,k[T][0],G);var z=this.registry.authorstrings[k[T][0].id];this.tmp.authorstring_request=!1,k[T][1].sortkeys=[z].concat(F)}k.sort(this.citation.srt.compareCompositeKeys);var q=!1,H=!1,V=!1;for(T=0,O=k.length;T<O;T+=1)k[T][1].sortkeys[0]!==q&&(V=k[T][1].sortkeys[0],H=k[T][1].sortkeys[1]),k[T][1].sortkeys[0]=""+H+T,q=V}e.properties.unsorted||k.sort(this.citation.srt.compareCompositeKeys)}if(this.opt.parallel.enable&&this.parallel.StartCitation(e.sortedItems),this.opt.update_mode===g.POSITION)for(T=0;T<2;T+=1){var Y={},$={},W={};for(L=[b,d][T],o=0,l=L.length;o<l;o+=1){var J=L[o];for(L[o].properties.noteIndex||(L[o].properties.noteIndex=0),L[o].properties.noteIndex=parseInt(L[o].properties.noteIndex,10),o>0&&J.properties.noteIndex&&L[o-1].properties.noteIndex>J.properties.noteIndex&&(y={},Y={},$={},W={}),u=0,c=J.sortedItems.length;u<c;u+=1)J.sortedItems[u][1].parallel&&"first"!==J.sortedItems[u][1].parallel||(y[J.properties.noteIndex]?y[J.properties.noteIndex]+=1:y[J.properties.noteIndex]=1);for(u=0,c=L[o].sortedItems.length;u<c;u+=1){f=L[o].sortedItems[u];var X,K,Z=f[0].id,Q=f[0].legislation_id?f[0].legislation_id:f[0].id,ee=f[0].legislation_id?f[0].legislation_id:f[0].container_id?f[0].container_id:f[0].id,te=f[1]["locator-extra"],re=f[1].locator,ie=f[1].label;if(u>0)if(J.sortedItems[u-1][0].legislation_id)X=J.sortedItems[u-1][0].legislation_id;else{X=J.sortedItems[u-1][1].id,K=J.sortedItems[u-1][1]["locator-extra"];for(var se=u-2;se>-1;se--)"first"===J.sortedItems[se][1].parallel&&(X=J.sortedItems[se][1].id,K=J.sortedItems[se][1]["locator-extra"])}if(i!==g.PREVIEW||J.citationID==e.citationID){var ne,ae,oe={};if(oe.position=f[1].position,oe["first-reference-note-number"]=f[1]["first-reference-note-number"],oe["first-container-reference-note-number"]=f[1]["first-container-reference-note-number"],oe["near-note"]=f[1]["near-note"],f[1]["first-reference-note-number"]=0,f[1]["first-container-reference-note-number"]=0,f[1]["near-note"]=!1,this.registry.citationreg.citationsByItemId[Z]&&"note"===this.opt.xclass&&this.opt.has_disambiguate){var le=this.registry.registry[f[0].id]["citation-count"],ue=this.registry.citationreg.citationsByItemId[Z].length;if(this.registry.registry[f[0].id]["citation-count"]=this.registry.citationreg.citationsByItemId[Z].length,"number"==typeof le){var ce=le<2,me=ue<2;if(ce!==me){se=0;for(var pe=this.registry.citationreg.citationsByItemId[Z].length;se<pe;se++)N[this.registry.registry[f[0].id].ambig]=!0,this.tmp.taintedCitationIDs[this.registry.citationreg.citationsByItemId[Z][se].citationID]=!0}}else for(se=0,pe=this.registry.citationreg.citationsByItemId[Z].length;se<pe;se++)N[this.registry.registry[f[0].id].ambig]=!0,this.tmp.taintedCitationIDs[this.registry.citationreg.citationsByItemId[Z][se].citationID]=!0}if(void 0===$[ee]&&"author-only"!==J.properties.mode)Y[Q]=J.properties.noteIndex,$[ee]=J.properties.noteIndex,W[ee]=J.properties.noteIndex,f[1].position=g.POSITION_FIRST;else{var he=!1,fe=!1,de=null;if(o>0)de=L[o-1];var ge,be,ye,ve,_e,xe=L[o];if(o>0){var Ee=1;"author-only"===de.properties.mode&&o>1&&(Ee=2);var Ae=o-Ee;L[Ae].sortedItems.length&&(ne=L[Ae].sortedItems.slice(-1)[0][1].id,ae=L[o-Ee].sortedItems.slice(-1)[0][1]["locator-extra"]),de.sortedItems.length&&de.sortedItems[0].slice(-1)[0].legislation_id&&(ne=de.sortedItems[0].slice(-1)[0].legislation_id)}if(o>0&&0===u&&de.properties.noteIndex!==xe.properties.noteIndex){var we=!1,Te=de.sortedItems[0][0].id;if(de.sortedItems[0][0].legislation_id&&(Te=de.sortedItems[0][0].legislation_id),Te==Q&&de.properties.noteIndex>=xe.properties.noteIndex-1){var Oe=de.sortedItems[0][1]["locator-extra"],Se=xe.sortedItems[0][1]["locator-extra"];1!==y[de.properties.noteIndex]&&0!==de.properties.noteIndex||Oe!==Se||(we=!0)}we?he=!0:fe=!0}else u>0&&X==Q&&K==te?he=!0:0===u&&o>0&&de.properties.noteIndex==xe.properties.noteIndex&&de.sortedItems.length&&ne==Q&&ae==te?he=!0:fe=!0;he&&(ge=u>0?J.sortedItems[u-1][1]:L[o-1].sortedItems[0][1],ge.locator?(ye=ge.label?ge.label:"",be=""+ge.locator+ye):be=ge.locator,re?(_e=ie||"",ve=""+re+_e):ve=re),he&&be&&!ve&&(he=!1,fe=!0),he&&(!be&&ve?f[1].position=g.POSITION_IBID_WITH_LOCATOR:be||ve?be&&ve===be?f[1].position=g.POSITION_IBID:be&&ve&&ve!==be?f[1].position=g.POSITION_IBID_WITH_LOCATOR:(he=!1,fe=!0):f[1].position=g.POSITION_IBID),fe&&(f[1].position=g.POSITION_CONTAINER_SUBSEQUENT,void 0===Y[Q]?Y[Q]=J.properties.noteIndex:f[1].position=g.POSITION_SUBSEQUENT),(fe||he)&&("author-only"===J.properties.mode&&(f[1].position=g.POSITION_FIRST),W[ee]!=J.properties.noteIndex&&(f[1]["first-container-reference-note-number"]=W[ee],this.registry.registry[f[0].id]&&(this.registry.registry[f[0].id]["first-container-reference-note-number"]=W[ee])),Y[Q]!=J.properties.noteIndex&&(f[1]["first-reference-note-number"]=Y[Q],this.registry.registry[f[0].id]&&(this.registry.registry[f[0].id]["first-reference-note-number"]=Y[Q])))}if(J.properties.noteIndex){var Ce=parseInt(J.properties.noteIndex,10)-parseInt($[ee],10);f[1].position!==g.POSITION_FIRST&&Ce<=this.citation.opt["near-note-distance"]&&(f[1]["near-note"]=!0),$[ee]=J.properties.noteIndex}else f[1].position!==g.POSITION_FIRST&&(f[1]["near-note"]=!0);if(J.citationID!=e.citationID)for(m=0,p=g.POSITION_TEST_VARS.length;m<p;m+=1){var ke=g.POSITION_TEST_VARS[m];f[1][ke]!==oe[ke]&&(this.registry.registry[f[0].id]&&"first-reference-note-number"===ke&&(N[this.registry.registry[f[0].id].ambig]=!0,this.tmp.taintedItemIDs[f[0].id]=!0),this.tmp.taintedCitationIDs[J.citationID]=!0)}this.sys.variableWrapper&&(f[1].index=J.properties.index,f[1].noteIndex=J.properties.noteIndex)}else void 0===Y[f[1].id]?(Y[Q]=J.properties.noteIndex,$[ee]=J.properties.noteIndex):$[ee]=J.properties.noteIndex}}}if(this.opt.citation_number_sort&&k&&k.length>1&&this.citation_sort.tokens.length>0&&!e.properties.unsorted){for(T=0,O=k.length;T<O;T+=1)k[T][1].sortkeys=g.getSortKeys.call(this,k[T][0],"citation_sort");k.sort(this.citation.srt.compareCompositeKeys)}for(var I in this.tmp.taintedItemIDs)if(this.tmp.taintedItemIDs.hasOwnProperty(I)&&(L=this.registry.citationreg.citationsByItemId[I],L))for(T=0,O=L.length;T<O;T+=1)this.tmp.taintedCitationIDs[L[T].citationID]=!0;var Ne=[];if(i===g.PREVIEW){this.debug&&g.debug("****** start run processor *********");try{Ne=this.process_CitationCluster.call(this,e.sortedItems,e)}catch(e){g.error("Error running CSL processor for preview: "+e)}this.debug&&(g.debug("****** end run processor *********"),g.debug("****** start state restore *********")),this.registry.citationreg.citationByIndex=v,this.registry.citationreg.citationById={};for(T=0,O=v.length;T<O;T+=1)this.registry.citationreg.citationById[v[T].citationID]=v[T];this.debug&&g.debug("****** start final update *********");var Ie=[];for(T=0,O=_.length;T<O;T+=1)Ie.push(""+_[T].id);for(var I in this.updateItems(Ie,null,null,!0),this.debug&&g.debug("****** end final update *********"),x)x.hasOwnProperty(I)&&(this.registry.registry[I].disambig=x[I]);this.debug&&g.debug("****** end state restore *********")}else{for(var Pe in N)this.disambiguate.run(Pe,e);var je;for(var I in this.tmp.taintedCitationIDs)if(I!=e.citationID){var Re=this.registry.citationreg.citationById[I];if(!Re.properties.unsorted){for(T=0,O=Re.sortedItems.length;T<O;T+=1)Re.sortedItems[T][1].sortkeys=g.getSortKeys.call(this,Re.sortedItems[T][0],"citation_sort");Re.sortedItems.sort(this.citation.srt.compareCompositeKeys)}this.tmp.citation_pos=Re.properties.index,
this.tmp.citation_note_index=Re.properties.noteIndex,this.tmp.citation_id=""+Re.citationID,je=[],je.push(Re.properties.index),je.push(this.process_CitationCluster.call(this,Re.sortedItems,Re)),je.push(Re.citationID),Ne.push(je)}this.tmp.taintedItemIDs={},this.tmp.taintedCitationIDs={},this.tmp.citation_pos=e.properties.index,this.tmp.citation_note_index=e.properties.noteIndex,this.tmp.citation_id=""+e.citationID,je=[],je.push(t.length),je.push(this.process_CitationCluster.call(this,k,e)),je.push(e.citationID),Ne.push(je),Ne.sort(function(e,t){return e[0]>t[0]?1:e[0]<t[0]?-1:0})}return this.registry.return_data.citation_errors=this.tmp.citation_errors.slice(),[this.registry.return_data,Ne]},g.Engine.prototype.process_CitationCluster=function(e,t){var r="";if(t&&t.properties&&"composite"===t.properties.mode){t.properties.mode="author-only";var i=g.getCitationCluster.call(this,e,t);t.properties.mode="suppress-author";var s="";t.properties.infix&&(this.output.append(t.properties.infix),s=this.output.string(this,this.output.queue),"object"==typeof s&&(s=s.join("")));var n=g.getCitationCluster.call(this,e,t);t.properties.mode="composite",i&&s&&g.SWAPPING_PUNCTUATION.concat(["","'"]).indexOf(s[0])>-1&&(i+=s,s=!1),r=[i,s,n].filter(function(e){return e}).join(" ")}else r=g.getCitationCluster.call(this,e,t);return r},g.Engine.prototype.makeCitationCluster=function(e){var t,r,i,s,n,a;for(t=[],s=e.length,i=0;i<s;i+=1){for(var o in n={},e[i])n[o]=e[i][o];if(a=this.retrieveItem(""+n.id),this.opt.development_extensions.locator_label_parse&&n.locator&&-1===["bill","gazette","legislation","regulation","treaty"].indexOf(a.type)&&(!n.label||"page"===n.label)){var l=g.LOCATOR_LABELS_REGEXP.exec(n.locator);if(l){var u=g.LOCATOR_LABELS_MAP[l[2]];this.getTerm(u)&&(n.label=u,n.locator=l[3])}}n.locator&&(n.locator=(""+n.locator).replace(/\s+$/,"")),r=[a,n],t.push(r)}if(this.opt.development_extensions.consolidate_legal_items&&this.remapSectionVariable(t),t&&t.length>1&&this.citation_sort.tokens.length>0){for(s=t.length,i=0;i<s;i+=1)t[i][1].sortkeys=g.getSortKeys.call(this,t[i][0],"citation_sort");t.sort(this.citation.srt.compareCompositeKeys)}this.tmp.citation_errors=[];var c=g.getCitationCluster.call(this,t);return c},g.getAmbiguousCite=function(e,t,r,i){var s=this.tmp.group_context.tip,n={term_intended:s.term_intended,variable_attempt:s.variable_attempt,variable_success:s.variable_success,output_tip:s.output_tip,label_form:s.label_form,non_parallel:s.non_parallel,parallel_last:s.parallel_last,parallel_first:s.parallel_first,parallel_last_override:s.parallel_last_override,parallel_delimiter_override:s.parallel_delimiter_override,parallel_delimiter_override_on_suppress:s.parallel_delimiter_override_on_suppress,condition:s.condition,force_suppress:s.force_suppress,done_vars:s.done_vars.slice()};this.tmp.disambig_request=t||!1;var a={position:g.POSITION_SUBSEQUENT,"near-note":!0};i&&(a.locator=i.locator,a.label=i.label),this.registry.registry[e.id]&&this.registry.citationreg.citationsByItemId&&this.registry.citationreg.citationsByItemId[e.id]&&this.registry.citationreg.citationsByItemId[e.id].length&&r&&"by-cite"===this.citation.opt["givenname-disambiguation-rule"]&&(a["first-reference-note-number"]=this.registry.registry[e.id]["first-reference-note-number"]),this.tmp.area="citation",this.tmp.root="citation";var o=this.tmp.suppress_decorations;this.tmp.suppress_decorations=!0,this.tmp.just_looking=!0,g.getCite.call(this,e,a,null,!1);for(var l=0,u=this.output.queue.length;l<u;l+=1)g.Output.Queue.purgeEmptyBlobs(this.output.queue[l]);if(this.opt.development_extensions.clean_up_csl_flaws)for(var c=0,m=this.output.queue.length;c<m;c+=1)this.output.adjust.upward(this.output.queue[c]),this.output.adjust.leftward(this.output.queue[c]),this.output.adjust.downward(this.output.queue[c]),this.output.adjust.fix(this.output.queue[c]);var p=this.output.string(this,this.output.queue);return this.tmp.just_looking=!1,this.tmp.suppress_decorations=o,this.tmp.group_context.replace(n),p},g.getSpliceDelimiter=function(e,t,r){if(void 0!==this.citation.opt["after-collapse-delimiter"])e?this.tmp.splice_delimiter=this.citation.opt["after-collapse-delimiter"]:t&&!this.tmp.have_collapsed?this.tmp.splice_delimiter=this.citation.opt["after-collapse-delimiter"]:t||this.tmp.have_collapsed||"year-suffix"===this.citation.opt.collapse?this.tmp.splice_delimiter=this.citation.opt.layout_delimiter:this.tmp.splice_delimiter=this.citation.opt["after-collapse-delimiter"];else if(this.tmp.use_cite_group_delimiter)this.tmp.splice_delimiter=this.citation.opt.cite_group_delimiter;else if(this.tmp.have_collapsed&&"in-text"===this.opt.xclass&&this.opt.update_mode!==g.NUMERIC)this.tmp.splice_delimiter=", ";else if(this.tmp.cite_locales[r-1]){var i=this.tmp.cite_affixes[this.tmp.area][this.tmp.cite_locales[r-1]];i&&i.delimiter&&(this.tmp.splice_delimiter=i.delimiter)}else this.tmp.splice_delimiter||(this.tmp.splice_delimiter="");return this.tmp.splice_delimiter},g.getCitationCluster=function(e,t){var r,i,s,n,a,o,l,u,c,m,p,h,f,d,b,y,v,_,x,E,A,w="";this.output.checkNestedBrace=new g.checkNestedBrace(this),t&&(x=t.citationID,E="author-only"===t.properties.mode&&!!t.properties.mode,"note"!==this.opt.xclass&&(A="suppress-author"===t.properties.mode&&!!t.properties.mode),t.properties.prefix&&(w=g.checkPrefixSpaceAppend(this,t.properties.prefix))),e=e||[],this.tmp.last_primary_names_string=!1,v=g.getSafeEscape(this),this.tmp.area="citation",this.tmp.root="citation",r="",i=[],this.tmp.last_suffix_used="",this.tmp.last_names_used=[],this.tmp.last_years_used=[],this.tmp.backref_index=[],this.tmp.cite_locales=[],this.tmp.just_looking||(this.tmp.abbrev_trimmer={QUASHES:{}});var T=this.output.checkNestedBrace.update(this.citation.opt.layout_prefix+w),O=!1;if(this.citation.opt.suppressTrailingPunctuation&&(O=!0),x&&this.registry.citationreg.citationById[x].properties["suppress-trailing-punctuation"]&&(O=!0),"note"===this.opt.xclass){for(var S=[],C=!1,k=!1,N=[],I=0,P=e.length;I<P;I+=1){var j=e[I][0].type,R=e[I][0].title,D=e[I][1].position,B=e[I][0].id;R&&"legal_case"===j&&B!==k&&D&&(R===C&&0!==S.length||(N=[],S.push(N)),N.push(e[I][1])),C=R,D,k=B}for(I=0,P=S.length;I<P;I+=1)if(N=S[I],!(N.length<2)){var M=N.slice(-1)[0].locator;if(M)for(var L=0,U=N.length-1;L<U;L+=1)N[L].locator&&(M=!1);M&&(N[0].locator=M,delete N.slice(-1)[0].locator,N[0].label=N.slice(-1)[0].label,N.slice(-1)[0].label&&delete N.slice(-1)[0].label)}}for(s=[],n=e.length,e[0]&&e[0][1]&&(E?(delete e[0][1]["suppress-author"],e[0][1]["author-only"]=!0):A&&(delete e[0][1]["author-only"],e[0][1]["suppress-author"]=!0)),this.opt.parallel.enable&&this.parallel.StartCitation(e),a=0;a<n;a+=1){this.tmp.cite_index=a,h=e[a][0],o=e[a][1],o=g.parseLocator.call(this,o),l=this.tmp.have_collapsed;var F=!1;if(a>0&&e[a-1][1]&&(F=!!e[a-1][1].locator),u={},this.tmp.shadow_numbers={},!this.tmp.just_looking&&this.opt.hasPlaceholderTerm){var G=this.output;this.output=new g.Output.Queue(this),this.output.adjust=new g.Output.Queue.adjust,g.getAmbiguousCite.call(this,h,null,!1,o),this.output=G}if(this.tmp.in_cite_predecessor=!1,a>0?g.getCite.call(this,h,o,""+e[a-1][0].id,!0):(this.tmp.term_predecessor=!1,g.getCite.call(this,h,o,null,!0)),this.tmp.cite_renders_content||(_={citationID:""+this.tmp.citation_id,index:this.tmp.citation_pos,noteIndex:this.tmp.citation_note_index,itemID:""+h.id,citationItems_pos:a,error_code:g.ERROR_NO_RENDERED_FORM},this.tmp.citation_errors.push(_)),u.splice_delimiter=g.getSpliceDelimiter.call(this,F,l,a),o&&o["author-only"]&&(this.tmp.suppress_decorations=!0),a>0){y=e[a-1][1];var z=y.suffix&&[";",".",","].indexOf(y.suffix.slice(-1))>-1,q=!y.suffix&&o.prefix&&[";",".",","].indexOf(o.prefix.slice(0,1))>-1;if(z||q){var H=u.splice_delimiter.indexOf(" ");u.splice_delimiter=H>-1&&!q?u.splice_delimiter.slice(H):""}}if(u.suppress_decorations=this.tmp.suppress_decorations,u.have_collapsed=this.tmp.have_collapsed,s.push(u),o["author-only"])break}p=this.output.queue.slice();var V="";t&&(V=g.checkSuffixSpacePrepend(this,t.properties.suffix));var Y=this.citation.opt.layout_suffix,$=this.tmp.cite_locales[this.tmp.cite_locales.length-1];$&&this.tmp.cite_affixes[this.tmp.area][$]&&this.tmp.cite_affixes[this.tmp.area][$].suffix&&(Y=this.tmp.cite_affixes[this.tmp.area][$].suffix),g.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(Y.slice(0,1))>-1&&(Y=Y.slice(0,1)),Y=this.output.checkNestedBrace.update(V+Y);for(I=0,P=this.output.queue.length;I<P;I+=1)g.Output.Queue.purgeEmptyBlobs(this.output.queue[I]);if(!this.tmp.suppress_decorations&&this.output.queue.length&&(this.opt.development_extensions.apply_citation_wrapper&&this.sys.wrapCitationEntry&&!this.tmp.just_looking&&"citation"===this.tmp.area||(O||(this.output.queue[this.output.queue.length-1].strings.suffix=Y),this.output.queue[0].strings.prefix=T)),this.opt.development_extensions.clean_up_csl_flaws)for(L=0,U=this.output.queue.length;L<U;L+=1)this.output.adjust.upward(this.output.queue[L]),this.output.adjust.leftward(this.output.queue[L]),this.output.adjust.downward(this.output.queue[L]),this.tmp.last_chr=this.output.adjust.fix(this.output.queue[L]);for(a=0,n=p.length;a<n;a+=1){var W=[];if(this.output.queue=[p[a]],this.tmp.suppress_decorations=s[a].suppress_decorations,this.tmp.splice_delimiter=s[a].splice_delimiter,p[a].parallel_delimiter&&(this.tmp.splice_delimiter=p[a].parallel_delimiter),this.tmp.have_collapsed=s[a].have_collapsed,c=this.output.string(this,this.output.queue),this.tmp.suppress_decorations=!1,"string"==typeof c)return this.tmp.suppress_decorations=!1,c||(this.opt.development_extensions.throw_on_empty?g.error("Citation would render no content"):c="[NO_PRINTED_FORM]"),c;if("object"==typeof c&&0===c.length&&!o["suppress-author"])if(0===a){var J="[CSL STYLE ERROR: reference with no printed form.]",X=0===a?v(this.citation.opt.layout_prefix):"",K=a===p.length-1?v(this.citation.opt.layout_suffix):"";c.push(X+J+K)}else if(a===p.length-1){var Z=i[i.length-1];"string"==typeof Z?i[i.length-1]+=v(this.citation.opt.layout_suffix):"object"==typeof Z&&(Z.strings.suffix+=v(this.citation.opt.layout_suffix))}if(W.length&&"string"==typeof c[0]){c.reverse();var Q=c.pop();Q&&","===Q.slice(0,1)?W.push(Q):"string"==typeof W.slice(-1)[0]&&","===W.slice(-1)[0].slice(-1)?W.push(" "+Q):Q&&W.push(v(this.tmp.splice_delimiter)+Q)}else c.reverse(),m=c.pop(),void 0!==m&&(W.length&&"string"==typeof W[W.length-1]&&(W[W.length-1]+=m.successor_prefix),W.push(m));for(f=c.length,d=0;d<f;d+=1)b=c[d],"string"!=typeof b?(m=c.pop(),void 0!==m&&W.push(m)):W.push(v(this.tmp.splice_delimiter)+b);0!==W.length||e[a][1]["suppress-author"]||1,W.length>1&&"string"!=typeof W[0]&&(W=[this.output.renderBlobs(W)]),W.length&&("string"==typeof W[0]?a>0&&(W[0]=v(this.tmp.splice_delimiter)+W[0]):W[0].splice_prefix=a>0?this.tmp.splice_delimiter:""),i=i.concat(W)}if(r+=this.output.renderBlobs(i),r&&!this.tmp.suppress_decorations)for(n=this.citation.opt.layout_decorations.length,a=0;a<n;a+=1)u=this.citation.opt.layout_decorations[a],"normal"!==u[1]&&(o&&o["author-only"]||(r=this.fun.decorate[u[0]][u[1]](this,r)));return this.tmp.suppress_decorations=!1,r||(this.opt.development_extensions.throw_on_empty?g.error("Citation would render no content"):r="[NO_PRINTED_FORM]"),r},g.getCite=function(e,t,r,i){var s,n,a=this.tmp.area;for(t&&t["author-only"]&&this.intext&&this.intext.tokens.length>0&&(this.tmp.area="intext"),this.tmp.cite_renders_content=!1,this.tmp.probably_rendered_something=!1,this.tmp.prevItemID=r,g.citeStart.call(this,e,t,i),s=0,this.tmp.name_node={},this.nameOutput=new g.NameOutput(this,e,t);s<this[this.tmp.area].tokens.length;)s=g.tokenExec.call(this,this[this.tmp.area].tokens[s],e,t);return g.citeEnd.call(this,e,t),this.tmp.cite_renders_content||this.tmp.just_looking||"bibliography"===this.tmp.area&&(n={index:this.tmp.bibliography_pos,itemID:""+e.id,error_code:g.ERROR_NO_RENDERED_FORM},this.tmp.bibliography_errors.push(n)),this.tmp.area=a,""+e.id},g.citeStart=function(e,t,r){if(this.tmp.lang_array=[],e.language){var i=e.language.match(/^([a-zA-Z]+).*/);i&&this.tmp.lang_array.push(i[1].toLowerCase())}if(this.tmp.lang_array.push(this.opt.lang),r||(this.tmp.shadow_numbers={}),this.tmp.disambiguate_count=0,this.tmp.disambiguate_maxMax=0,this.tmp.same_author_as_previous_cite=!1,this.tmp.suppress_decorations?this.tmp.subsequent_author_substitute_ok=!1:this.tmp.subsequent_author_substitute_ok=!0,this.tmp.lastchr="","citation"===this.tmp.area&&this.citation.opt.collapse&&this.citation.opt.collapse.length?this.tmp.have_collapsed=!0:this.tmp.have_collapsed=!1,this.tmp.render_seen=!1,this.tmp.disambig_request&&!this.tmp.disambig_override?this.tmp.disambig_settings=this.tmp.disambig_request:this.registry.registry[e.id]&&!this.tmp.disambig_override?(this.tmp.disambig_request=this.registry.registry[e.id].disambig,this.tmp.disambig_settings=this.registry.registry[e.id].disambig):this.tmp.disambig_settings=new g.AmbigConfig,"citation"!==this.tmp.area)if(this.registry.registry[e.id]){if(this.tmp.disambig_restore=g.cloneAmbigConfig(this.registry.registry[e.id].disambig),"bibliography"===this.tmp.area&&this.tmp.disambig_settings&&this.tmp.disambig_override&&(this.opt["disambiguate-add-names"]&&(this.tmp.disambig_settings.names=this.registry.registry[e.id].disambig.names.slice(),this.tmp.disambig_request&&(this.tmp.disambig_request.names=this.registry.registry[e.id].disambig.names.slice())),this.opt["disambiguate-add-givenname"])){this.tmp.disambig_request=this.tmp.disambig_settings,this.tmp.disambig_settings.givens=this.registry.registry[e.id].disambig.givens.slice(),this.tmp.disambig_request.givens=this.registry.registry[e.id].disambig.givens.slice();for(var s=0,n=this.tmp.disambig_settings.givens.length;s<n;s+=1)this.tmp.disambig_settings.givens[s]=this.registry.registry[e.id].disambig.givens[s].slice();for(s=0,n=this.tmp.disambig_request.givens.length;s<n;s+=1)this.tmp.disambig_request.givens[s]=this.registry.registry[e.id].disambig.givens[s].slice()}}else this.tmp.disambig_restore=new g.AmbigConfig;this.tmp.names_used=[],this.tmp.nameset_counter=0,this.tmp.years_used=[],this.tmp.names_max.clear(),this.tmp.just_looking||t&&"first"!==t.parallel&&t.parallel||(this.tmp.abbrev_trimmer={QUASHES:{}}),this.tmp.splice_delimiter=this[this.tmp.area].opt.layout_delimiter,this.bibliography_sort.keys=[],this.citation_sort.keys=[],this.tmp.has_done_year_suffix=!1,this.tmp.last_cite_locale=!1,!this.tmp.just_looking&&t&&!t.position&&this.registry.registry[e.id]&&(this.tmp.disambig_restore=g.cloneAmbigConfig(this.registry.registry[e.id].disambig)),this.tmp.first_name_string=!1,this.tmp.authority_stop_last=0},g.citeEnd=function(e,t){if(this.tmp.disambig_restore&&this.registry.registry[e.id]){this.registry.registry[e.id].disambig.names=this.tmp.disambig_restore.names.slice(),this.registry.registry[e.id].disambig.givens=this.tmp.disambig_restore.givens.slice();for(var r=0,i=this.registry.registry[e.id].disambig.givens.length;r<i;r+=1)this.registry.registry[e.id].disambig.givens[r]=this.tmp.disambig_restore.givens[r].slice()}if(this.tmp.disambig_restore=!1,t&&t.suffix?this.tmp.last_suffix_used=t.suffix:this.tmp.last_suffix_used="",this.tmp.last_years_used=this.tmp.years_used.slice(),this.tmp.last_names_used=this.tmp.names_used.slice(),this.tmp.cut_var=!1,this.tmp.disambig_request=!1,this.tmp.cite_locales.push(this.tmp.last_cite_locale),this.tmp.issued_date&&this.tmp.renders_collection_number){var s=[];for(r=this.tmp.issued_date.list.length-1;r>this.tmp.issued_date.pos;r+=-1)s.push(this.tmp.issued_date.list.pop());for(this.tmp.issued_date.list.pop(),r=s.length-1;r>-1;r+=-1)this.tmp.issued_date.list.push(s.pop())}this.tmp.issued_date=!1,this.tmp.renders_collection_number=!1},g.Engine.prototype.makeBibliography=function(e){var t,r,i,s,n,a,o,l,u;if(t=!1,!e&&(this.bibliography.opt.exclude_types||this.bibliography.opt.exclude_with_fields)){if(e={exclude:[]},this.bibliography.opt.exclude_types)for(var c in this.bibliography.opt.exclude_types){var m=this.bibliography.opt.exclude_types[c];e.exclude.push({field:"type",value:m})}if(this.bibliography.opt.exclude_with_fields)for(var c in this.bibliography.opt.exclude_with_fields){var p=this.bibliography.opt.exclude_with_fields[c];e.exclude.push({field:p,value:!0})}}if(!this.bibliography.tokens.length)return!1;if("string"==typeof e&&(this.opt.citation_number_slug=e,e=!1),t){for(n=this.bibliography.tokens.length,a=0;a<n;a+=1)o=this.bibliography.tokens[a],g.debug("bibtok: "+o.name);for(g.debug("---"),n=this.citation.tokens.length,a=0;a<n;a+=1)this.citation.tokens[a],g.debug("cittok: "+o.name);for(g.debug("---"),n=this.bibliography_sort.tokens.length,a=0;a<n;a+=1)this.bibliography_sort.tokens[a],g.debug("bibsorttok: "+o.name)}r=g.getBibliographyEntries.call(this,e),l=r[0],u=r[1];var h=r[2];for(i={maxoffset:0,entryspacing:this.bibliography.opt["entry-spacing"],linespacing:this.bibliography.opt["line-spacing"],"second-field-align":!1,entry_ids:l,bibliography_errors:this.tmp.bibliography_errors.slice(),done:h},this.bibliography.opt["second-field-align"]&&(i["second-field-align"]=this.bibliography.opt["second-field-align"]),0,n=this.registry.reflist.length,a=0;a<n;a+=1)s=this.registry.reflist[a],s.offset>i.maxoffset&&(i.maxoffset=s.offset);return this.bibliography.opt.hangingindent&&(i.hangingindent=this.bibliography.opt.hangingindent),i.bibstart=this.fun.decorate.bibstart,i.bibend=this.fun.decorate.bibend,this.opt.citation_number_slug=!1,[i,u]},g.getBibliographyEntries=function(e){function t(e,t){return e===t}function r(e,r){for(h=r.length,f=0;f<h;f+=1)if(t(e,r[f]))return!0;return!1}function i(e,i){return"boolean"!=typeof e&&e?"string"==typeof i?t(e,i):!!i&&r(e,i):e?!!i:!i}var s,n,a,o,l,u,c,m,p,h,f,d,b,y,v,_,x,E,A,w,T;if(s=[],w=[],this.tmp.area="bibliography",this.tmp.root="bibliography",this.tmp.last_rendered_name=!1,this.tmp.bibliography_errors=[],this.tmp.bibliography_pos=0,n=e&&e.page_start&&e.page_length?this.registry.getSortedIds():this.refetchItems(this.registry.getSortedIds()),this.tmp.disambig_override=!0,E={},e&&e.page_start&&e.page_length&&(T=0,!0!==e.page_start))for(v=0,_=n.length;v<_&&(E[n[v]]=!0,e.page_start!=n[v]);v+=1);var O=[],S={};for(this.tmp.container_item_count={},n=n.filter(e=>{var t=e;return e.legislation_id?S[e.legislation_id]?t=!1:S[e.legislation_id]=!0:e.container_id&&(this.tmp.container_item_count[e.container_id]||(this.tmp.container_item_count[e.container_id]=0),this.tmp.container_item_count[e.container_id]++,this.bibliography.opt.consolidate_containers.indexOf(e.type)>-1&&(S[e.container_id]?t=!1:S[e.container_id]=!0)),t}),this.tmp.container_item_pos={},v=0,_=n.length;v<_;v+=1){if(e&&e.page_start&&e.page_length){if(E[n[v]])continue;if(m=this.refetchItem(n[v]),T===e.page_length)break}else if(m=n[v],E[m.id])continue;if(e){if(a=!0,e.include){for(a=!1,C=0,k=e.include.length;C<k;C+=1)if(p=e.include[C],i(p.value,m[p.field])){a=!0;break}}else if(e.exclude){for(o=!1,C=0,k=e.exclude.length;C<k;C+=1)if(p=e.exclude[C],i(p.value,m[p.field])){o=!0;break}o&&(a=!1)}else if(e.select){for(a=!1,l=!0,C=0,k=e.select.length;C<k;C+=1)p=e.select[C],i(p.value,m[p.field])||(l=!1);l&&(a=!0)}if(e.quash){for(l=!0,C=0,k=e.quash.length;C<k;C+=1)p=e.quash[C],i(p.value,m[p.field])||(l=!1);l&&(a=!1)}if(!a)continue}if(y&&g.debug("BIB: "+m.id),m.container_id&&(this.tmp.container_item_pos[m.container_id]||(this.tmp.container_item_pos[m.container_id]=0),this.tmp.container_item_pos[m.container_id]++),u=new g.Token("group",g.START),u.decorations=[["@bibliography","entry"]].concat(this.bibliography.opt.layout_decorations),this.output.startTag("bib_entry",u),m.system_id&&this.sys.embedBibliographyEntry?this.output.current.value().item_id=m.system_id:this.output.current.value().system_id=m.id,b=[],!this.registry.registry[m.id].master||e&&e.page_start&&e.page_length)this.registry.registry[m.id].siblings||(this.tmp.term_predecessor=!1,this.tmp.cite_index=0,b.push(""+g.getCite.call(this,m)),e&&e.page_start&&e.page_length&&(T+=1));else{A=[[m,{id:m.id}]],x=this.registry.registry[m.id].siblings;for(var C=0,k=x.length;C<k;C++)A.push([this.refetchItem(x[C]),{id:x[C]}]);for(this.parallel.StartCitation(A),this.registry.registry[m.id].parallel_delimiter_override?this.output.queue[0].strings.delimiter=this.registry.registry[m.id].parallel_delimiter_override:this.output.queue[0].strings.delimiter=", ",this.tmp.term_predecessor=!1,this.tmp.cite_index=0,C=0,k=A.length;C<k;C+=1)C<A.length-1?this.tmp.parallel_and_not_last=!0:delete this.tmp.parallel_and_not_last,b.push(""+g.getCite.call(this,A[C][0],A[C][1])),this.tmp.cite_index++,E[A[C][0].id]=!0}for(w.push(""),this.tmp.bibliography_pos+=1,O.push(b),this.output.endTag("bib_entry"),this.output.queue[0].blobs.length&&this.output.queue[0].blobs[0].blobs.length&&(d=this.output.queue[0].blobs[0].blobs[0].strings?this.output.queue[0].blobs[0].blobs:this.output.queue[0].blobs,d[0].strings.prefix=this.bibliography.opt.layout_prefix+d[0].strings.prefix),C=0,k=this.output.queue.length;C<k;C+=1)g.Output.Queue.purgeEmptyBlobs(this.output.queue[C]);for(C=0,k=this.output.queue.length;C<k;C+=1)this.output.adjust.upward(this.output.queue[C]),this.output.adjust.leftward(this.output.queue[C]),this.output.adjust.downward(this.output.queue[C],!0),this.output.adjust.fix(this.output.queue[C]);if(c=this.output.string(this,this.output.queue)[0],!c&&this.opt.update_mode===g.NUMERIC){var N=s.length+1+". [CSL STYLE ERROR: reference with no printed form.]";c=g.Output.Formats[this.opt.mode]["@bibliography/entry"](this,N)}c&&s.push(c)}var I=!1;if(e&&e.page_start&&e.page_length){var P=n.slice(-1)[0],j=O.slice(-1)[0];P&&j&&P!=j||(I=!0)}return this.tmp.disambig_override=!1,[O,s,I]},g.Engine.prototype.setCitationId=function(e,t){var r,i,s;if(r=!1,!e.citationID||t){for(i=Math.floor(1e14*Math.random());;){if(s=0,!this.registry.citationreg.citationById[i]){e.citationID="a"+i.toString(32);break}s=!s&&i<5e13?1:-1,i+=1===s?1:-1}r=""+i}return this.registry.citationreg.citationById[e.citationID]=e,r},g.Engine.prototype.rebuildProcessorState=function(e,t,r){e||(e=[]),t||(t="html");for(var i={},s=[],n=0,a=e.length;n<a;n+=1)for(var o=0,l=e[n].citationItems.length;o<l;o+=1){var u=""+e[n].citationItems[o].id;i[u]||s.push(u),i[u]=!0}this.updateItems(s);var c=[],m=[],p=[],h=this.opt.mode;this.setOutputFormat(t);for(n=0,a=e.length;n<a;n+=1){var f=this.processCitationCluster(e[n],c,m,g.ASSUME_ALL_ITEMS_REGISTERED);c.push([e[n].citationID,e[n].properties.noteIndex]);for(o=0,l=f[1].length;o<l;o+=1){var d=f[1][o][0];p[d]=[c[d][0],c[d][1],f[1][o][1]]}}return this.updateUncitedItems(r),this.setOutputFormat(h),p},g.Engine.prototype.restoreProcessorState=function(e){var t,r,i,s,n,a,o,l,u,c;l=[],u=[],e||(e=[]);var m=[],p={};for(t=0,r=e.length;t<r;t+=1)p[e[t].citationID]&&this.setCitationId(e[t],!0),p[e[t].citationID]=!0,m.push(e[t].properties.index);var h=e.slice();for(h.sort(function(e,t){return e.properties.index<t.properties.index?-1:e.properties.index>t.properties.index?1:0}),t=0,r=h.length;t<r;t+=1)h[t].properties.index=t;for(t=0,r=h.length;t<r;t+=1){for(c=[],i=0,s=h[t].citationItems.length;i<s;i+=1)n=h[t].citationItems[i],void 0===n.sortkeys&&(n.sortkeys=[]),a=this.retrieveItem(""+n.id),o=[a,n],c.push(o),h[t].citationItems[i].item=a,u.push(""+n.id);h[t].properties.unsorted||c.sort(this.citation.srt.compareCompositeKeys),h[t].sortedItems=c,this.registry.citationreg.citationById[h[t].citationID]=h[t]}for(this.updateItems(u),t=0,r=e.length;t<r;t+=1)l.push([""+e[t].citationID,e[t].properties.noteIndex]);var f=[];return e&&e.length?f=this.processCitationCluster(e[0],[],l.slice(1)):(this.registry=new g.Registry(this),this.tmp=new g.Engine.Tmp,this.disambiguate=new g.Disambiguation(this)),f},g.Engine.prototype.updateItems=function(e,t,r,i){var s=!1,n=this.tmp.area,a=this.tmp.root,o=this.tmp.extension;if(0===this.bibliography_sort.tokens.length&&(t=!0),this.tmp.area="citation",this.tmp.root="citation",this.tmp.extension="",i||(this.tmp.loadedItemIDs={}),s&&g.debug("--> init <--"),this.registry.init(e),r)for(var l in this.registry.ambigcites)this.registry.ambigsTouched[l]=!0;return this.registry.dodeletes(this.registry.myhash),this.registry.doinserts(this.registry.mylist),this.registry.dorefreshes(),this.registry.rebuildlist(t),this.registry.setsortkeys(),this.registry.setdisambigs(),this.registry.sorttokens(t),this.registry.renumber(),this.tmp.extension=o,this.tmp.area=n,this.tmp.root=a,this.registry.getSortedIds()},g.Engine.prototype.updateUncitedItems=function(e,t){var r,i=this.tmp.area,s=this.tmp.root,n=this.tmp.extension;if(0===this.bibliography_sort.tokens.length&&(t=!0),this.tmp.area="citation",this.tmp.root="citation",this.tmp.extension="",this.tmp.loadedItemIDs={},e||(e=[]),"object"==typeof e)if(void 0===e.length)for(var a in r=e,e=[],r)e.push(a);else if("number"==typeof e.length){r={};for(var o=0,l=e.length;o<l;o+=1)r[e[o]]=!0}return this.registry.init(e,!0),this.registry.dopurge(r),this.registry.doinserts(this.registry.mylist),this.registry.dorefreshes(),this.registry.rebuildlist(t),this.registry.setsortkeys(),this.registry.setdisambigs(),this.registry.sorttokens(t),this.registry.renumber(),this.tmp.extension=n,this.tmp.area=i,this.tmp.root=s,this.registry.getSortedIds()},g.localeResolve=function(e,t){var r,i;return t||(t="en-US"),e||(e=t),r={},i=e.split(/[\-_]/),r.base=g.LANG_BASES[i[0]],void 0===r.base?{base:t,best:e,bare:i[0]}:(1===i.length&&(r.generic=!0),1===i.length||"x"===i[1]?r.best=r.base.replace("_","-"):r.best=i.slice(0,2).join("-"),r.base=r.base.replace("_","-"),r.bare=i[0],r)},g.Engine.prototype.localeConfigure=function(e,t){var r;if((!t||!this.locale[e.best])&&("en-US"===e.best?(r=g.setupXml(this.sys.retrieveLocale("en-US")),this.localeSet(r,"en-US",e.best)):"en-US"!==e.best&&(e.base!==e.best&&(r=g.setupXml(this.sys.retrieveLocale(e.base)),this.localeSet(r,e.base,e.best)),r=g.setupXml(this.sys.retrieveLocale(e.best)),this.localeSet(r,e.best,e.best)),this.localeSet(this.cslXml,"",e.best),this.localeSet(this.cslXml,e.bare,e.best),e.base!==e.best&&this.localeSet(this.cslXml,e.base,e.best),this.localeSet(this.cslXml,e.best,e.best),void 0===this.locale[e.best].terms["page-range-delimiter"]&&(["fr","pt"].indexOf(e.best.slice(0,2).toLowerCase())>-1?this.locale[e.best].terms["page-range-delimiter"]="-":this.locale[e.best].terms["page-range-delimiter"]=""),void 0===this.locale[e.best].terms["year-range-delimiter"]&&(this.locale[e.best].terms["year-range-delimiter"]=""),void 0===this.locale[e.best].terms["citation-range-delimiter"]&&(this.locale[e.best].terms["citation-range-delimiter"]=""),this.opt.development_extensions.normalize_lang_keys_to_lowercase)){for(var i=["default-locale","locale-sort","locale-translit","locale-translat"],s=0,n=i.length;s<n;s+=1)for(var a=0,o=this.opt[i[s]].length;a<o;a+=1)this.opt[i[s]][a]=this.opt[i[s]][a].toLowerCase();this.opt.lang=this.opt.lang.toLowerCase()}},g.Engine.prototype.localeSet=function(e,t,r){var i,s,n,a,o,l,u,c,m,p,h,f;if(t=t.replace("_","-"),r=r.replace("_","-"),this.opt.development_extensions.normalize_lang_keys_to_lowercase&&(t=t.toLowerCase(),r=r.toLowerCase()),this.locale[r]||(this.locale[r]={},this.locale[r].terms={},this.locale[r].opts={},this.locale[r].opts["skip-words"]=g.SKIP_WORDS,this.locale[r].opts["leading-noise-words"]||(this.locale[r].opts["leading-noise-words"]=[]),this.locale[r].dates={},this.locale[r].ord={"1.0.1":!1,keys:{}},this.locale[r]["noun-genders"]={}),s=e.makeXml(),e.nodeNameIs(e.dataObj,"locale"))s=e.dataObj;else{n=e.getNodesByName(e.dataObj,"locale");var d=!1;for(o=0,h=e.numberofnodes(n);o<h;o+=1)if(i=n[o],d||e.getAttributeValue(i,"lang","xml")!==t){var b=e.getAttributeValue(i,"lang","xml"),y=e.getNodesByName(i,"style-options");if(b&&y&&y.length){var v=e.getAttributeValue(y[0],"jurisdiction-preference");v&&(this.locale[b]||(this.locale[b]={opts:{}}),this.locale[b].opts["jurisdiction-preference"]=v.split(/\s+/))}}else s=i,d=!0}for(n=e.getNodesByName(s,"type"),U=0,F=e.numberofnodes(n);U<F;U+=1){var _=n[U],x=e.getAttributeValue(_,"name"),E=e.getAttributeValue(_,"gender");this.opt.gender[x]=E}var A=e.getNodesByName(s,"term","ordinal").length;if(A){for(var w in this.locale[r].ord.keys)delete this.locale[r].terms[w];this.locale[r].ord={"1.0.1":!1,keys:{}}}n=e.getNodesByName(s,"term");var T={"last-digit":{},"last-two-digits":{},"whole-number":{}},O=!1,S={};for(o=0,h=e.numberofnodes(n);o<h;o+=1){if(l=n[o],c=e.getAttributeValue(l,"name"),"sub verbo"===c&&(c="sub-verbo"),"ordinal"===c.slice(0,7)){if("ordinal"===c)O=!0;else{var C=e.getAttributeValue(l,"match"),k=c.slice(8),N=e.getAttributeValue(l,"gender-form");N||(N="neuter"),C||(C="last-two-digits","0"===k.slice(0,1)&&(C="last-digit")),"0"===k.slice(0,1)&&(k=k.slice(1)),T[C][k]||(T[C][k]={}),T[C][k][N]=c}this.locale[r].ord.keys[c]=!0}void 0===this.locale[r].terms[c]&&(this.locale[r].terms[c]={}),u="long",N=!1,e.getAttributeValue(l,"form")&&(u=e.getAttributeValue(l,"form")),e.getAttributeValue(l,"gender-form")&&(N=e.getAttributeValue(l,"gender-form")),e.getAttributeValue(l,"gender")&&(this.locale[r]["noun-genders"][c]=e.getAttributeValue(l,"gender")),N?(this.locale[r].terms[c][N]={},this.locale[r].terms[c][N][u]=[],f=this.locale[r].terms[c][N],S[c]=!0):(this.locale[r].terms[c][u]=[],f=this.locale[r].terms[c]),e.numberofnodes(e.getNodesByName(l,"multiple"))?(f[u][0]=e.getNodeValue(l,"single"),f[u][0].indexOf("%s")>-1&&(this.opt.hasPlaceholderTerm=!0),f[u][1]=e.getNodeValue(l,"multiple"),f[u][1].indexOf("%s")>-1&&(this.opt.hasPlaceholderTerm=!0)):(f[u]=e.getNodeValue(l),f[u].indexOf("%s")>-1&&(this.opt.hasPlaceholderTerm=!0))}if(this.locale[r].terms.supplement||(this.locale[r].terms.supplement={}),this.locale[r].terms.supplement.long||(this.locale[r].terms.supplement.long=["supplement","supplements"]),O){for(var I in S){var P={},j=0;for(var R in this.locale[r].terms[I])["masculine","feminine"].indexOf(R)>-1?P[R]=this.locale[r].terms[I][R]:j+=1;if(!j)if(P.feminine)for(var R in P.feminine)this.locale[r].terms[I][R]=P.feminine[R];else if(P.masculine)for(var R in P.masculine)this.locale[r].terms[I][R]=P.masculine[R]}this.locale[r].ord["1.0.1"]=T}for(c in this.locale[r].terms)for(U=0,F=2;U<F;U+=1)if(N=g.GENDERS[U],this.locale[r].terms[c][N])for(u in this.locale[r].terms[c])this.locale[r].terms[c][N][u]||(this.locale[r].terms[c][N][u]=this.locale[r].terms[c][u]);for(n=e.getNodesByName(s,"style-options"),o=0,h=e.numberofnodes(n);o<h;o+=1)for(p in m=n[o],a=e.attributes(m),a)if(a.hasOwnProperty(p))if("@punctuation-in-quote"===p||"@limit-day-ordinals-to-day-1"===p)"true"===a[p]?this.locale[r].opts[p.slice(1)]=!0:this.locale[r].opts[p.slice(1)]=!1;else if("@jurisdiction-preference"===p){var D=a[p].split(/\s+/);this.locale[r].opts[p.slice(1)]=D}else if("@skip-words"===p){var B=a[p].split(/\s*,\s*/);this.locale[r].opts[p.slice(1)]=B}else if("@leading-noise-words"===p){var M=a[p].split(/\s*,\s*/);this.locale[r].opts["leading-noise-words"]=M}else if("@name-as-sort-order"===p){this.locale[r].opts["name-as-sort-order"]={};for(var L=a[p].split(/\s+/),U=0,F=L.length;U<F;U+=1)this.locale[r].opts["name-as-sort-order"][L[U]]=!0}else if("@name-as-reverse-order"===p){this.locale[r].opts["name-as-reverse-order"]={};for(L=a[p].split(/\s+/),U=0,F=L.length;U<F;U+=1)this.locale[r].opts["name-as-reverse-order"][L[U]]=!0}else if("@name-never-short"===p){this.locale[r].opts["name-never-short"]={};for(L=a[p].split(/\s+/),U=0,F=L.length;U<F;U+=1)this.locale[r].opts["name-never-short"][L[U]]=!0}for(n=e.getNodesByName(s,"date"),o=0,h=e.numberofnodes(n);o<h;o+=1){var G=n[o];this.locale[r].dates[e.getAttributeValue(G,"form")]=G}g.SET_COURT_CLASSES(this,r,e,s)},g.getLocaleNames=function(e,t){function r(e,t){var r=["base","best"];if(t)for(var i=g.localeResolve(t),s=0,n=r.length;s<n;s++)i[r[s]]&&-1===e.indexOf(i[r[s]])&&e.push(i[r[s]])}function i(e){for(var t=s.getNodesByName(s.dataObj,e),r=0,i=t.length;r<i;r++){var a=s.getAttributeValue(t[r],"locale");if(a){a=a.split(/ +/);for(var o=0,l=a.length;o<l;o++)this.extendLocaleList(n,a[o])}}}
var s=g.setupXml(e),n=["en-US"];r(n,t);var a=s.getNodesByName(s.dataObj,"style")[0],o=s.getAttributeValue(a,"default-locale");r(n,o);for(var l=["layout","if","else-if","condition"],u=0,c=l.length;u<c;u++)i(s,n,l[u]);return n},g.Node={},g.Node.bibliography={build:function(e,t){if(this.tokentype===g.START){e.build.area="bibliography",e.build.root="bibliography",e.build.extension="";var r=function(e){e.tmp.area="bibliography",e.tmp.root="bibliography",e.tmp.extension=""};this.execs.push(r)}t.push(this)}},g.Node.choose={build:function(e,t){var r;this.tokentype===g.START&&(r=function(e){e.tmp.jump.push(void 0,g.LITERAL)}),this.tokentype===g.END&&(r=function(e){e.tmp.jump.pop()}),this.execs.push(r),t.push(this)},configure:function(e,t){this.tokentype===g.END?(e.configure.fail.push(t),e.configure.succeed.push(t)):(e.configure.fail.pop(),e.configure.succeed.pop())}},g.Node.citation={build:function(e,t){if(this.tokentype===g.START){e.build.area="citation",e.build.root="citation",e.build.extension="";var r=function(e){e.tmp.area="citation",e.tmp.root="citation",e.tmp.extension=""};this.execs.push(r)}if(this.tokentype===g.END){if(e.opt.grouped_sort="in-text"===e.opt.xclass&&e.citation.opt.collapse&&e.citation.opt.collapse.length||e.citation.opt.cite_group_delimiter&&e.citation.opt.cite_group_delimiter.length&&e.opt.update_mode!==g.POSITION&&e.opt.update_mode!==g.NUMERIC,e.opt.grouped_sort&&e.citation_sort.opt.sort_directions.length){var i=e.citation_sort.opt.sort_directions[0].slice();e.citation_sort.opt.sort_directions=[i].concat(e.citation_sort.opt.sort_directions)}e.citation.srt=new g.Registry.Comparifier(e,"citation_sort")}t.push(this)}},g.Node["#comment"]={build:function(){}},g.Node.date={build:function(e,t){var r,i,s,n,a,o,l,u,c,m;this.tokentype!==g.START&&this.tokentype!==g.SINGLETON||(e.dateput.string(e,e.dateput.queue),e.tmp.date_token=g.Util.cloneToken(this),e.tmp.date_token.strings.prefix="",e.tmp.date_token.strings.suffix="",e.dateput.openLevel(this),e.build.date_parts=[],e.build.date_variables=this.variables,e.build.extension||g.Util.substituteStart.call(this,e,t),r=e.build.extension?g.dateMacroAsSortKey:function(e,t,r){var p;if(e.tmp.element_rendered_ok=!1,e.tmp.donesies=[],e.tmp.dateparts=[],p=[],!this.variables.length||e.tmp.just_looking&&"accessed"===this.variables[0])e.tmp.date_object=!1;else{for(i=t[this.variables[0]],void 0===i&&(i={"date-parts":[[0]]},e.opt.development_extensions.locator_date_and_revision&&r&&"locator-date"===this.variables[0]&&r["locator-date"]&&(i=r["locator-date"])),e.tmp.date_object=i,s=this.dateparts.length,n=0;n<s;n+=1)a=this.dateparts[n],void 0!==e.tmp.date_object[a+"_end"]?p.push(a):"month"===a&&void 0!==e.tmp.date_object.season_end&&p.push(a);for(o=[],l=["year","month","day"],s=l.length,n=0;n<s;n+=1)p.indexOf(l[n])>-1&&o.push(l[n]);for(p=o.slice(),u=2,s=p.length,n=0;n<s;n+=1)if(a=p[n],c=e.tmp.date_object[a],m=e.tmp.date_object[a+"_end"],c!==m){u=n;break}e.tmp.date_collapse_at=p.slice(u)}},this.execs.push(r),r=function(e,t){if(t[this.variables[0]]&&(e.output.startTag("date",this),"issued"===this.variables[0]&&("legal_case"===t.type||"legislation"===t.type)&&-1===e.opt.disable_duplicate_year_suppression.indexOf(t.country)&&!e.tmp.extension&&""+t["collection-number"]==""+e.tmp.date_object.year&&1===this.dateparts.length&&"year"===this.dateparts[0]))for(var r in e.tmp.date_object)if(e.tmp.date_object.hasOwnProperty(r)&&"year"===r.slice(0,4)){e.tmp.issued_date={};var i=e.output.current.mystack.slice(-2)[0].blobs;e.tmp.issued_date.list=i,e.tmp.issued_date.pos=i.length-1}},this.execs.push(r)),e.build.extension||this.tokentype!==g.END&&this.tokentype!==g.SINGLETON||(r=function(e,t){t[this.variables[0]]&&e.output.endTag()},this.execs.push(r)),t.push(this),this.tokentype!==g.END&&this.tokentype!==g.SINGLETON||e.build.extension||g.Util.substituteEnd.call(this,e,t)}},g.Node["date-part"]={build:function(e,t){function r(t,r,i){if(!i)return i;if(i=""+g.Util.Dates[this.strings.name][t](e,i,r,this.default_locale),"month"===this.strings.name)if(e.tmp.strip_periods)i=i.replace(/\./g,"");else for(var s=0,n=this.decorations.length;s<n;s+=1)if("@strip-periods"===this.decorations[s][0]&&"true"===this.decorations[s][1]){i=i.replace(/\./g,"");break}return i}var i,s,n,a,o,l,u,c,m,p,h,f,d,b,y,v,_,x,E,A,w;this.strings.form||(this.strings.form="long"),e.build.date_parts.push(this.strings.name);var T=e.build.date_variables[0];i=function(e,t){if(e.tmp.date_object){e.tmp.probably_rendered_something=!0;var i="";if(a=!0,o="",l="",e.tmp.donesies.push(this.strings.name),e.tmp.date_object.literal&&"year"===this.strings.name&&(i=e.tmp.date_object.literal,e.output.append(e.tmp.date_object.literal,this)),e.tmp.date_object&&(o=e.tmp.date_object[this.strings.name],l=e.tmp.date_object[this.strings.name+"_end"]),"year"!==this.strings.name||0!==o||e.tmp.suppress_decorations||(o=!1),u=!e.tmp.suppress_decorations,c=e.tmp.have_collapsed,m="year-suffix"===e[e.tmp.area].opt.collapse||"year-suffix-ranged"===e[e.tmp.area].opt.collapse,p=e.opt["disambiguate-add-year-suffix"],u&&p&&m&&(e.tmp.years_used.push(o),h=e.tmp.last_years_used.length>=e.tmp.years_used.length,h&&c&&e.tmp.last_years_used[e.tmp.years_used.length-1]===o&&(o=!1)),void 0!==o){f=!1,d=!1,!1,!1,"year"===this.strings.name&&(parseInt(o,10)<500&&parseInt(o,10)>0&&(d=e.getTerm("ad")),parseInt(o,10)<0&&(f=e.getTerm("bc"),o=-1*parseInt(o,10)),l&&(parseInt(l,10)<500&&parseInt(l,10)>0&&e.getTerm("ad"),parseInt(l,10)<0&&(e.getTerm("bc"),l=-1*parseInt(l,10))));for(var O=""+e.tmp.date_object.month;O.length<2;)O="0"+O;O="month-"+O;var S=e.locale[e.opt.lang]["noun-genders"][O];if(this.strings.form){var C=this.strings.form,k=this.strings.form;"day"===this.strings.name&&"ordinal"===C&&e.locale[e.opt.lang].opts["limit-day-ordinals-to-day-1"]&&(1!=o&&(C="numeric"),1!=l&&(k="numeric")),o=r.call(this,C,S,o),l=r.call(this,k,S,l)}if(e.output.openLevel("empty"),e.tmp.date_collapse_at.length){for(b=!0,n=e.tmp.date_collapse_at.length,s=0;s<n;s+=1)if(A=e.tmp.date_collapse_at[s],-1===e.tmp.donesies.indexOf(A)){b=!1;break}if(b){if(""+l!="0"){if(0===e.dateput.queue.length&&(a=!0),e.opt["year-range-format"]&&"expanded"!==e.opt["year-range-format"]&&!e.tmp.date_object.day&&!e.tmp.date_object.month&&!e.tmp.date_object.season&&"year"===this.strings.name&&o&&l){l=e.fun.year_mangler(o+"-"+l,!0);var N=e.getTerm("year-range-delimiter");l=l.slice(l.indexOf(N)+1)}i=l,e.dateput.append(l,this),a&&(w=e.dateput.current.value().blobs[0],w&&(w.strings.prefix=""))}i=o,e.output.append(o,this),y=e.output.current.value(),w=y.blobs[y.blobs.length-1],w&&(w.strings.suffix=""),this.strings["range-delimiter"]?e.output.append(this.strings["range-delimiter"]):e.output.append(e.getTerm("year-range-delimiter"),"empty"),e.dateput.closeLevel(),v=e.dateput.current.value(),y.blobs=y.blobs.concat(v),e.dateput.string(e,e.dateput.queue),e.dateput.openLevel(e.tmp.date_token),e.tmp.date_collapse_at=[]}else i=o,e.output.append(o,this),e.tmp.date_collapse_at.indexOf(this.strings.name)>-1&&""+l!="0"&&(0===e.dateput.queue.length&&(a=!0),e.dateput.openLevel("empty"),i=l,e.dateput.append(l,this),a&&(w=e.dateput.current.value().blobs[0],w&&(w.strings.prefix="")),f&&(i=f,e.dateput.append(f)),d&&(i=d,e.dateput.append(d)),e.dateput.closeLevel())}else i=o,e.output.append(o,this);f&&(i=f,e.output.append(f)),d&&(i=d,e.output.append(d)),e.output.closeLevel()}else"month"===this.strings.name&&e.tmp.date_object.season&&(o=""+e.tmp.date_object.season,o&&o.match(/^[1-4]$/)?(e.tmp.group_context.tip.variable_success=!0,i="winter",e.output.append(e.getTerm("season-0"+o),this)):o&&(i=o,e.output.append(o,this)));e.tmp.value=[],!t[T]||!o&&!e.tmp.have_collapsed||e.opt.has_year_suffix||"year"!==this.strings.name||e.tmp.just_looking||e.registry.registry[t.id]&&!1!==e.registry.registry[t.id].disambig.year_suffix&&!e.tmp.has_done_year_suffix&&(e.tmp.has_done_year_suffix=!0,i="x",x=parseInt(e.registry.registry[t.id].disambig.year_suffix,10),_=new g.NumericBlob(e,!1,x,this,t.id),this.successor_prefix=e[e.build.area].opt.layout_delimiter,this.splice_prefix=e[e.build.area].opt.layout_delimiter,E=new g.Util.Suffixator(g.SUFFIX_CHARS),_.setFormatter(E),"year-suffix-ranged"===e[e.tmp.area].opt.collapse&&(_.range_prefix=e.getTerm("citation-range-delimiter")),e[e.tmp.area].opt.cite_group_delimiter?_.successor_prefix=e[e.tmp.area].opt.cite_group_delimiter:e[e.tmp.area].opt["year-suffix-delimiter"]?_.successor_prefix=e[e.tmp.area].opt["year-suffix-delimiter"]:_.successor_prefix=e[e.tmp.area].opt.layout_delimiter,_.UGLY_DELIMITER_SUPPRESS_HACK=!0,e.output.append(_,"literal")),i&&!e.tmp.group_context.tip.condition&&(e.tmp.just_did_number=i.match(/[0-9]$/),e.output.current.tip.strings.suffix&&(e.tmp.just_did_number=!1))}},this.execs.push(i),t.push(this)}},g.Node["else-if"]={build:function(e,t){g.Conditions.TopNode.call(this,e,t),t.push(this)},configure:function(e,t){g.Conditions.Configure.call(this,e,t)}},g.Node.else={build:function(e,t){t.push(this)},configure:function(e,t){this.tokentype===g.START&&(e.configure.fail[e.configure.fail.length-1]=t)}},g.Node["et-al"]={build:function(e,t){if("citation"===e.build.area||"bibliography"===e.build.area){var r=function(e){e.tmp.etal_node=this,"string"==typeof this.strings.term&&(e.tmp.etal_term=this.strings.term)};this.execs.push(r)}t.push(this)}},g.Node.group={build:function(e,t,r){var i,s,n;if(this.realGroup=r,this.tokentype===g.START&&(g.Util.substituteStart.call(this,e,t),e.build.substitute_level.value()&&e.build.substitute_level.replace(e.build.substitute_level.value()+1),this.juris||t.push(this),i=function(e){if(e.output.startTag("group",this),this.strings.label_form_override&&(e.tmp.group_context.tip.label_form||(e.tmp.group_context.tip.label_form=this.strings.label_form_override)),this.strings.label_capitalize_if_first_override&&(e.tmp.group_context.tip.label_capitalize_if_first||(e.tmp.group_context.tip.label_capitalize_if_first=this.strings.label_capitalize_if_first_override)),this.realGroup){e.tmp.group_context.tip.condition&&g.UPDATE_GROUP_CONTEXT_CONDITION(e,this.strings.prefix,null,this);var t=!1,r=!1;e.tmp.group_context.mystack.length&&(e.output.current.value().parent=e.tmp.group_context.tip.output_tip);var i=e.tmp.group_context.tip.label_form;i||(i=this.strings.label_form_override);var s=e.tmp.group_context.tip.label_capitalize_if_first;s||(s=this.strings.label_capitalize_if_first),e.tmp.group_context.tip.condition?(t=e.tmp.group_context.tip.condition,r=e.tmp.group_context.tip.force_suppress):this.strings.reject?t={test:this.strings.reject,not:!0}:this.strings.require&&(t={test:this.strings.require,not:!1});var n={old_term_predecessor:e.tmp.term_predecessor,term_intended:!1,variable_attempt:!1,variable_success:!1,variable_success_parent:e.tmp.group_context.tip.variable_success,output_tip:e.output.current.tip,label_form:i,label_static:e.tmp.group_context.tip.label_static,label_capitalize_if_first:s,parallel_delimiter_override:this.strings.set_parallel_delimiter_override,parallel_delimiter_override_on_suppress:this.strings.set_parallel_delimiter_override_on_suppress,condition:t,force_suppress:r,done_vars:e.tmp.group_context.tip.done_vars.slice()};if(this.non_parallel){var a=e.tmp.group_context.tip.non_parallel;a||(a={}),Object.assign(a,this.non_parallel),n.non_parallel=a}if(this.parallel_first){var o=e.tmp.group_context.tip.parallel_first;o||(o={}),Object.assign(o,this.parallel_first),n.parallel_first=o}if(this.parallel_last){var l=e.tmp.group_context.tip.parallel_last;l||(l={}),Object.assign(l,this.parallel_last),n.parallel_last=l}if(e.tmp.abbrev_trimmer&&e.tmp.abbrev_trimmer.LAST_TO_FIRST&&n.parallel_last)for(var u in n.parallel_first||(n.parallel_first={}),e.tmp.abbrev_trimmer.LAST_TO_FIRST)n.parallel_last[u]&&(n.parallel_first[u]=!0,delete n.parallel_last[u]);if(e.tmp.group_context.push(n),e.tmp.abbrev_trimmer&&this.parallel_last_to_first)for(var u in e.tmp.abbrev_trimmer.LAST_TO_FIRST||(e.tmp.abbrev_trimmer.LAST_TO_FIRST={}),this.parallel_last_to_first)e.tmp.abbrev_trimmer.LAST_TO_FIRST[u]=!0}},s=[],s.push(i),this.execs=s.concat(this.execs),this.strings["has-publisher-and-publisher-place"]&&(e.build["publisher-special"]=!0,this.strings["subgroup-delimiter"]&&(i=function(e,t){if(t.publisher&&t["publisher-place"]){var r=t.publisher.split(/;\s*/),i=t["publisher-place"].split(/;\s*/);r.length>1&&r.length===i.length&&(e.publisherOutput=new g.PublisherOutput(e,this),e.publisherOutput["publisher-list"]=r,e.publisherOutput["publisher-place-list"]=i)}},this.execs.push(i))),this.juris)){var a=new g.Token("choose",g.START);g.Node.choose.build.call(a,e,t);var o=new g.Token("if",g.START);n=this.juris,i=function(t,r){return g.INIT_JURISDICTION_MACROS(e,t,r,n)},o.tests||(o.tests=[]),o.tests.push(i),o.test=e.fun.match.any(o,e,o.tests),t.push(o);var l=new g.Token("text",g.SINGLETON);i=function(e,t,r){var i=t;r&&r["best-jurisdiction"]&&"juris-locator"===this.juris&&(i=r);var s=0;if(e.juris[i["best-jurisdiction"]][this.juris])for(;s<e.juris[i["best-jurisdiction"]][this.juris].length;)s=g.tokenExec.call(e,e.juris[i["best-jurisdiction"]][this.juris][s],t,r)},l.juris=this.juris,l.execs.push(i),t.push(l);var u=new g.Token("if",g.END);g.Node.if.build.call(u,e,t);var c=new g.Token("else",g.START);g.Node.else.build.call(c,e,t)}if(this.tokentype===g.END&&(e.build["publisher-special"]&&(e.build["publisher-special"]=!1,i=function(e){e.publisherOutput&&(e.publisherOutput.render(),e.publisherOutput=!1)},this.execs.push(i)),i=function(e,t,r){if(e.tmp.group_context.tip.condition||e.output.current.tip.strings.suffix&&(e.tmp.just_did_number=!1),e.output.endTag(),this.realGroup){var i=e.tmp.group_context.pop();if(i.parallel_delimiter_override&&(e.tmp.group_context.tip.parallel_delimiter_override=i.parallel_delimiter_override,!e.tmp.just_looking&&e.registry.registry[t.id].master&&(e.registry.registry[t.id].parallel_delimiter_override=i.parallel_delimiter_override)),i.parallel_delimiter_override_on_suppress&&(e.tmp.group_context.tip.parallel_delimiter_override_on_suppress=i.parallel_delimiter_override_on_suppress),"bibliography_sort"===e.tmp.area){var s=i.done_vars.indexOf("citation-number");this.strings.sort_direction&&s>-1&&1==e.tmp.group_context.length()&&(this.strings.sort_direction===g.DESCENDING?e.bibliography_sort.opt.citation_number_sort_direction=g.DESCENDING:e.bibliography_sort.opt.citation_number_sort_direction=g.ASCENDING,i.done_vars=i.done_vars.slice(0,s).concat(i.done_vars.slice(s+1)))}if(i.condition&&(i.force_suppress=g.EVALUATE_GROUP_CONDITION(e,i)),e.tmp.group_context.tip.condition&&(e.tmp.group_context.tip.force_suppress=i.force_suppress),!i.force_suppress&&(i.variable_success||i.term_intended&&!i.variable_attempt)){this.isJurisLocatorLabel||(e.tmp.group_context.tip.variable_success=!0);var n=e.output.current.value().blobs;e.output.current.value().blobs.length;if(!e.tmp.just_looking&&(i.non_parallel||i.parallel_last||i.parallel_first||i.parallel_delimiter_override||i.parallel_delimiter_override_on_suppress)){var a=e.parallel.checkRepeats(i);if(a&&n&&n.pop(),e.tmp.cite_index>0&&(a||!i.parallel_first&&!i.parallel_last&&!i.non_parallel)){var o=e.tmp.suppress_repeats[e.tmp.cite_index-1];a&&i.parallel_delimiter_override_on_suppress&&(o.SIBLING||o.ORPHAN)?e.output.queue.slice(-1)[0].parallel_delimiter=i.parallel_delimiter_override_on_suppress:i.parallel_delimiter_override&&o.SIBLING&&(e.output.queue.slice(-1)[0].parallel_delimiter=i.parallel_delimiter_override)}}}else{if(e.tmp.term_predecessor=i.old_term_predecessor,e.tmp.group_context.tip.variable_attempt=i.variable_attempt,i.force_suppress&&!e.tmp.group_context.tip.condition&&(e.tmp.group_context.tip.variable_attempt=!0,e.tmp.group_context.tip.variable_success=i.variable_success_parent),i.force_suppress)for(var l=0,u=i.done_vars.length;l<u;l++)for(var c=i.done_vars[l],m=0,p=e.tmp.done_vars.length;m<p;m++)e.tmp.done_vars[m]===c&&(e.tmp.done_vars=e.tmp.done_vars.slice(0,m).concat(e.tmp.done_vars.slice(m+1)));e.output.current.value().blobs&&e.output.current.value().blobs.pop()}}},this.execs.push(i),this.juris)){var m=new g.Token("else",g.END);g.Node.else.build.call(m,e,t);var p=new g.Token("choose",g.END);g.Node.choose.build.call(p,e,t)}this.tokentype===g.END&&(this.juris||t.push(this),e.build.substitute_level.value()&&e.build.substitute_level.replace(e.build.substitute_level.value()-1),g.Util.substituteEnd.call(this,e,t))}},g.Node.if={build:function(e,t){g.Conditions.TopNode.call(this,e,t),t.push(this)},configure:function(e,t){g.Conditions.Configure.call(this,e,t)}},g.Node.conditions={build:function(e){this.tokentype===g.START&&e.tmp.conditions.addMatch(this.match),this.tokentype===g.END&&e.tmp.conditions.matchCombine()}},g.Node.condition={build:function(e){if(this.tokentype===g.SINGLETON){var t=e.fun.match[this.match](this,e,this.tests);e.tmp.conditions.addTest(t)}}},g.Conditions={},g.Conditions.TopNode=function(e){var t;this.tokentype!==g.START&&this.tokentype!==g.SINGLETON||(this.locale&&(e.opt.lang=this.locale),this.tests&&this.tests.length?this.test=e.fun.match[this.match](this,e,this.tests):e.tmp.conditions=new g.Conditions.Engine(e,this),0===e.build.substitute_level.value()&&(t=function(e){e.tmp.condition_counter++},this.execs.push(t))),this.tokentype!==g.END&&this.tokentype!==g.SINGLETON||(0===e.build.substitute_level.value()&&(t=function(e){if(e.tmp.condition_counter--,e.tmp.condition_lang_counter_arr.length>0){var t=e.tmp.condition_lang_counter_arr.slice(-1)[0];t===e.tmp.condition_counter&&(e.opt.lang=e.tmp.condition_lang_val_arr.pop(),e.tmp.condition_lang_counter_arr.pop())}this.locale_default&&(e.output.current.value().old_locale=this.locale_default,e.output.closeLevel("empty"),e.opt.lang=this.locale_default)},this.execs.push(t)),t=function(e){var t=this[e.tmp.jump.value()];return t},this.execs.push(t),this.locale_default&&(e.opt.lang=this.locale_default))},g.Conditions.Configure=function(e,t){this.tokentype===g.START?(this.fail=e.configure.fail.slice(-1)[0],this.succeed=this.next,e.configure.fail[e.configure.fail.length-1]=t):this.tokentype===g.SINGLETON?(this.fail=this.next,this.succeed=e.configure.succeed.slice(-1)[0],e.configure.fail[e.configure.fail.length-1]=t):(this.succeed=e.configure.succeed.slice(-1)[0],this.fail=this.next)},g.Conditions.Engine=function(e,t){this.token=t,this.state=e},g.Conditions.Engine.prototype.addTest=function(e){this.token.tests||(this.token.tests=[]),this.token.tests.push(e)},g.Conditions.Engine.prototype.addMatch=function(e){this.token.match=e},g.Conditions.Engine.prototype.matchCombine=function(){this.token.test=this.state.fun.match[this.token.match](this.token,this.state,this.token.tests)},g.Node.info={build:function(e){this.tokentype===g.START?e.build.skip="info":e.build.skip=!1}},g.Node.institution={build:function(e,t){if([g.SINGLETON,g.START].indexOf(this.tokentype)>-1){var r=function(e){"string"==typeof this.strings.delimiter?e.tmp.institution_delimiter=this.strings.delimiter:e.tmp.institution_delimiter=e.tmp.name_delimiter,"text"===e.inheritOpt(this,"and")?this.and_term=e.getTerm("and","long",0):"symbol"===e.inheritOpt(this,"and")?e.opt.development_extensions.expect_and_symbol_form?this.and_term=e.getTerm("and","symbol",0):this.and_term="&":"none"===e.inheritOpt(this,"and")&&(this.and_term=e.tmp.institution_delimiter),void 0===this.and_term&&e.tmp.and_term&&(this.and_term=e.tmp.and_term),g.STARTSWITH_ROMANESQUE_REGEXP.test(this.and_term)?(this.and_prefix_single=" ",this.and_prefix_multiple=", ","string"==typeof e.tmp.institution_delimiter&&(this.and_prefix_multiple=e.tmp.institution_delimiter),this.and_suffix=" "):(this.and_prefix_single="",this.and_prefix_multiple="",this.and_suffix=""),"always"===e.inheritOpt(this,"delimiter-precedes-last")?this.and_prefix_single=e.tmp.institution_delimiter:"never"===e.inheritOpt(this,"delimiter-precedes-last")&&this.and_prefix_multiple&&(this.and_prefix_multiple=" "),this.and={},void 0!==this.and_term?(e.output.append(this.and_term,"empty",!0),this.and.single=e.output.pop(),this.and.single.strings.prefix=this.and_prefix_single,this.and.single.strings.suffix=this.and_suffix,e.output.append(this.and_term,"empty",!0),this.and.multiple=e.output.pop(),this.and.multiple.strings.prefix=this.and_prefix_multiple,this.and.multiple.strings.suffix=this.and_suffix):"undefined"!==this.strings.delimiter&&(this.and.single=new g.Blob(e.tmp.institution_delimiter),this.and.single.strings.prefix="",this.and.single.strings.suffix="",this.and.multiple=new g.Blob(e.tmp.institution_delimiter),this.and.multiple.strings.prefix="",this.and.multiple.strings.suffix=""),e.nameOutput.institution=this};this.execs.push(r)}t.push(this)},configure:function(e){[g.SINGLETON,g.START].indexOf(this.tokentype)>-1&&(e.build.has_institution=!0)}},g.Node["institution-part"]={build:function(e,t){var r;"long"===this.strings.name?r=this.strings["if-short"]?function(e){e.nameOutput.institutionpart["long-with-short"]=this}:function(e){e.nameOutput.institutionpart.long=this}:"short"===this.strings.name&&(r=function(e){e.nameOutput.institutionpart.short=this}),this.execs.push(r),t.push(this)}},g.Node.key={build:function(e,t){var r;t=e[e.build.root+"_sort"].tokens;var i=!1,s=new g.Token("key",g.START);e.tmp.root=e.build.root,s.strings["et-al-min"]=e.inheritOpt(this,"et-al-min"),s.strings["et-al-use-first"]=e.inheritOpt(this,"et-al-use-first"),s.strings["et-al-use-last"]=e.inheritOpt(this,"et-al-use-last"),r=function(e){e.tmp.done_vars=[]},s.execs.push(r),r=function(e){e.output.openLevel("empty")},s.execs.push(r);var n=[];if(this.strings.sort_direction===g.DESCENDING?(n.push(1),n.push(-1)):(n.push(-1),n.push(1)),e[e.build.area].opt.sort_directions.push(n),g.DATE_VARIABLES.indexOf(this.variables[0])>-1&&(e.build.date_key=!0),r=function(e){e.tmp.sort_key_flag=!0,e.inheritOpt(this,"et-al-min")&&(e.tmp["et-al-min"]=e.inheritOpt(this,"et-al-min")),e.inheritOpt(this,"et-al-use-first")&&(e.tmp["et-al-use-first"]=e.inheritOpt(this,"et-al-use-first")),"boolean"==typeof e.inheritOpt(this,"et-al-use-last")&&(e.tmp["et-al-use-last"]=e.inheritOpt(this,"et-al-use-last"))},s.execs.push(r),t.push(s),this.variables.length){var a=this.variables[0];if(g.NAME_VARIABLES.indexOf(a)>-1){var o=new g.Token("names",g.START);o.tokentype=g.START,o.variables=this.variables,g.Node.names.build.call(o,e,t);var l=new g.Token("name",g.SINGLETON);l.tokentype=g.SINGLETON,l.strings["name-as-sort-order"]="all",l.strings["sort-separator"]=" ",l.strings["et-al-use-last"]=e.inheritOpt(this,"et-al-use-last"),l.strings["et-al-min"]=e.inheritOpt(this,"et-al-min"),l.strings["et-al-use-first"]=e.inheritOpt(this,"et-al-use-first"),g.Node.name.build.call(l,e,t);var u=new g.Token("institution",g.SINGLETON);u.tokentype=g.SINGLETON,g.Node.institution.build.call(u,e,t);var c=new g.Token("names",g.END);c.tokentype=g.END,g.Node.names.build.call(c,e,t)}else{var m=new g.Token("text",g.SINGLETON);if(m.strings.sort_direction=this.strings.sort_direction,m.dateparts=this.dateparts,g.NUMERIC_VARIABLES.indexOf(a)>-1)r="citation-number"===a?function(e,t){if("bibliography_sort"===e.tmp.area&&(this.strings.sort_direction===g.DESCENDING?e.bibliography_sort.opt.citation_number_sort_direction=g.DESCENDING:e.bibliography_sort.opt.citation_number_sort_direction=g.ASCENDING),"citation_sort"===e.tmp.area&&e.bibliography_sort.tmp.citation_number_map)var r=e.bibliography_sort.tmp.citation_number_map[e.registry.registry[t.id].seq];else r=e.registry.registry[t.id].seq;r&&(r=g.Util.padding(""+r)),e.output.append(r,this)}:function(e,t){var r=!1;r=t[a],r&&(r=g.Util.padding(r)),e.output.append(r,this)};else if("citation-label"===a)r=function(e,t){var r=e.getCitationLabel(t);e.output.append(r,this)};else if(g.DATE_VARIABLES.indexOf(a)>-1)r=g.dateAsSortKey,m.variables=this.variables;else if("title"===a){var p="title",h=!1,f=!1,d=!0;r=e.transform.getOutputFunction(this.variables,p,h,f,d)}else r="court-class"===a?function(e,t,r){g.INIT_JURISDICTION_MACROS(e,t,r,"juris-main");var i=g.GET_COURT_CLASS(e,t,!0);e.output.append(i,"empty")}:function(e,t){var r=t[a];e.output.append(r,"empty")};m.execs.push(r),t.push(m)}}else{var b=new g.Token("text",g.SINGLETON);b.strings.sort_direction=this.strings.sort_direction,b.postponed_macro=this.postponed_macro,g.expandMacro.call(e,b,t)}var y=new g.Token("key",g.END);r=function(e){var t=e.output.string(e,e.output.queue);e.sys.normalizeUnicode&&(t=e.sys.normalizeUnicode(t)),t=t?t.split(" ").join(e.opt.sort_sep)+e.opt.sort_sep:"",i&&g.debug("keystring: "+t+" "+typeof t),""===t&&(t=void 0),"string"!=typeof t&&(t=void 0),e[e[e.tmp.area].root+"_sort"].keys.push(t),e.tmp.value=[]},y.execs.push(r),e.build.date_key&&("citation"===e.build.area&&"_sort"===e.build.extension&&(e[e.build.area].opt.sort_directions.push([-1,1]),r=function(e,t){var r=e.registry.registry[t.id].disambig.year_suffix;r||(r=0);var i=g.Util.padding(""+r);e[e.tmp.area].keys.push(i)},y.execs.push(r)),e.build.date_key=!1),r=function(e){e.tmp["et-al-min"]=void 0,e.tmp["et-al-use-first"]=void 0,e.tmp["et-al-use-last"]=void 0,e.tmp.sort_key_flag=!1},y.execs.push(r),t.push(y)}},g.Node.label={build:function(e,t){if(this.strings.term){var r=function(e,t,r){var i=g.evaluateLabel(this,e,t,r);r&&"locator"===this.strings.term&&(r.section_form_override=this.strings.form),i&&(e.tmp.group_context.tip.term_intended=!0),g.UPDATE_GROUP_CONTEXT_CONDITION(e,i,null,this),-1===i.indexOf("%s")&&(this.strings.capitalize_if_first&&(e.tmp.term_predecessor||"in-text"===e.opt.class&&"citation"===e.tmp.area||(i=g.Output.Formatters["capitalize-first"](e,i))),e.output.append(i,this))};this.execs.push(r)}else{this.strings.form||(this.strings.form="long");for(var i=e.build.names_variables[e.build.names_variables.length-1],s=e.build.name_label[e.build.name_label.length-1],n=0,a=i.length;n<a;n+=1)s[i[n]]||(s[i[n]]={});if(e.build.name_flag)for(n=0,a=i.length;n<a;n+=1)s[i[n]].after=this;else for(var n=0,a=i.length;n<a;n+=1)s[i[n]].before=this}t.push(this)}},g.Node.layout={build:function(e,t){function r(){"bibliography"===e.build.area&&(n=new g.Token("text",g.SINGLETON),i=function(e){if(!e.tmp.parallel_and_not_last){var t;t=e.tmp.cite_affixes[e.tmp.area][e.tmp.last_cite_locale]?e.tmp.cite_affixes[e.tmp.area][e.tmp.last_cite_locale].suffix:e.bibliography.opt.layout_suffix;var r=e.output.current.value();e.opt.using_display?r.blobs[r.blobs.length-1].strings.suffix=t:r.strings.suffix=t}e.bibliography.opt["second-field-align"]&&e.output.endTag("bib_other")},n.execs.push(i),t.push(n))}var i,s,n,a,o;if(this.tokentype===g.START&&(this.locale_raw?e.build.current_default_locale=this.locale_raw:e.build.current_default_locale=e.opt["default-locale"],i=function(e,t,r){if(e.opt.development_extensions.apply_citation_wrapper&&e.sys.wrapCitationEntry&&!e.tmp.just_looking&&t.system_id&&"citation"===e.tmp.area){var i=new g.Token("group",g.START);i.decorations=[["@cite","entry"]],e.output.startTag("cite_entry",i),e.output.current.value().item_id=t.system_id,r&&(e.output.current.value().locator_txt=r.locator_txt,e.output.current.value().suffix_txt=r.suffix_txt)}},this.execs.push(i)),this.tokentype!==g.START||e.tmp.cite_affixes[e.build.area]||(i=function(e,t,r){if(e.tmp.done_vars=[],r&&r["author-only"]&&e.tmp.done_vars.push("locator"),e.opt.suppressedJurisdictions[t.country]&&t.country&&-1===["treaty","patent"].indexOf(t.type)&&e.tmp.done_vars.push("country"),!e.tmp.just_looking&&e.registry.registry[t.id]&&e.registry.registry[t.id].parallel&&e.tmp.done_vars.push("first-reference-note-number"),!e.tmp.just_looking&&e.tmp.abbrev_trimmer&&t.jurisdiction)for(var i in e.tmp.abbrev_trimmer.QUASHES[t.jurisdiction])e.tmp.done_vars.push(i);e.tmp.rendered_name=!1},this.execs.push(i),i=function(e){e.tmp.sort_key_flag=!1},this.execs.push(i),i=function(e){e.tmp.nameset_counter=0},this.execs.push(i),i=function(e,t){var r=new g.Token;e.output.openLevel(r)},this.execs.push(i),t.push(this),"citation"===e.build.area&&(s=new g.Token("text",g.SINGLETON),i=function(e,t,r){if(r&&r.prefix){var i=g.checkPrefixSpaceAppend(e,r.prefix);e.tmp.just_looking||(i=e.output.checkNestedBrace.update(i));var s=g.checkIgnorePredecessor(e,i);e.output.append(i,this,!1,s)}},s.execs.push(i),t.push(s))),this.locale_raw&&(o=new g.Token("dummy",g.START),o.locale=this.locale_raw,o.strings.delimiter=this.strings.delimiter,o.strings.suffix=this.strings.suffix,e.tmp.cite_affixes[e.build.area]||(e.tmp.cite_affixes[e.build.area]={})),this.tokentype===g.START&&(e.build.layout_flag=!0,this.locale_raw||(e[e.tmp.area].opt.topdecor=[this.decorations],e[e.tmp.area+"_sort"].opt.topdecor=[this.decorations],e[e.build.area].opt.layout_prefix=this.strings.prefix,e[e.build.area].opt.layout_suffix=this.strings.suffix,e[e.build.area].opt.layout_delimiter=this.strings.delimiter,e[e.build.area].opt.layout_decorations=this.decorations,e.tmp.cite_affixes[e.build.area]&&(a=new g.Token("else",g.START),g.Node.else.build.call(a,e,t))),this.locale_raw)){if(e.build.layout_locale_flag)o.name="else-if",g.Attributes["@locale-internal"].call(o,e,this.locale_raw),g.Node["else-if"].build.call(o,e,t);else{var l=new g.Token("choose",g.START);g.Node.choose.build.call(l,e,t),o.name="if",g.Attributes["@locale-internal"].call(o,e,this.locale_raw),g.Node.if.build.call(o,e,t)}e.tmp.cite_affixes[e.build.area][o.locale]={},e.tmp.cite_affixes[e.build.area][o.locale].delimiter=this.strings.delimiter,e.tmp.cite_affixes[e.build.area][o.locale].suffix=this.strings.suffix}this.tokentype===g.END&&(this.locale_raw&&(r(),e.build.layout_locale_flag?(o.name="else-if",o.tokentype=g.END,g.Attributes["@locale-internal"].call(o,e,this.locale_raw),g.Node["else-if"].build.call(o,e,t)):(o.name="if",o.tokentype=g.END,g.Attributes["@locale-internal"].call(o,e,this.locale_raw),g.Node.if.build.call(o,e,t),e.build.layout_locale_flag=!0)),this.locale_raw||(r(),e.tmp.cite_affixes[e.build.area]&&e.build.layout_locale_flag&&(a=new g.Token("else",g.END),g.Node.else.build.call(a,e,t),a=new g.Token("choose",g.END),g.Node.choose.build.call(a,e,t)),e.build_layout_locale_flag=!0,"citation"===e.build.area&&(n=new g.Token("text",g.SINGLETON),i=function(e,t,r){if(r&&r.suffix){var i=g.checkSuffixSpacePrepend(e,r.suffix);e.tmp.just_looking||(i=e.output.checkNestedBrace.update(i)),e.output.append(i,this)}},n.execs.push(i),t.push(n)),i=function(e){e.output.closeLevel()},this.execs.push(i),i=function(e,t){e.opt.development_extensions.apply_citation_wrapper&&e.sys.wrapCitationEntry&&!e.tmp.just_looking&&t.system_id&&"citation"===e.tmp.area&&e.output.endTag()},this.execs.push(i),t.push(this),e.build.layout_flag=!1,e.build.layout_locale_flag=!1))}},g.Node.macro={build:function(){}},g.Node.alternative={build:function(e,t){if(this.tokentype===g.START){var r=new g.Token("choose",g.START);g.Node.choose.build.call(r,e,t);var i=new g.Token("if",g.START);g.Attributes["@alternative-node-internal"].call(i,e),g.Node.if.build.call(i,e,t);var s=function(e,t){if(e.tmp.oldItem=t,e.tmp.oldLang=e.opt.lang,e.tmp.abort_alternative=!0,t["language-name"]&&t["language-name-original"]){var r=JSON.parse(JSON.stringify(t));r.language=r["language-name"];var i=g.localeResolve(r.language,e.opt["default-locale"][0]);if(e.opt.multi_layout)for(var s in e.opt.multi_layout){var n=e.opt.multi_layout[s],a=!1;for(var o in n){var l=n[o];if(i.best===l.best||i.base===l.base||i.bare===l.bare){a=n[0].best;break}}a||(a=e.opt["default-locale"][0]),e.opt.lang=a}for(var u in r)if(-1===["id","type","language","multi"].indexOf(u)&&"alt-"!==u.slice(0,4))if(r.multi&&r.multi._keys[u]){var c=!0;for(var m in r.multi._keys[u])if(i.bare===m.replace(/^([a-zA-Z]+).*/,"$1")){c=!1;break}c&&delete r[u]}else delete r[u];for(var u in r)"alt-"===u.slice(0,4)?(r[u.slice(4)]=r[u],e.tmp.abort_alternative=!1):r.multi&&r.multi._keys&&!r["alt-"+u]&&r.multi._keys[u]&&(r.multi._keys[u][i.best]?(r[u]=r.multi._keys[u][i.best],e.tmp.abort_alternative=!1):r.multi._keys[u][i.base]?(r[u]=r.multi._keys[u][i.base],e.tmp.abort_alternative=!1):r.multi._keys[u][i.bare]&&(r[u]=r.multi._keys[u][i.bare],e.tmp.abort_alternative=!1))}e.output.openLevel(this),
e.registry.refhash[t.id]=r,e.nameOutput=new g.NameOutput(e,r)};this.execs.push(s),t.push(this);r=new g.Token("choose",g.START);g.Node.choose.build.call(r,e,t);i=new g.Token("if",g.START);g.Attributes["@alternative-node-internal"].call(i,e);s=function(e){e.tmp.abort_alternative=!0};i.execs.push(s),g.Node.if.build.call(i,e,t)}else if(this.tokentype===g.END){i=new g.Token("if",g.END);g.Node.if.build.call(i,e,t);r=new g.Token("choose",g.END);g.Node.choose.build.call(r,e,t);s=function(e,t){e.output.closeLevel(),e.registry.refhash[t.id]=e.tmp.oldItem,e.opt.lang=e.tmp.oldLang,e.nameOutput=new g.NameOutput(e,e.tmp.oldItem),e.tmp.abort_alternative=!1};this.execs.push(s),t.push(this);i=new g.Token("if",g.END);g.Node.if.build.call(i,e,t);r=new g.Token("choose",g.END);g.Node.choose.build.call(r,e,t)}}},g.Node["alternative-text"]={build:function(e,t){if(this.tokentype===g.SINGLETON){var r=function(e,t){t=e.refetchItem(t.id);g.getCite.call(e,t)};this.execs.push(r)}t.push(this)}},g.NameOutput=function(e,t,r){this.debug=!1,this.state=e,this.debug&&this.state.sys.print("(1)"),this.Item=t,this.item=r,this.nameset_base=0,this.etal_spec={},this._first_creator_variable=!1,this._please_chop=!1},g.NameOutput.prototype.init=function(e){this.requireMatch=e.requireMatch,this.state.tmp.term_predecessor&&(this.state.tmp.subsequent_author_substitute_ok=!1),this.nameset_offset&&(this.nameset_base=this.nameset_base+this.nameset_offset),this.nameset_offset=0,this.names=e,this.variables=e.variables,this.state.tmp.value=[],this.state.tmp.rendered_name=[],this.state.tmp.label_blob=!1,this.state.tmp.etal_node=!1,this.state.tmp.etal_term=!1;for(var t=0,r=this.variables.length;t<r;t+=1)this.Item[this.variables[t]]&&this.Item[this.variables[t]].length&&(this.state.tmp.value=this.state.tmp.value.concat(this.Item[this.variables[t]]));if(this["et-al"]=void 0,this.with=void 0,this.name=void 0,this.institutionpart={},this.state.tmp.group_context.tip.variable_attempt=!0,this.labelVariable=this.variables[0],this.state.tmp.value.length){var i=this.checkCommonAuthor(this.requireMatch);if(i){for(var t in this.state.tmp.can_substitute.pop(),this.state.tmp.can_substitute.push(!0),this.variables){var s=this.state.tmp.done_vars.indexOf(this.variables[t]);s>-1&&(this.state.tmp.done_vars=this.state.tmp.done_vars.slice(0,s).concat(this.state.tmp.done_vars.slice(t+1)))}this.state.tmp.common_term_match_fail=!0,this.variables=[]}}},g.NameOutput.prototype.reinit=function(e,t){if(this.requireMatch=e.requireMatch,this.labelVariable=t,this.state.tmp.can_substitute.value()){this.nameset_offset=0,this.variables=e.variables;var r=this.state.tmp.value.slice();this.state.tmp.value=[];for(var i=0,s=this.variables.length;i<s;i+=1)this.Item[this.variables[i]]&&this.Item[this.variables[i]].length&&(this.state.tmp.value=this.state.tmp.value.concat(this.Item[this.variables[i]]));this.state.tmp.value.length&&this.state.tmp.can_substitute.replace(!1,g.LITERAL),this.state.tmp.value=r}var n=this.checkCommonAuthor(this.requireMatch);if(n){for(var i in this.state.tmp.can_substitute.pop(),this.state.tmp.can_substitute.push(!0),this.variables){var a=this.state.tmp.done_vars.indexOf(this.variables[i]);a>-1&&(this.state.tmp.done_vars=this.state.tmp.done_vars.slice(0,a).concat(this.state.tmp.done_vars.slice(i+1)))}this.variables=[]}},g.NameOutput.prototype.outputNames=function(){var e=this.variables;if(this.institution.and&&(this.institution.and.single.blobs&&this.institution.and.single.blobs.length||(this.institution.and.single.blobs=this.name.and.single.blobs),this.institution.and.multiple.blobs&&this.institution.and.multiple.blobs.length||(this.institution.and.multiple.blobs=this.name.and.multiple.blobs)),this.variable_offset={},this.family)for(this.family_decor=g.Util.cloneToken(this.family),this.family_decor.strings.prefix="",this.family_decor.strings.suffix="",h=0,f=this.family.execs.length;h<f;h+=1)this.family.execs[h].call(this.family_decor,this.state,this.Item);else this.family_decor=!1;if(this.given)for(this.given_decor=g.Util.cloneToken(this.given),this.given_decor.strings.prefix="",this.given_decor.strings.suffix="",h=0,f=this.given.execs.length;h<f;h+=1)this.given.execs[h].call(this.given_decor,this.state,this.Item);else this.given_decor=!1;if(this.debug&&this.state.sys.print("(2)"),this.getEtAlConfig(),this.debug&&this.state.sys.print("(3)"),this.divideAndTransliterateNames(),this.debug&&this.state.sys.print("(4)"),this.truncatePersonalNameLists(),this.debug&&this.state.sys.print("(5)"),this.debug&&this.state.sys.print("(6)"),this.disambigNames(),this.constrainNames(),this.debug&&this.state.sys.print("(7)"),"count"!==this.name.strings.form){this.debug&&this.state.sys.print("(8)"),this.setEtAlParameters(),this.debug&&this.state.sys.print("(9)"),this.setCommonTerm(this.requireMatch),this.debug&&this.state.sys.print("(10)"),this.renderAllNames(),this.debug&&this.state.sys.print("(11)");var t=[];for(h=0,f=e.length;h<f;h+=1){var r=e[h],i=[],s=!1,n=null;if(this.state.opt.development_extensions.spoof_institutional_affiliations){this.debug&&this.state.sys.print("(11a)");for(var a=0,o=this.institutions[r].length;a<o;a+=1)i.push(this.joinPersonsAndInstitutions([this.persons[r][a],this.institutions[r][a]]));if(this.debug&&this.state.sys.print("(11b)"),this.institutions[r].length){var l=this.nameset_base+this.variable_offset[r];this.freeters[r].length&&(l+=1),s=this.joinInstitutionSets(i,l)}this.debug&&this.state.sys.print("(11c)");n=this.joinFreetersAndInstitutionSets([this.freeters[r],s]);this.debug&&this.state.sys.print("(11d)")}else n=this._join([this.freeters[r]],"");if(n&&(this.state.tmp.extension||(n=this._applyLabels(n,r)),t.push(n)),this.debug&&this.state.sys.print("(11e)"),this.common_term)break}for(this.debug&&this.state.sys.print("(12)"),this.state.output.openLevel("empty"),this.state.output.current.value().strings.delimiter=this.state.inheritOpt(this.names,"delimiter","names-delimiter"),this.debug&&this.state.sys.print("(13)"),h=0,f=t.length;h<f;h+=1)this.state.output.append(t[h],"literal",!0);!this.state.tmp.just_looking&&t.length>0&&(this.state.tmp.probably_rendered_something=!0),this.debug&&this.state.sys.print("(14)"),this.state.output.closeLevel("empty"),this.debug&&this.state.sys.print("(15)");var u=this.state.output.pop();this.state.tmp.name_node.top=u,this.debug&&this.state.sys.print("(16)");var c=g.Util.cloneToken(this.names);if(this.state.tmp.group_context.tip.condition&&g.UPDATE_GROUP_CONTEXT_CONDITION(this.state,this.names.strings.prefix,null,this.names),this.state.output.append(u,c),this.state.tmp.term_predecessor_name&&(this.state.tmp.term_predecessor=!0),this.debug&&this.state.sys.print("(17)"),this.debug&&this.state.sys.print("(18)"),"authority"!==e[0]){var m=[],p=this.Item[e[0]];if(p)for(var h=0,f=p.length;h<f;h+=1){var d=g.Util.Names.getRawName(p[h]);d&&m.push(d)}m=m.join(", "),m&&(this.state.tmp.name_node.string=m)}if(this.state.tmp.name_node.string&&!this.state.tmp.first_name_string&&(this.state.tmp.first_name_string=this.state.tmp.name_node.string),"classic"===this.Item.type&&this.state.tmp.first_name_string){var b=[];b.push(this.state.tmp.first_name_string),this.Item.title&&b.push(this.Item.title),b=b.join(", "),b&&this.state.sys.getAbbreviation&&(this.state.sys.normalizeAbbrevsKey&&(b=this.state.sys.normalizeAbbrevsKey("classic",b)),this.state.transform.loadAbbreviation("default","classic",b,this.Item.language),this.state.transform.abbrevs.default.classic[b]&&(this.state.tmp.done_vars.push("title"),this.state.output.append(this.state.transform.abbrevs.default.classic[b],"empty",!0),u=this.state.output.pop(),this.state.tmp.name_node.top.blobs.pop(),this.state.tmp.name_node.top.blobs.push(u)))}this._collapseAuthor(),this.variables=[],this.state.tmp.authority_stop_last=0,this.debug&&this.state.sys.print("(19)")}else(this.state.tmp.extension||0!=this.names_count)&&(this.state.output.append(this.names_count,"empty"),this.state.tmp.group_context.tip.variable_success=!0)},g.NameOutput.prototype._applyLabels=function(e,t){var r;if(!this.label||!this.label[this.labelVariable])return e;var i=0,s=this.freeters_count[t]+this.institutions_count[t];if(s>1)i=1;else{for(var n=0,a=this.persons[t].length;n<a;n+=1)s+=this.persons_count[t][n];s>1&&(i=1)}return this.label[this.labelVariable].before?("number"==typeof this.label[this.labelVariable].before.strings.plural&&(i=this.label[this.labelVariable].before.strings.plural),r=this._buildLabel(t,i,"before",this.labelVariable),this.state.output.openLevel("empty"),this.state.output.append(r,this.label[this.labelVariable].before,!0),this.state.output.append(e,"literal",!0),this.state.output.closeLevel("empty"),e=this.state.output.pop()):this.label[this.labelVariable].after&&("number"==typeof this.label[this.labelVariable].after.strings.plural&&(i=this.label[this.labelVariable].after.strings.plural),r=this._buildLabel(t,i,"after",this.labelVariable),this.state.output.openLevel("empty"),this.state.output.append(e,"literal",!0),this.state.output.append(r,this.label[this.labelVariable].after,!0),this.state.tmp.label_blob=this.state.output.pop(),this.state.output.append(this.state.tmp.label_blob,"literal",!0),this.state.output.closeLevel("empty"),e=this.state.output.pop()),e},g.NameOutput.prototype._buildLabel=function(e,t,r,i){this.common_term&&(e=this.common_term);var s=!1,n=this.label[i][r];return n&&(s=g.castLabel(this.state,n,e,t,g.TOLERANT)),s},g.NameOutput.prototype._collapseAuthor=function(){var e,t,r;0!==this.state.tmp.name_node.top.blobs.length&&(0===this.nameset_base&&this.Item[this.variables[0]]&&!this._first_creator_variable&&(this._first_creator_variable=this.variables[0]),(this.state[this.state.tmp.area].opt.collapse&&this.state[this.state.tmp.area].opt.collapse.length||this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter.length)&&(this.state.tmp.authorstring_request?(t="",e=this.state.tmp.name_node.top.blobs.slice(-1)[0].blobs,r=this.state.tmp.offset_characters,e&&(t=this.state.output.string(this.state,e,!1)),this.state.tmp.offset_characters=r,this.state.registry.authorstrings[this.Item.id]=t):this.state.tmp.just_looking||this.state.tmp.suppress_decorations||!(this.state[this.state.tmp.area].opt.collapse&&this.state[this.state.tmp.area].opt.collapse.length||this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter)||(t="",e=this.state.tmp.name_node.top.blobs.slice(-1)[0].blobs,r=this.state.tmp.offset_characters,e&&(t=this.state.output.string(this.state,e,!1)),t===this.state.tmp.last_primary_names_string?((this.item["suppress-author"]||this.state[this.state.tmp.area].opt.collapse&&this.state[this.state.tmp.area].opt.collapse.length)&&(this.state.tmp.name_node.top.blobs.pop(),this.state.tmp.name_node.children=[],this.state.tmp.offset_characters=r),this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter&&(this.state.tmp.use_cite_group_delimiter=!0)):(this.state.tmp.last_primary_names_string=t,this.variables.indexOf(this._first_creator_variable)>-1&&this.item&&this.item["suppress-author"]&&"legal_case"!==this.Item.type&&(this.state.tmp.name_node.top.blobs.pop(),this.state.tmp.name_node.children=[],this.state.tmp.offset_characters=r,this.state.tmp.term_predecessor=!1),this.state.tmp.have_collapsed=!1,this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter&&(this.state.tmp.use_cite_group_delimiter=!1)))))},g.NameOutput.prototype.isPerson=function(e){return!(e.literal||!e.given&&e.family&&e.isInstitution)},g.NameOutput.prototype.truncatePersonalNameLists=function(){var e,t,r,i;for(e in this.freeters_count={},this.persons_count={},this.institutions_count={},this.freeters)this.freeters.hasOwnProperty(e)&&(this.freeters_count[e]=this.freeters[e].length,this.freeters[e]=this._truncateNameList(this.freeters,e));for(e in this.persons)if(this.persons.hasOwnProperty(e))for(this.institutions_count[e]=this.institutions[e].length,this._truncateNameList(this.institutions,e),this.persons[e]=this.persons[e].slice(0,this.institutions[e].length),this.persons_count[e]=[],s=0,n=this.persons[e].length;s<n;s+=1)this.persons_count[e][s]=this.persons[e][s].length,this.persons[e][s]=this._truncateNameList(this.persons,e,s);if(i=!(!this.state.opt.development_extensions.etal_min_etal_usefirst_hack||1!==this.etal_min||1!==this.etal_use_first||this.state.tmp.extension||this.state.tmp.just_looking)&&e,i||this._please_chop)for(t=0,r=this.variables.length;t<r;t+=1){e=this.variables[t],this.freeters[e].length&&(this._please_chop===e?(this.freeters[e]=this.freeters[e].slice(1),this.freeters_count[e]+=-1,this._please_chop=!1):i&&!this._please_chop&&(this.freeters[e]=this.freeters[e].slice(0,1),this.freeters_count[e]=1,this.institutions[e]=[],this.persons[e]=[],this._please_chop=i));for(var s=0,n=this.persons[e].length;s<n;s++)if(this.persons[e][s].length){if(this._please_chop===e){this.persons[e][s]=this.persons[e][s].slice(1),this.persons_count[e][s]+=-1,this._please_chop=!1;break}if(i&&!this._please_chop){this.freeters[e]=this.persons[e][s].slice(0,1),this.freeters_count[e]=1,this.institutions[e]=[],this.persons[e]=[],[],this._please_chop=i;break}}this.institutions[e].length&&(this._please_chop===e?(this.institutions[e]=this.institutions[e].slice(1),this.institutions_count[e]+=-1,this._please_chop=!1):i&&!this._please_chop&&(this.institutions[e]=this.institutions[e].slice(0,1),this.institutions_count[e]=1,[],this._please_chop=i))}for(t=0,r=this.variables.length;t<r;t+=1){this.institutions[e].length&&(this.nameset_offset+=1);for(s=0,n=this.persons[e].length;s<n;s++)this.persons[e][s].length&&(this.nameset_offset+=1)}},g.NameOutput.prototype._truncateNameList=function(e,t,r){var i;if(i=void 0===r?e[t]:e[t][r],this.state[this.state[this.state.tmp.area].root].opt.max_number_of_names&&i.length>50&&i.length>this.state[this.state[this.state.tmp.area].root].opt.max_number_of_names+2){var s=this.state[this.state[this.state.tmp.area].root].opt.max_number_of_names;i=i.slice(0,s+1).concat(i.slice(-1))}return i},g.NameOutput.prototype.divideAndTransliterateNames=function(){var e,t,r,i,s=this.Item,n=this.variables;for(this.varnames=n.slice(),this.freeters={},this.persons={},this.institutions={},e=0,t=n.length;e<t;e+=1){var a=n[e];this.variable_offset[a]=this.nameset_offset;var o=this._normalizeVariableValue(s,a);if(this.name.strings["suppress-min"]&&o.length>=this.name.strings["suppress-min"]&&(o=[]),this.name.strings["suppress-max"]&&o.length<=this.name.strings["suppress-max"]&&(o=[]),this._getFreeters(a,o),this._getPersonsAndInstitutions(a,o),this.state.opt.development_extensions.spoof_institutional_affiliations)if(0===this.name.strings["suppress-min"])for(this.freeters[a]=[],r=0,i=this.persons[a].length;r<i;r+=1)this.persons[a][r]=[];else if(0===this.institution.strings["suppress-min"]){for(this.institutions[a]=[],this.freeters[a]=this.freeters[a].concat(this.persons[a]),r=0,i=this.persons[a].length;r<i;r+=1)for(var l=0,u=this.persons[a][r].length;l<u;l+=1)this.freeters[a].push(this.persons[a][r][l]);this.persons[a]=[]}}},g.NameOutput.prototype._normalizeVariableValue=function(e,t){var r;return"string"==typeof e[t]||"number"==typeof e[t]?(g.debug('name variable "'+t+'" is string or number, not array. Attempting to fix.'),r=[{literal:e[t]+""}]):e[t]?"number"!=typeof e[t].length?(g.debug('name variable "'+t+'" is object, not array. Attempting to fix.'),e[t]=[e[t]],r=e[t].slice()):r=e[t].slice():r=[],r},g.NameOutput.prototype._getFreeters=function(e,t){if(this.freeters[e]=[],this.state.opt.development_extensions.spoof_institutional_affiliations)for(var r=t.length-1;r>-1&&this.isPerson(t[r]);r--){var i=this._checkNickname(t.pop());i&&this.freeters[e].push(i)}else for(r=t.length-1;r>-1;r--){i=t.pop();if(this.isPerson(i))i=this._checkNickname(i);this.freeters[e].push(i)}this.freeters[e].reverse(),this.freeters[e].length&&(this.nameset_offset+=1)},g.NameOutput.prototype._getPersonsAndInstitutions=function(e,t){if(this.persons[e]=[],this.institutions[e]=[],this.state.opt.development_extensions.spoof_institutional_affiliations){for(var r=[],i=!1,s=!0,n=t.length-1;n>-1;n+=-1)if(this.isPerson(t[n])){var a=this._checkNickname(t[n]);a&&r.push(a)}else i=!0,this.institutions[e].push(t[n]),s||(r.reverse(),this.persons[e].push(r),r=[]),s=!1;i&&(r.reverse(),this.persons[e].push(r),this.persons[e].reverse(),this.institutions[e].reverse())}},g.NameOutput.prototype._clearValues=function(e){for(var t=e.length-1;t>-1;t+=-1)e.pop()},g.NameOutput.prototype._checkNickname=function(e){if(["interview","personal_communication"].indexOf(this.Item.type)>-1){var t="";if(t=g.Util.Names.getRawName(e),t&&this.state.sys.getAbbreviation&&(!this.item||!this.item["suppress-author"])){var r=t;this.state.sys.normalizeAbbrevsKey&&(r=this.state.sys.normalizeAbbrevsKey("author",t)),this.state.transform.loadAbbreviation("default","nickname",r,this.Item.language);var i=this.state.transform.abbrevs.default.nickname[r];i&&(e="!here>>>"!==i&&{family:i,given:""})}}return e},g.NameOutput.prototype._purgeEmptyBlobs=function(e){for(var t=e.length-1;t>-1;t+=-1)e[t]&&0!==e[t].length&&e[t].blobs.length||(e=e.slice(0,t).concat(e.slice(t+1)));return e},g.NameOutput.prototype.joinPersons=function(e,t,r,i){var s;return e=this._purgeEmptyBlobs(e),i||(i="name"),s=void 0===r?1===this.etal_spec[t].freeters?this._joinEtAl(e):2===this.etal_spec[t].freeters?this._joinEllipsis(e):this.state.tmp.sort_key_flag?this._join(e,this.state.inheritOpt(this.name,"delimiter","name-delimiter",", ")):this._joinAnd(e):1===this.etal_spec[t].persons[r]?this._joinEtAl(e):2===this.etal_spec[t].persons[r]?this._joinEllipsis(e):this.state.tmp.sort_key_flag?this._join(e,this.state.inheritOpt(this.name,"delimiter","name-delimiter",", ")):this._joinAnd(e),s},g.NameOutput.prototype.joinInstitutionSets=function(e,t){var r;return e=this._purgeEmptyBlobs(e),r=1===this.etal_spec[t].institutions?this._joinEtAl(e,"institution"):2===this.etal_spec[t].institutions?this._joinEllipsis(e,"institution"):this._joinAnd(e),r},g.NameOutput.prototype.joinPersonsAndInstitutions=function(e){e=this._purgeEmptyBlobs(e);var t=this._join(e,this.state.tmp.name_delimiter);return t.isInstitution=!0,t},g.NameOutput.prototype.joinFreetersAndInstitutionSets=function(e){e=this._purgeEmptyBlobs(e);var t=this._join(e,"[never here]",this.with.single,this.with.multiple);return t},g.NameOutput.prototype._getAfterInvertedName=function(e,t,r){if(r&&e.length>1&&"after-inverted-name"===this.state.inheritOpt(this.name,"delimiter-precedes-last")){var i=e[e.length-2];i.blobs.length>0&&i.blobs[0].isInverted&&(r.strings.prefix=t)}return r},g.NameOutput.prototype._getAndJoin=function(e,t){var r=!1;if(e.length>1){var i="single";e.length>2&&(i="multiple"),r=e[e.length-1].isInstitution?this.institution.and[i]:this.name.and[i],r=JSON.parse(JSON.stringify(r)),r=this._getAfterInvertedName(e,t,r)}return r},g.NameOutput.prototype._joinEtAl=function(e){var t=this.state.inheritOpt(this.name,"delimiter","name-delimiter",", "),r=this._join(e,t);return this.state.output.openLevel(this._getToken("name")),this.state.output.current.value().strings.delimiter="",this.state.output.append(r,"literal",!0),e.length>1?this.state.output.append(this["et-al"].multiple,"literal",!0):1===e.length&&this.state.output.append(this["et-al"].single,"literal",!0),this.state.output.closeLevel(),this.state.output.pop()},g.NameOutput.prototype._joinEllipsis=function(e){var t=this.state.inheritOpt(this.name,"delimiter","name-delimiter",", "),r=!1;if(e.length>1){var i="single";e.length>2&&(i="multiple"),r=JSON.parse(JSON.stringify(this.name.ellipsis[i])),r=this._getAfterInvertedName(e,t,r)}return this._join(e,t,r)},g.NameOutput.prototype._joinAnd=function(e){var t=this.state.inheritOpt(this.name,"delimiter","name-delimiter",", "),r=this._getAndJoin(e,t);return this._join(e,t,r)},g.NameOutput.prototype._join=function(e,t,r){if(!e)return!1;if(e=this._purgeEmptyBlobs(e),!e.length)return!1;if(e.length>1)if(2===e.length)r?e=[e[0],r,e[1]]:e[0].strings.suffix+=t;else{var i;i=r?1:0;for(var s=e.pop(),n=0,a=e.length-i;n<a;n++)e[n].strings.suffix+=t;e.push(r),e.push(s)}for(this.state.output.openLevel(),n=0,a=e.length;n<a;n+=1)this.state.output.append(e[n],!1,!0);return this.state.output.closeLevel(),this.state.output.pop()},g.NameOutput.prototype._getToken=function(e){var t=this[e];if("institution"===e){var r=new g.Token;return r}return t},g.NameOutput.prototype.checkCommonAuthor=function(e){if(!e)return!1;var t=!1;if(2===this.variables.length){var r=this.variables,i=r.slice();i.sort(),t=i.join("")}if(!t)return!1;var s=!1;if(this.state.locale[this.state.opt.lang].terms[t]&&(s=!0),!s)return this.state.tmp.done_vars.push(this.variables[0]),this.state.tmp.done_vars.push(this.variables[1]),!1;var n=this.Item[this.variables[0]],a=this.Item[this.variables[1]],o=this._compareNamesets(n,a);return!0===o&&(this.state.tmp.done_vars.push(this.variables[0]),this.state.tmp.done_vars.push(this.variables[1])),!o},g.NameOutput.prototype.setCommonTerm=function(){var e=this.variables,t=e.slice();if(t.sort(),this.common_term=t.join(""),this.common_term){var r=!1;if(this.label&&this.label[this.variables[0]]&&(this.label[this.variables[0]].before?r=this.state.getTerm(this.common_term,this.label[this.variables[0]].before.strings.form,0):this.label[this.variables[0]].after&&(r=this.state.getTerm(this.common_term,this.label[this.variables[0]].after.strings.form,0))),!this.state.locale[this.state.opt.lang].terms[this.common_term]||!r||this.variables.length<2)this.common_term=!1;else for(var i=0,s=this.variables.length-1;i<s;i+=1){var n=this.variables[i],a=this.variables[i+1];if(this.freeters[n].length||this.freeters[a].length){if(this.etal_spec[n].freeters!==this.etal_spec[a].freeters||!this._compareNamesets(this.freeters[n],this.freeters[a]))return void(this.common_term=!1);1}if(this.persons[n].length!==this.persons[a].length)return void(this.common_term=!1);for(var o=0,l=this.persons[n].length;o<l;o+=1)if(this.etal_spec[n].persons[o]!==this.etal_spec[a].persons[o]||!this._compareNamesets(this.persons[n][o],this.persons[a][o]))return void(this.common_term=!1)}}},g.NameOutput.prototype._compareNamesets=function(e,t){if(!e||!t||e.length!==t.length)return!1;for(var r=0,i=t.length;r<i;r+=1)for(var s=0,n=g.NAME_PARTS.length;s<n;s+=1){var a=g.NAME_PARTS[s];if(!e[r]||e[r][a]!=t[r][a])return!1}return!0},g.NameOutput.prototype.constrainNames=function(){var e;this.names_count=0;for(var t=0,r=this.variables.length;t<r;t+=1){var i=this.variables[t];e=this.nameset_base+t,this.freeters[i].length&&(this.state.tmp.names_max.push(this.freeters[i].length,"literal"),this._imposeNameConstraints(this.freeters,this.freeters_count,i,e),this.names_count+=this.freeters[i].length),this.institutions[i].length&&(this.state.tmp.names_max.push(this.institutions[i].length,"literal"),this._imposeNameConstraints(this.institutions,this.institutions_count,i,e),this.persons[i]=this.persons[i].slice(0,this.institutions[i].length),this.names_count+=this.institutions[i].length);for(var s=0,n=this.persons[i].length;s<n;s+=1)this.persons[i][s].length&&(this.state.tmp.names_max.push(this.persons[i][s].length,"literal"),this._imposeNameConstraints(this.persons[i],this.persons_count[i],s,e),this.names_count+=this.persons[i][s].length)}},g.NameOutput.prototype._imposeNameConstraints=function(e,t,r,i){var s=e[r],n=this.state.tmp["et-al-min"];this.state.tmp.suppress_decorations?this.state.tmp.disambig_request&&this.state.tmp.disambig_request.names[i]?n=this.state.tmp.disambig_request.names[i]:t[r]>=this.etal_min&&(n=this.etal_use_first):(this.state.tmp.disambig_request&&this.state.tmp.disambig_request.names[i]>this.etal_use_first?n=t[r]<this.etal_min?t[r]:this.state.tmp.disambig_request.names[i]:t[r]>=this.etal_min&&(n=this.etal_use_first),this.etal_use_last&&n>this.etal_min-2&&(n=this.etal_min-2));var a=this.etal_min>=this.etal_use_first,o=t[r]>n;n>t[r]&&(n=s.length),a&&o&&(this.etal_use_last?e[r]=s.slice(0,n).concat(s.slice(-1)):e[r]=s.slice(0,n)),this.state.tmp.disambig_settings.names[i]=e[r].length,this.state.disambiguate.padBase(this.state.tmp.disambig_settings)},g.NameOutput.prototype.disambigNames=function(){for(var e,t=0,r=this.variables.length;t<r;t+=1){var i=this.variables[t];if(e=this.nameset_base+t,this.freeters[i].length&&this._runDisambigNames(this.freeters[i],e),this.institutions[i].length){void 0===this.state.tmp.disambig_settings.givens[e]&&(this.state.tmp.disambig_settings.givens[e]=[]);for(var s=0,n=this.institutions[i].length;s<n;s+=1)void 0===this.state.tmp.disambig_settings.givens[e][s]&&this.state.tmp.disambig_settings.givens[e].push(2)}for(s=0,n=this.persons[i].length;s<n;s+=1)this.persons[i][s].length&&this._runDisambigNames(this.persons[i][s],e)}},g.NameOutput.prototype._runDisambigNames=function(e,t){var r,i,s,n,a,o,l;for(a=0,o=e.length;a<o;a+=1)if(e[a].given||e[a].family){if(s=this.state.inheritOpt(this.name,"initialize-with"),this.state.registry.namereg.addname(""+this.Item.id,e[a],a),r=this.state.tmp.disambig_settings.givens[t],void 0===r)for(var u=0,c=t+1;u<c;u+=1)this.state.tmp.disambig_settings.givens[u]||(this.state.tmp.disambig_settings.givens[u]=[]);if(r=this.state.tmp.disambig_settings.givens[t][a],void 0===r&&(i=this.state.inheritOpt(this.name,"form","name-form","long"),n=this.state.registry.namereg.evalname(""+this.Item.id,e[a],a,0,i,s),this.state.tmp.disambig_settings.givens[t].push(n)),i=this.state.inheritOpt(this.name,"form","name-form","long"),l=this.state.registry.namereg.evalname(""+this.Item.id,e[a],a,0,i,s),this.state.tmp.disambig_request){var m=this.state.tmp.disambig_settings.givens[t][a];1!==m||"by-cite"!==this.state.citation.opt["givenname-disambiguation-rule"]||void 0!==this.state.inheritOpt(this.name,"initialize-with")&&void 0!==e[a].given||(m=2),n=m,this.state.opt["disambiguate-add-givenname"]&&e[a].given&&(n=this.state.registry.namereg.evalname(""+this.Item.id,e[a],a,n,this.state.inheritOpt(this.name,"form","name-form","long"),this.state.inheritOpt(this.name,"initialize-with")))}else n=l;!this.state.tmp.just_looking&&this.item&&this.item.position===g.POSITION_FIRST&&l>n&&(n=l),this.state.tmp.sort_key_flag||(this.state.tmp.disambig_settings.givens[t][a]=n,"string"!=typeof s||void 0!==this.name.strings.initialize&&!0!==this.name.strings.initialize||(this.state.tmp.disambig_settings.use_initials=!0))}},g.NameOutput.prototype.getEtAlConfig=function(){var e=this.item;this["et-al"]={},this.state.output.append(this.etal_term,this.etal_style,!0),this["et-al"].single=this.state.output.pop(),this["et-al"].single.strings.suffix=this.etal_suffix,this["et-al"].single.strings.prefix=this.etal_prefix_single,this.state.output.append(this.etal_term,this.etal_style,!0),this["et-al"].multiple=this.state.output.pop(),this["et-al"].multiple.strings.suffix=this.etal_suffix,this["et-al"].multiple.strings.prefix=this.etal_prefix_multiple,void 0===e&&(e={}),e.position?(this.state.inheritOpt(this.name,"et-al-subsequent-min")?this.etal_min=this.state.inheritOpt(this.name,"et-al-subsequent-min"):this.etal_min=this.state.inheritOpt(this.name,"et-al-min"),this.state.inheritOpt(this.name,"et-al-subsequent-use-first")?this.etal_use_first=this.state.inheritOpt(this.name,"et-al-subsequent-use-first"):this.etal_use_first=this.state.inheritOpt(this.name,"et-al-use-first")):(this.state.tmp["et-al-min"]?this.etal_min=this.state.tmp["et-al-min"]:this.etal_min=this.state.inheritOpt(this.name,"et-al-min"),this.state.tmp["et-al-use-first"]?this.etal_use_first=this.state.tmp["et-al-use-first"]:this.etal_use_first=this.state.inheritOpt(this.name,"et-al-use-first"),"boolean"==typeof this.state.tmp["et-al-use-last"]?this.etal_use_last=this.state.tmp["et-al-use-last"]:this.etal_use_last=this.state.inheritOpt(this.name,"et-al-use-last")),this.state.tmp["et-al-min"]||(this.state.tmp["et-al-min"]=this.etal_min)},g.NameOutput.prototype.setEtAlParameters=function(){var e,t,r,i;for(e=0,t=this.variables.length;e<t;e+=1){var s=this.variables[e];for(void 0===this.etal_spec[s]&&(this.etal_spec[s]={freeters:0,institutions:0,persons:[]}),this.etal_spec[this.nameset_base+e]=this.etal_spec[s],this.freeters[s].length&&this._setEtAlParameter("freeters",s),r=0,i=this.persons[s].length;r<i;r+=1)void 0===this.etal_spec[s][r]&&(this.etal_spec[s].persons[r]=0),this._setEtAlParameter("persons",s,r);this.institutions[s].length&&this._setEtAlParameter("institutions",s)}},g.NameOutput.prototype._setEtAlParameter=function(e,t,r){var i,s;"persons"===e?(i=this.persons[t][r],s=this.persons_count[t][r]):(i=this[e][t],s=this[e+"_count"][t]),i.length<s&&!this.state.tmp.sort_key_flag?this.etal_use_last?"persons"===e?this.etal_spec[t].persons[r]=2:this.etal_spec[t][e]=2:"persons"===e?this.etal_spec[t].persons[r]=1:this.etal_spec[t][e]=1:"persons"===e?this.etal_spec[t].persons[r]=0:this.etal_spec[t][e]=0},g.NameOutput.prototype.renderAllNames=function(){for(var e,t=0,r=this.variables.length;t<r;t+=1){var i=this.variables[t];(this.freeters[i].length||this.institutions[i].length)&&(this.state.tmp.group_context.tip.condition||(this.state.tmp.just_did_number=!1)),e=this.nameset_base+t,this.freeters[i].length&&(this.freeters[i]=this._renderNames(i,this.freeters[i],e));for(var s=0,n=this.institutions[i].length;s<n;s+=1)this.persons[i][s]=this._renderNames(i,this.persons[i][s],e,s)}this.renderInstitutionNames()},g.NameOutput.prototype.renderInstitutionNames=function(){for(var e=0,t=this.variables.length;e<t;e+=1)for(var r=this.variables[e],i=0,s=this.institutions[r].length;i<s;i+=1){var n,a=this.institutions[r][i];n=this.state.tmp.extension?["sort"]:a.isInstitution||a.literal?this.state.opt["cite-lang-prefs"].institutions:this.state.opt["cite-lang-prefs"].persons;var o={primary:"locale-orig",secondary:!1,tertiary:!1};if(n)for(var l=["primary","secondary","tertiary"],u=0,c=l.length;u<c&&!(n.length-1<u);u+=1)n[u]&&(o[l[u]]="locale-"+n[u]);else o.primary="locale-translat";"bibliography"===this.state.tmp.area||"citation"===this.state.tmp.area&&"note"===this.state.opt.xclass&&this.item&&!this.item.position||(o.secondary=!1,o.tertiary=!1),this.setRenderedName(a);var m=this._renderInstitutionName(r,a,o,i);this.institutions[r][i]=m}},g.NameOutput.prototype._renderInstitutionName=function(e,t,r,i){var s,n,a,o,l,u,c=this.getName(t,r.primary,!0),m=c.name,p=c.usedOrig;if(m&&(m=this.fixupInstitution(m,e,i)),h=!1,r.secondary){c=this.getName(t,r.secondary,!1,p);var h=c.name;p=c.usedOrig,h&&(h=this.fixupInstitution(h,e,i))}s=!1,r.tertiary&&(c=this.getName(t,r.tertiary,!1,p),s=c.name,s&&(s=this.fixupInstitution(s,e,i)));var f={l:{pri:!1,sec:!1,ter:!1},s:{pri:!1,sec:!1,ter:!1}};switch(m&&(f.l.pri=m.long,f.s.pri=m.short.length?m.short:m.long),h&&(f.l.sec=h.long,f.s.sec=h.short.length?h.short:h.long),s&&(f.l.ter=s.long,f.s.ter=s.short.length?s.short:s.long),this.institution.strings["institution-parts"]){case"short":m.short.length?(a=this._getShortStyle(),o=[this._composeOneInstitutionPart([f.s.pri,f.s.sec,f.s.ter],r,a,e)]):(n=this._getLongStyle(m,e,i),o=[this._composeOneInstitutionPart([f.l.pri,f.l.sec,f.l.ter],r,n,e)]);break;case"short-long":n=this._getLongStyle(m,e,i),a=this._getShortStyle(),l=this._renderOneInstitutionPart(m.short,a),u=this._composeOneInstitutionPart([f.l.pri,f.l.sec,f.l.ter],r,n,e),o=[l,u];break;case"long-short":n=this._getLongStyle(m,e,i),a=this._getShortStyle(),l=this._renderOneInstitutionPart(m.short,a),u=this._composeOneInstitutionPart([f.l.pri,f.l.sec,f.l.ter],r,n,e),o=[u,l];break;default:n=this._getLongStyle(m,e,i),o=[this._composeOneInstitutionPart([f.l.pri,f.l.sec,f.l.ter],r,n,e)]}var d=this._join(o," ");return d&&(d.isInstitution=!0),this.state.tmp.name_node.children.push(d),d},g.NameOutput.prototype._composeOneInstitutionPart=function(e,t,r){var i,s,n,a,o=!1,l=!1,u=!1;if(e[0]){if(i=g.Util.cloneToken(r),
this.state.opt.citeAffixes[t.primary]&&"<i>"===this.state.opt.citeAffixes.institutions[t.primary].prefix){for(var c=!1,m=0,p=i.decorations.length;m<p;m+=1)"@font-style"===r.decorations[m][0]&&"italic"===i.decorations[m][1]&&(c=!0);c||i.decorations.push(["@font-style","italic"])}o=this._renderOneInstitutionPart(e[0],i)}if(e[1]&&(l=this._renderOneInstitutionPart(e[1],r)),e[2]&&(u=this._renderOneInstitutionPart(e[2],r)),l||u){this.state.output.openLevel("empty"),this.state.output.append(o),s=g.Util.cloneToken(r),t.secondary&&(s.strings.prefix=this.state.opt.citeAffixes.institutions[t.secondary].prefix,s.strings.suffix=this.state.opt.citeAffixes.institutions[t.secondary].suffix,s.strings.prefix||(s.strings.prefix=" "));var h=new g.Token;h.decorations.push(["@font-style","normal"]),h.decorations.push(["@font-weight","normal"]),this.state.output.openLevel(h),this.state.output.append(l,s),this.state.output.closeLevel(),n=g.Util.cloneToken(r),t.tertiary&&(n.strings.prefix=this.state.opt.citeAffixes.institutions[t.tertiary].prefix,n.strings.suffix=this.state.opt.citeAffixes.institutions[t.tertiary].suffix,n.strings.prefix||(n.strings.prefix=" "));var f=new g.Token;f.decorations.push(["@font-style","normal"]),f.decorations.push(["@font-weight","normal"]),this.state.output.openLevel(f),this.state.output.append(u,n),this.state.output.closeLevel(),this.state.output.closeLevel(),a=this.state.output.pop()}else a=o;return a},g.NameOutput.prototype._renderOneInstitutionPart=function(e,t){for(var r=0,i=e.length;r<i;r+=1)if(e[r]){var s=e[r];if(this.state.tmp.strip_periods)s=s.replace(/\./g,"");else for(var n=0,a=t.decorations.length;n<a;n+=1)if("@strip-periods"===t.decorations[n][0]&&"true"===t.decorations[n][1]){s=s.replace(/\./g,"");break}this.state.tmp.group_context.tip.variable_success=!0,this.state.tmp.can_substitute.replace(!1,g.LITERAL),"!here>>>"===s?e[r]=!1:(this.state.output.append(s,t,!0),e[r]=this.state.output.pop())}return void 0===this.institution.strings["part-separator"]&&(this.institution.strings["part-separator"]=this.state.tmp.name_delimiter),this._join(e,this.institution.strings["part-separator"])},g.NameOutput.prototype._renderNames=function(e,t,r,i){var s=!1;if(t.length){for(var n=[],a=0,o=t.length;a<o;a+=1){var l,u=t[a];l=this.state.tmp.extension?["sort"]:u.isInstitution||u.literal?this.state.opt["cite-lang-prefs"].institutions:this.state.opt["cite-lang-prefs"].persons;var c={primary:"locale-orig",secondary:!1,tertiary:!1};if(l)for(var m=["primary","secondary","tertiary"],p=0,h=m.length;p<h&&!(l.length-1<p);p+=1)c[m[p]]="locale-"+l[p];else c.primary="locale-translat";if((this.state.tmp.sort_key_flag||"bibliography"!==this.state.tmp.area&&("citation"!==this.state.tmp.area||"note"!==this.state.opt.xclass||!this.item||this.item.position))&&(c.secondary=!1,c.tertiary=!1),this.setRenderedName(u),u.literal||u.isInstitution)n.push(this._renderInstitutionName(e,u,c,i));else{var f=this._renderPersonalName(e,u,c,r,a,i),d=g.Util.cloneToken(this.name);this.state.output.append(f,d,!0),n.push(this.state.output.pop())}}s=this.joinPersons(n,r,i)}return s},g.NameOutput.prototype._renderPersonalName=function(e,t,r,i,s,n){var a=this.getName(t,r.primary,!0),o=this._renderOnePersonalName(a.name,i,s,n),l=!1;r.secondary&&(a=this.getName(t,r.secondary,!1,a.usedOrig),a.name&&(l=this._renderOnePersonalName(a.name,i,s,n)));var u,c=!1;if(r.tertiary&&(a=this.getName(t,r.tertiary,!1,a.usedOrig),a.name&&(c=this._renderOnePersonalName(a.name,i,s,n))),l||c){this.state.output.openLevel("empty"),this.state.output.append(o);var m=new g.Token;r.secondary&&(m.strings.prefix=this.state.opt.citeAffixes.persons[r.secondary].prefix,m.strings.suffix=this.state.opt.citeAffixes.persons[r.secondary].suffix,m.strings.prefix||(m.strings.prefix=" ")),this.state.output.append(l,m);var p=new g.Token;r.tertiary&&(p.strings.prefix=this.state.opt.citeAffixes.persons[r.tertiary].prefix,p.strings.suffix=this.state.opt.citeAffixes.persons[r.tertiary].suffix,p.strings.prefix||(p.strings.prefix=" ")),this.state.output.append(c,p),this.state.output.closeLevel(),u=this.state.output.pop()}else u=o;return u},g.NameOutput.prototype._isRomanesque=function(e){var t,r=2;return e.family.replace(/\"/g,"").match(g.ROMANESQUE_REGEXP)||(r=0),!r&&e.given&&e.given.match(g.STARTSWITH_ROMANESQUE_REGEXP)&&(r=1),2==r&&(e.multi&&e.multi.main?t=e.multi.main.slice(0,2):this.Item.language&&(t=this.Item.language.slice(0,2)),["ja","zh"].indexOf(t)>-1&&(r=1)),r},g.NameOutput.prototype._renderOnePersonalName=function(e,t,r,i){function s(e){return!!e&&("string"==typeof e.blobs?["","'","-"," "].indexOf(e.blobs.slice(-1))>-1:s(e.blobs[e.blobs.length-1]))}var n=e,a=this._droppingParticle(n,t,i),o=this._familyName(n),l=this._nonDroppingParticle(n),u=this._givenName(n,t,r),c=u.blob,m=this._nameSuffix(n);!1===c&&(a=!1,m=!1);var p,h=this.state.inheritOpt(this.name,"sort-separator");h||(h=""),p=n["comma-suffix"]?", ":" ";var f,d,b,y,v,_=this._isRomanesque(n),x=s(l);if(f=["fr","ru","cs"].indexOf(this.state.opt["default-locale"][0].slice(0,2))>-1?"":" ",0===_)d=this._join([l,o,c],"");else if(1===_||n["static-ordering"])b=this._join([l,o],f),d=this._join([b,c]," ");else if(n["reverse-ordering"])b=this._join([l,o],f),d=this._join([c,b]," ");else if(this.state.tmp.sort_key_flag)"never"===this.state.opt["demote-non-dropping-particle"]?(b=this._join([l,o],f),b=this._join([b,a]," "),b=this._join([b,c],this.state.opt.sort_sep),d=this._join([b,m]," ")):(v=this._join([c,a,l]," "),b=this._join([o,v],this.state.opt.sort_sep),d=this._join([b,m]," "));else if("all"===this.state.inheritOpt(this.name,"name-as-sort-order")||"first"===this.state.inheritOpt(this.name,"name-as-sort-order")&&0===r&&(0===i||void 0===i))["Lord","Lady"].indexOf(n.given)>-1&&(h=", "),["always","display-and-sort"].indexOf(this.state.opt["demote-non-dropping-particle"])>-1?(v=this._join([c,a],n["comma-dropping-particle"]+" "),v=this._join([v,l]," "),v&&this.given&&(v.strings.prefix=this.given.strings.prefix,v.strings.suffix=this.given.strings.suffix),o&&this.family&&(o.strings.prefix=this.family.strings.prefix,o.strings.suffix=this.family.strings.suffix),b=this._join([o,v],h),d=this._join([b,m],h)):(y=x?this._join([l,o],""):this._join([l,o],f),y&&this.family&&(y.strings.prefix=this.family.strings.prefix,y.strings.suffix=this.family.strings.suffix),v=this._join([c,a],n["comma-dropping-particle"]+" "),v&&this.given&&(v.strings.prefix=this.given.strings.prefix,v.strings.suffix=this.given.strings.suffix),b=this._join([y,v],h),d=this._join([b,m],h)),d.isInverted=!0;else{if(n["dropping-particle"]&&n.family&&!n["non-dropping-particle"]){var E=n["dropping-particle"],A=["'","","","-"];A.indexOf(E.slice(-1))>-1&&"de"!==E.slice(0,-1)&&(o=this._join([a,o],""),a=!1)}var w;x?(v=this._join([l,o],""),v=this._join([a,v],f)):v=this._join([a,l,o],f),v=this._join([v,m],p),v&&this.family&&(v.strings.prefix=this.family.strings.prefix,v.strings.suffix=this.family.strings.suffix),c&&this.given&&(c.strings.prefix=this.given.strings.prefix,c.strings.suffix=this.given.strings.suffix),v.strings.prefix&&(n["comma-dropping-particle"]=""),w=this.state.inheritOpt(this.name,"initialize-with")&&this.state.inheritOpt(this.name,"initialize-with").match(/[\u00a0\ufeff]/)&&1===u.initializationLevel?f:" ",d=this._join([c,v],n["comma-dropping-particle"]+w)}return this.state.tmp.group_context.tip.variable_success=!0,this.state.tmp.can_substitute.replace(!1,g.LITERAL),this.state.tmp.term_predecessor=!0,this.state.tmp.name_node.children.push(d),d},g.NameOutput.prototype._normalizeNameInput=function(e){var t={literal:e.literal,family:e.family,isInstitution:e.isInstitution,given:e.given,suffix:e.suffix,"comma-suffix":e["comma-suffix"],"non-dropping-particle":e["non-dropping-particle"],"dropping-particle":e["dropping-particle"],"static-ordering":e["static-ordering"],"static-particles":e["static-particles"],"reverse-ordering":e["reverse-ordering"],"full-form-always":e["full-form-always"],"parse-names":e["parse-names"],"comma-dropping-particle":"",block_initialize:e.block_initialize,multi:e.multi};return this._parseName(t),t},g.NameOutput.prototype._stripPeriods=function(e,t){var r=this[e+"_decor"];if(t)if(this.state.tmp.strip_periods)t=t.replace(/\./g,"");else if(r)for(var i=0,s=r.decorations.length;i<s;i+=1)if("@strip-periods"===r.decorations[i][0]&&"true"===r.decorations[i][1]){t=t.replace(/\./g,"");break}return t},g.NameOutput.prototype._nonDroppingParticle=function(e){var t=e["non-dropping-particle"];t&&this.state.tmp.sort_key_flag&&(t=t.replace(/[\'\u2019]/,""));var r=this._stripPeriods("family",t);return!!this.state.output.append(r,this.family_decor,!0)&&this.state.output.pop()},g.NameOutput.prototype._droppingParticle=function(e,t,r){var i=e["dropping-particle"];i&&this.state.tmp.sort_key_flag&&(i=i.replace(/[\'\u2019]/,""));var s=this._stripPeriods("given",i);if(e["dropping-particle"]&&e["dropping-particle"].match(/^et.?al[^a-z]$/))this.state.inheritOpt(this.name,"et-al-use-last")?void 0===r?this.etal_spec[t].freeters=2:this.etal_spec[t].persons=2:void 0===r?this.etal_spec[t].freeters=1:this.etal_spec[t].persons=1,e["comma-dropping-particle"]="";else if(this.state.output.append(s,this.given_decor,!0))return this.state.output.pop();return!1},g.NameOutput.prototype._familyName=function(e){var t=this._stripPeriods("family",e.family);return!!this.state.output.append(t,this.family_decor,!0)&&this.state.output.pop()},g.NameOutput.prototype._givenName=function(e,t,r){var i,s,n,a="long"!==this.state.inheritOpt(this.name,"form","name-form","long"),o=!1!==this.state.inheritOpt(this.name,"initialize"),l="string"==typeof this.state.inheritOpt(this.name,"initialize-with")&&!e.block_initialize;if(e["full-form-always"])n=2;else{s=a?0:l?1:2;var u=this.state.tmp.disambig_settings.givens[t][r];n=u>s?u:s}var c=this.state.citation.opt["givenname-disambiguation-rule"];if(c&&"-with-initials"===c.slice(-14)&&(l=!0),e.family&&1===n)if(l){var m=this.state.inheritOpt(this.name,"initialize-with",!1,"");e.given=g.Util.Names.initializeWith(this.state,e.given,m,!o)}else e.given=g.Util.Names.unInitialize(this.state,e.given);else{if(0===n)return{blob:!1};2===n&&(e.given=g.Util.Names.unInitialize(this.state,e.given))}var p=this._stripPeriods("given",e.given),h=this.state.output.append(p,this.given_decor,!0);return h?(i=this.state.output.pop(),{blob:i,initializationLevel:n}):{blob:!1}},g.NameOutput.prototype._nameSuffix=function(e){var t,r=e.suffix;r&&"string"==typeof this.state.inheritOpt(this.name,"initialize-with")&&(r=g.Util.Names.initializeWith(this.state,r,this.state.inheritOpt(this.name,"initialize-with"),!0)),r=this._stripPeriods("family",r);var i="";r&&"."===r.slice(-1)&&(r=r.slice(0,-1),i=".");var s=this.state.output.append(r,"empty",!0);return!!s&&(t=this.state.output.pop(),t.strings.suffix=i+t.strings.suffix,t)},g.NameOutput.prototype._getLongStyle=function(e){var t;return t=e.short.length&&this.institutionpart["long-with-short"]?this.institutionpart["long-with-short"]:this.institutionpart.long,t||(t=new g.Token),t},g.NameOutput.prototype._getShortStyle=function(){var e;return e=this.institutionpart.short?this.institutionpart.short:new g.Token,e},g.NameOutput.prototype._parseName=function(e){if(!e["parse-names"]&&void 0!==e["parse-names"])return e;var t;e.family&&!e.given&&e.isInstitution&&(e.literal=e.family,e.family=void 0,e.isInstitution=void 0),e.family&&'"'===e.family.slice(0,1)&&'"'===e.family.slice(-1)||!e["parse-names"]&&void 0!==e["parse-names"]?(e.family=e.family.slice(1,-1),t=!0,e["parse-names"]=0):t=!1,this.state.opt.development_extensions.parse_names&&!e["non-dropping-particle"]&&e.family&&!t&&e.given&&(e["static-particles"]||g.parseParticles(e,!0))},g.NameOutput.prototype.getName=function(e,t,r,i){if(i&&"locale-orig"===t)return{name:!1,usedOrig:i};e.family||(e.family=""),e.given||(e.given="");var s={};s["static-ordering"]=this.getStaticOrder(e);var n,a,o=!0;if("locale-orig"!==t&&(o=!1,e.multi))for(var l=this.state.opt[t],u=0,c=l.length;u<c;u+=1)if(n=l[u],e.multi._key[n]){o=!0;var m=e.isInstitution;e=e.multi._key[n],e.isInstitution=m,s=this.getNameParams(n),s.transliterated=!0;break}return o||(n=!1,e.multi&&e.multi.main?n=e.multi.main:this.Item.language&&(n=this.Item.language),n&&(s=this.getNameParams(n))),r||o?(e.family||(e.family=""),e.given||(e.given=""),e.literal&&(delete e.family,delete e.given),e={family:e.family,given:e.given,"non-dropping-particle":e["non-dropping-particle"],"dropping-particle":e["dropping-particle"],suffix:e.suffix,"static-ordering":s["static-ordering"],"static-particles":e["static-particles"],"reverse-ordering":s["reverse-ordering"],"full-form-always":s["full-form-always"],"parse-names":e["parse-names"],"comma-suffix":e["comma-suffix"],"comma-dropping-particle":e["comma-dropping-particle"],transliterated:s.transliterated,block_initialize:s["block-initialize"],literal:e.literal,isInstitution:e.isInstitution,multi:e.multi},!e.literal&&!e.given&&e.family&&e.isInstitution&&(e.literal=e.family),e.literal&&(delete e.family,delete e.given),e=this._normalizeNameInput(e),a=i||!o,{name:e,usedOrig:a}):{name:!1,usedOrig:i}},g.NameOutput.prototype.getNameParams=function(e){var t={},r=g.localeResolve(this.Item.language,this.state.opt["default-locale"][0]),i=this.state.locale[r.best]?r.best:this.state.opt["default-locale"][0],s=this.state.locale[i].opts["name-as-sort-order"],n=this.state.locale[i].opts["name-as-reverse-order"],a=this.state.locale[i].opts["name-never-short"],o=e.split("-")[0];return s&&s[o]&&(t["static-ordering"]=!0,t["reverse-ordering"]=!1),n&&n[o]&&(t["reverse-ordering"]=!0,t["static-ordering"]=!1),a&&a[o]&&(t["full-form-always"]=!0),t["static-ordering"]&&(t["block-initialize"]=!0),t},g.NameOutput.prototype.setRenderedName=function(e){if("bibliography"===this.state.tmp.area){for(var t="",r=0,i=g.NAME_PARTS.length;r<i;r+=1)e[g.NAME_PARTS[r]]&&(t+=e[g.NAME_PARTS[r]]);this.state.tmp.rendered_name.push(t)}},g.NameOutput.prototype.fixupInstitution=function(e,t,r){!e.literal&&e.family&&(e.literal=e.family,delete e.family);var i=e.literal,s=i,n={long:i.split(/\s*\|\s*/),short:s.split(/\s*\|\s*/)};if(this.state.sys.getAbbreviation){if("short"===this.institution.strings.form){let e=this.Item.jurisdiction;e=this.state.transform.loadAbbreviation(e,"institution-entire",i,this.Item.language),this.state.transform.abbrevs[e]["institution-entire"][i]?i=this.state.transform.abbrevs[e]["institution-entire"][i]:(e=this.Item.jurisdiction,e=this.state.transform.loadAbbreviation(e,"institution-part",i,this.Item.language),this.state.transform.abbrevs[e]["institution-part"][i]&&(i=this.state.transform.abbrevs[e]["institution-part"][i])),i=this._quashChecks(e,i)}if(["short","short-long","long-short"].indexOf(this.institution.strings["institution-parts"])>-1){let e=this.Item.jurisdiction;e=this.state.transform.loadAbbreviation(e,"institution-part",s,this.Item.language),this.state.transform.abbrevs[e]["institution-part"][s]&&(s=this.state.transform.abbrevs[e]["institution-part"][s]),s=this._quashChecks(e,s),["short-long","long-short"].indexOf(this.institution.strings["institution-parts"])>-1&&s===i&&(s="")}if(n.long=i.split(/\s*\|\s*/),n.short=s.split(/\s*\|\s*/),["short","short-long","long-short"].indexOf(this.institution.strings["institution-parts"])>-1)for(var a=n.short.length-1;a>-1;a--){let e=this.Item.jurisdiction;var o=n.short[a];if(e=this.state.transform.loadAbbreviation(e,"institution-part",o,this.Item.language),this.state.transform.abbrevs[e]["institution-part"][o]&&(n.short[a]=this.state.transform.abbrevs[e]["institution-part"][o]),n.short[a].indexOf("|")>-1){let e=n.short,t=e[a].split(/\s*\|\s*/);n.short=e.slice(0,a).concat(t).concat(e.slice(a+1))}}if(this.state.opt.development_extensions.legacy_institution_name_ordering&&n.short.reverse(),n.short=this._trimInstitution(n.short),this.institution.strings["reverse-order"]&&n.short.reverse(),!this.state.tmp.just_looking&&this.Item.jurisdiction){let e=this.Item.jurisdiction;var l=this.state.tmp.abbrev_trimmer;if(l&&l[e]&&l[e][t])for(var u=0,c=n.short.length;u<c;u++){var m=n.short[u];n.short[u]=m.replace(l[e][t],"").trim()}}}return this.state.opt.development_extensions.legacy_institution_name_ordering&&n.long.reverse(),n.long=this._trimInstitution(n.long),this.institution.strings["reverse-order"]&&n.long.reverse(),n},g.NameOutput.prototype.getStaticOrder=function(e,t){var r=!1;return!t&&e["static-ordering"]?r=!0:0===this._isRomanesque(e)?r=!0:(!e.multi||!e.multi.main)&&this.Item.language&&["vi","hu"].indexOf(this.Item.language)>-1?r=!0:e.multi&&e.multi.main&&["vi","hu"].indexOf(e.multi.main.slice(0,2))>-1?r=!0:this.state.opt["auto-vietnamese-names"]&&g.VIETNAMESE_NAMES.exec(e.family+" "+e.given)&&g.VIETNAMESE_SPECIALS.exec(e.family+e.given)&&(r=!0),r},g.NameOutput.prototype._quashChecks=function(e,t){t=this.state.transform.quashCheck(e,t);var r=t.split(/>>[0-9]{4}>>/),i=t.match(/>>([0-9]{4})>>/);t=r.pop();var s=this.Item["original-date"]?this.Item["original-date"]:this.Item.issued;if(s&&(s=parseInt(s.year,10),s=!isNaN(s)&&s),s){if(r.length>0)for(var n=i.length-1;n>0&&!(s>=parseInt(i[n],10));n--)t=r.pop();t=t.replace(/\s*\|\s*/g,"|")}return t},g.NameOutput.prototype._trimInstitution=function(e){var t=!1,r=!1,i=!1,s=!1,n=e.slice();if(this.institution){if(void 0!==this.institution.strings["use-first"]&&(t=this.institution.strings["use-first"]),void 0!==this.institution.strings["use-last"]&&(i=this.institution.strings["use-last"]),void 0!==this.institution.strings["stop-first"]&&(s=this.institution.strings["stop-first"]),void 0!==this.institution.strings["stop-last"]&&(r=this.institution.strings["stop-last"]),t&&(r&&(n=n.slice(0,-1*r)),n=n.slice(0,t)),i){var a=e.slice();t?s=t:n=[],s&&(a=a.slice(s)),a=a.slice(-1*i),n=n.concat(a)}e=n}return e},g.PublisherOutput=function(e,t){this.state=e,this.group_tok=t,this.varlist=[]},g.PublisherOutput.prototype.render=function(){this.clearVars(),this.composeAndBlob(),this.composeElements(),this.composePublishers(),this.joinPublishers()},g.PublisherOutput.prototype.composeAndBlob=function(){this.and_blob={};var e=!1;"text"===this.group_tok.strings.and?e=this.state.getTerm("and"):"symbol"===this.group_tok.strings.and&&(e="&");var t=new g.Token;t.strings.suffix=" ",t.strings.prefix=" ",this.state.output.append(e,t,!0);var r=this.state.output.pop();t.strings.prefix=this.group_tok.strings["subgroup-delimiter"],this.state.output.append(e,t,!0);var i=this.state.output.pop();this.and_blob.single=!1,this.and_blob.multiple=!1,e&&("always"===this.group_tok.strings["subgroup-delimiter-precedes-last"]?this.and_blob.single=i:"never"===this.group_tok.strings["subgroup-delimiter-precedes-last"]?(this.and_blob.single=r,this.and_blob.multiple=r):(this.and_blob.single=r,this.and_blob.multiple=i))},g.PublisherOutput.prototype.composeElements=function(){for(var e=0,t=2;e<t;e+=1)for(var r=["publisher","publisher-place"][e],i=0,s=this["publisher-list"].length;i<s;i+=1){var n=this[r+"-list"][i],a=this[r+"-token"];this.state.output.append(n,a,!0),this[r+"-list"][i]=this.state.output.pop()}},g.PublisherOutput.prototype.composePublishers=function(){for(var e,t=0,r=this["publisher-list"].length;t<r;t+=1)e=[this[this.varlist[0]+"-list"][t],this[this.varlist[1]+"-list"][t]],this["publisher-list"][t]=this._join(e,this.group_tok.strings.delimiter)},g.PublisherOutput.prototype.joinPublishers=function(){var e=this["publisher-list"],t=this._join(e,this.group_tok.strings["subgroup-delimiter"],this.and_blob.single,this.and_blob.multiple,this.group_tok);this.state.output.append(t,"literal")},g.PublisherOutput.prototype._join=g.NameOutput.prototype._join,g.PublisherOutput.prototype._getToken=g.NameOutput.prototype._getToken,g.PublisherOutput.prototype.clearVars=function(){this.state.tmp["publisher-list"]=!1,this.state.tmp["publisher-place-list"]=!1,this.state.tmp["publisher-group-token"]=!1,this.state.tmp["publisher-token"]=!1,this.state.tmp["publisher-place-token"]=!1},g.evaluateLabel=function(e,t,r,i){var s;"locator"===e.strings.term?(i&&i.label&&(s="sub verbo"===i.label?"sub-verbo":i.label),s||(s="page")):s=e.strings.term;var n=e.strings.plural;if("number"!=typeof n){var a=i&&"locator"===e.strings.term?i:r;a[e.strings.term]&&(t.processNumber(!1,a,e.strings.term,r.type),n=t.tmp.shadow_numbers[e.strings.term].plural,t.tmp.shadow_numbers[e.strings.term].labelForm||t.tmp.shadow_numbers[e.strings.term].labelDecorations||(e.strings.form?t.tmp.shadow_numbers[e.strings.term].labelForm=e.strings.form:t.tmp.group_context.tip.label_form&&(t.tmp.shadow_numbers[e.strings.term].labelForm=t.tmp.group_context.tip.label_form),t.tmp.shadow_numbers[e.strings.term].labelCapitalizeIfFirst=e.strings.capitalize_if_first,t.tmp.shadow_numbers[e.strings.term].labelDecorations=e.decorations.slice()),["locator","number","page"].indexOf(e.strings.term)>-1&&t.tmp.shadow_numbers[e.strings.term].label&&(s=t.tmp.shadow_numbers[e.strings.term].label),e.decorations&&t.opt.development_extensions.csl_reverse_lookup_support&&(e.decorations.reverse(),e.decorations.push(["@showid","true",e.cslid]),e.decorations.reverse()))}return g.castLabel(t,e,s,n,g.TOLERANT)},g.castLabel=function(e,t,r,i,s){var n=t.strings.form,a=t.strings.capitalize_if_first;e.tmp.group_context.tip.label_form&&("static"===n?e.tmp.group_context.tip.label_static=!0:n=e.tmp.group_context.tip.label_form),e.tmp.group_context.tip.label_capitalize_if_first&&(a=e.tmp.group_context.tip.label_capitalize_if_first);var o=e.getTerm(r,n,i,!1,s,t.default_locale);if(a&&(o=g.Output.Formatters["capitalize-first"](e,o)),e.tmp.strip_periods)o=o.replace(/\./g,"");else for(var l=0,u=t.decorations.length;l<u;l+=1)if("@strip-periods"===t.decorations[l][0]&&"true"===t.decorations[l][1]){o=o.replace(/\./g,"");break}return o},g.Node.name={build:function(e,t){var r,i;[g.SINGLETON,g.START].indexOf(this.tokentype)>-1&&(void 0===e.tmp.root?(i=void 0,e.tmp.root="citation"):i=e.tmp.root,e.inheritOpt(this,"et-al-subsequent-min")&&e.inheritOpt(this,"et-al-subsequent-min")!==e.inheritOpt(this,"et-al-min")&&(e.opt.update_mode=g.POSITION),e.inheritOpt(this,"et-al-subsequent-use-first")&&e.inheritOpt(this,"et-al-subsequent-use-first")!==e.inheritOpt(this,"et-al-use-first")&&(e.opt.update_mode=g.POSITION),e.tmp.root=i,r=function(e){e.tmp.etal_term="et-al",e.tmp.name_delimiter=e.inheritOpt(this,"delimiter","name-delimiter",", "),e.tmp["delimiter-precedes-et-al"]=e.inheritOpt(this,"delimiter-precedes-et-al"),"text"===e.inheritOpt(this,"and")?this.and_term=e.getTerm("and","long",0):"symbol"===e.inheritOpt(this,"and")&&(e.opt.development_extensions.expect_and_symbol_form?this.and_term=e.getTerm("and","symbol",0):this.and_term="&"),e.tmp.and_term=this.and_term,g.STARTSWITH_ROMANESQUE_REGEXP.test(this.and_term)?(this.and_prefix_single=" ",this.and_prefix_multiple=", ","string"==typeof e.tmp.name_delimiter&&(this.and_prefix_multiple=e.tmp.name_delimiter),this.and_suffix=" "):(this.and_prefix_single="",this.and_prefix_multiple="",this.and_suffix=""),"always"===e.inheritOpt(this,"delimiter-precedes-last")?this.and_prefix_single=e.tmp.name_delimiter:"never"===e.inheritOpt(this,"delimiter-precedes-last")?this.and_prefix_multiple&&(this.and_prefix_multiple=" "):"after-inverted-name"===e.inheritOpt(this,"delimiter-precedes-last")&&(this.and_prefix_single&&(this.and_prefix_single=e.tmp.name_delimiter),this.and_prefix_multiple&&(this.and_prefix_multiple=" ")),this.and={},e.inheritOpt(this,"and")?(e.output.append(this.and_term,"empty",!0),this.and.single=e.output.pop(),this.and.single.strings.prefix=this.and_prefix_single,this.and.single.strings.suffix=this.and_suffix,e.output.append(this.and_term,"empty",!0),this.and.multiple=e.output.pop(),this.and.multiple.strings.prefix=this.and_prefix_multiple,this.and.multiple.strings.suffix=this.and_suffix):e.tmp.name_delimiter&&(this.and.single=new g.Blob(e.tmp.name_delimiter),this.and.single.strings.prefix="",this.and.single.strings.suffix="",this.and.multiple=new g.Blob(e.tmp.name_delimiter),this.and.multiple.strings.prefix="",this.and.multiple.strings.suffix=""),this.ellipsis={},e.inheritOpt(this,"et-al-use-last")&&(this.ellipsis_term="",this.ellipsis_prefix_single=" ",this.ellipsis_prefix_multiple=e.inheritOpt(this,"delimiter","name-delimiter",", "),this.ellipsis_suffix=" ",this.ellipsis.single=new g.Blob(this.ellipsis_term),this.ellipsis.single.strings.prefix=this.ellipsis_prefix_single,this.ellipsis.single.strings.suffix=this.ellipsis_suffix,this.ellipsis.multiple=new g.Blob(this.ellipsis_term),this.ellipsis.multiple.strings.prefix=this.ellipsis_prefix_multiple,this.ellipsis.multiple.strings.suffix=this.ellipsis_suffix),void 0===e.tmp["et-al-min"]&&(e.tmp["et-al-min"]=e.inheritOpt(this,"et-al-min")),void 0===e.tmp["et-al-use-first"]&&(e.tmp["et-al-use-first"]=e.inheritOpt(this,"et-al-use-first")),void 0===e.tmp["et-al-use-last"]&&(e.tmp["et-al-use-last"]=e.inheritOpt(this,"et-al-use-last")),e.nameOutput.name=this},e.build.name_flag=!0,this.execs.push(r));t.push(this)}},g.Node["name-part"]={build:function(e){e.build[this.strings.name]=this}},g.Node.names={build:function(e,t){var r;if(this.tokentype!==g.START&&this.tokentype!==g.SINGLETON||(g.Util.substituteStart.call(this,e,t),e.build.substitute_level.push(1)),this.tokentype===g.SINGLETON){for(var i in e.build.names_variables[e.build.names_variables.length-1].concat(this.variables),this.variables){var s=this.variables[i],n=e.build.name_label[e.build.name_label.length-1];Object.keys(n).length&&(n[s]=n[Object.keys(n)[0]])}r=function(e){e.nameOutput.reinit(this,this.variables_real[0])},this.execs.push(r)}if(this.tokentype===g.START&&(e.build.names_flag=!0,e.build.name_flag=!1,e.build.names_level+=1,e.build.names_variables.push(this.variables),e.build.name_label.push({}),r=function(e){e.tmp.can_substitute.push(!0),e.tmp.name_node={},e.tmp.name_node.children=[],e.nameOutput.init(this)},this.execs.push(r)),this.tokentype===g.END){i=0;for(var a=3;i<a;i+=1){var o=["family","given","et-al"][i];this[o]=e.build[o],1===e.build.names_level&&(e.build[o]=void 0)}this.label=e.build.name_label[e.build.name_label.length-1],e.build.names_level+=-1,e.build.names_variables.pop(),e.build.name_label.pop(),r=function(e){e.tmp.etal_node?this.etal_style=e.tmp.etal_node:this.etal_style="empty",this.etal_term=e.getTerm(e.tmp.etal_term,"long",0),this.etal_prefix_single=" ",this.etal_prefix_multiple=e.tmp.name_delimiter,"always"===e.tmp["delimiter-precedes-et-al"]?this.etal_prefix_single=e.tmp.name_delimiter:"never"===e.tmp["delimiter-precedes-et-al"]?this.etal_prefix_multiple=" ":"after-inverted-name"===e.tmp["delimiter-precedes-et-al"]&&(this.etal_prefix_single=e.tmp.name_delimiter,this.etal_prefix_multiple=" "),this.etal_suffix="",g.STARTSWITH_ROMANESQUE_REGEXP.test(this.etal_term)||(" "===this.etal_prefix_single&&(this.etal_prefix_single="")," "===this.etal_prefix_multiple&&(this.etal_prefix_multiple="")," "===this.etal_suffix&&(this.etal_suffix=""));for(var t=0,r=3;t<r;t+=1){var i=["family","given"][t];e.nameOutput[i]=this[i]}e.nameOutput.with=this.with;var s="with",n="",a="";g.STARTSWITH_ROMANESQUE_REGEXP.test(s)&&(n=" ",a=" ");var o={};o.single=new g.Blob(s),o.single.strings.suffix=a,o.multiple=new g.Blob(s),o.multiple.strings.suffix=a,"always"===e.inheritOpt(e.nameOutput.name,"delimiter-precedes-last")?(o.single.strings.prefix=e.inheritOpt(this,"delimiter","names-delimiter"),o.multiple.strings.prefix=e.inheritOpt(this,"delimiter","names-delimiter")):"contextual"===e.inheritOpt(e.nameOutput.name,"delimiter-precedes-last")?(o.single.strings.prefix=n,o.multiple.strings.prefix=e.inheritOpt(this,"delimiter","names-delimiter")):"after-inverted-name"===e.inheritOpt(e.nameOutput.name,"delimiter-precedes-last")?(o.single.strings.prefix=e.inheritOpt(this,"delimiter","names-delimiter"),o.multiple.strings.prefix=n):(o.single.strings.prefix=n,o.multiple.strings.prefix=n),e.nameOutput.with=o,e.nameOutput.label=this.label,e.nameOutput.etal_style=this.etal_style,e.nameOutput.etal_term=this.etal_term,e.nameOutput.etal_prefix_single=this.etal_prefix_single,e.nameOutput.etal_prefix_multiple=this.etal_prefix_multiple,e.nameOutput.etal_suffix=this.etal_suffix,e.nameOutput.outputNames(),e.tmp["et-al-use-first"]=void 0,e.tmp["et-al-min"]=void 0,e.tmp["et-al-use-last"]=void 0},this.execs.push(r),r=function(e){e.tmp.can_substitute.pop()||e.tmp.can_substitute.replace(!1,g.LITERAL),1===e.tmp.can_substitute.mystack.length&&(e.tmp.can_block_substitute=!1)},this.execs.push(r),e.build.name_flag=!1}t.push(this),this.tokentype!==g.END&&this.tokentype!==g.SINGLETON||(e.build.substitute_level.pop(),g.Util.substituteEnd.call(this,e,t))}},g.Node.number={build:function(e,t){var r;g.Util.substituteStart.call(this,e,t),"roman"===this.strings.form?this.formatter=e.fun.romanizer:"ordinal"===this.strings.form?this.formatter=e.fun.ordinalizer:"long-ordinal"===this.strings.form&&(this.formatter=e.fun.long_ordinalizer),void 0===this.successor_prefix&&(this.successor_prefix=e[e.build.area].opt.layout_delimiter),void 0===this.splice_prefix&&(this.splice_prefix=e[e.build.area].opt.layout_delimiter),r=function(e,t,r){if(0!==this.variables.length){var i;if(i=this.variables[0],void 0===r)r={};if(["locator","locator-extra"].indexOf(i)>-1){if(e.tmp.just_looking)return;if(!r[i])return}else if(!t[i])return;"collection-number"===i&&"legal_case"===t.type&&(e.tmp.renders_collection_number=!0);var s=this;if(e.tmp.group_context.tip.force_suppress)return!1;if(["locator","locator-extra"].indexOf(i)>-1?e.processNumber.call(e,s,r,i,t.type):(!e.tmp.group_context.tip.condition&&t[i]&&(e.tmp.just_did_number=(""+t[i]).match(/[0-9]$/)),e.processNumber.call(e,s,t,i,t.type)),this.substring){var n=t[i].slice(this.substring);e.output.append(n,s)}else g.Util.outputNumericField(e,i,t.id);["locator","locator-extra"].indexOf(this.variables_real[0])>-1&&!e.tmp.just_looking&&(e.tmp.done_vars.push(this.variables_real[0]),e.tmp.group_context.tip.done_vars.push(this.variables_real[0]))}},this.execs.push(r),t.push(this),g.Util.substituteEnd.call(this,e,t)}},g.Node.sort={build:function(e,t){if(t=e[e.build.root+"_sort"].tokens,this.tokentype===g.START){"citation"===e.build.area&&(e.opt.sort_citations=!0),e.build.area=e.build.root+"_sort",e.build.extension="_sort";var r=function(e,t){if(e.opt.has_layout_locale){for(var r,i=g.localeResolve(t.language,e.opt["default-locale"][0]),s=e[e.tmp.area.slice(0,-5)].opt.sort_locales,n=0,a=s.length;n<a&&(r=s[n][i.bare],r||(r=s[n][i.best]),!r);n+=1);r||(r=e.opt["default-locale"][0]),e.tmp.lang_sort_hold=e.opt.lang,e.opt.lang=r}};this.execs.push(r)}if(this.tokentype===g.END){e.build.area=e.build.root,e.build.extension="";r=function(e){e.opt.has_layout_locale&&(e.opt.lang=e.tmp.lang_sort_hold,delete e.tmp.lang_sort_hold)};this.execs.push(r)}t.push(this)}},g.Node.substitute={build:function(e,t){var r;if(this.tokentype===g.START){var i=new g.Token("choose",g.START);g.Node.choose.build.call(i,e,t);var s=new g.Token("if",g.SINGLETON);r=function(){return!(!e.tmp.value.length||e.tmp.common_term_match_fail)},s.tests=[r],s.test=e.fun.match.any(s,e,s.tests),t.push(s),r=function(e){e.tmp.can_block_substitute=!0,e.tmp.value.length&&!e.tmp.common_term_match_fail&&e.tmp.can_substitute.replace(!1,g.LITERAL),e.tmp.common_term_match_fail=!1},this.execs.push(r),t.push(this)}if(this.tokentype===g.END){t.push(this);var n=new g.Token("choose",g.END);g.Node.choose.build.call(n,e,t)}}},g.Node.text={build:function(e,t){var r,i,s,n,a,o,l,u,c,m,p;if(this.postponed_macro){var h=g.Util.cloneToken(this);h.name="group",h.tokentype=g.START,g.Node.group.build.call(h,e,t),g.expandMacro.call(e,this,t);var f=g.Util.cloneToken(this);f.name="group",f.tokentype=g.END,"juris-locator-label"===this.postponed_macro&&(f.isJurisLocatorLabel=!0),g.Node.group.build.call(f,e,t)}else{if(g.Util.substituteStart.call(this,e,t),this.variables_real||(this.variables_real=[]),this.variables||(this.variables=[]),i="long",s=0,this.strings.form&&(i=this.strings.form),this.strings.plural&&(s=this.strings.plural),
"citation-number"===this.variables_real[0]||"year-suffix"===this.variables_real[0]||"citation-label"===this.variables_real[0])"citation-number"===this.variables_real[0]?("citation"===e.build.root&&(e.opt.update_mode=g.NUMERIC),"bibliography"===e.build.root&&(e.opt.bib_mode=g.NUMERIC),"citation-number"===e[e.tmp.area].opt.collapse&&(this.range_prefix=e.getTerm("citation-range-delimiter")),this.successor_prefix=e[e.build.area].opt.layout_delimiter,this.splice_prefix=e[e.build.area].opt.layout_delimiter,r=function(e,t,r){if(n=""+t.id,!e.tmp.just_looking){if("_sort"===e.tmp.area.slice(-5)&&"citation-number"===this.variables[0]){if("bibliography_sort"===e.tmp.area&&e.tmp.group_context.tip.done_vars.push("citation-number"),"citation_sort"===e.tmp.area&&e.bibliography_sort.tmp.citation_number_map)var i=e.bibliography_sort.tmp.citation_number_map[e.registry.registry[t.id].seq];else i=e.registry.registry[t.id].seq;return i&&(i=g.Util.padding(""+i)),void e.output.append(i,this)}r&&r["author-only"]&&e.tmp.element_trace.replace("suppress-me"),i="bibliography_sort"!==e.tmp.area&&e.bibliography_sort.tmp.citation_number_map&&e.bibliography_sort.opt.citation_number_sort_direction===g.DESCENDING?e.bibliography_sort.tmp.citation_number_map[e.registry.registry[n].seq]:e.registry.registry[n].seq,e.opt.citation_number_slug?e.output.append(e.opt.citation_number_slug,this):(o=new g.NumericBlob(e,!1,i,this,t.id),e.tmp.in_cite_predecessor&&(o.suppress_splice_prefix=!0),e.output.append(o,"literal"))}},this.execs.push(r)):"year-suffix"===this.variables_real[0]?(e.opt.has_year_suffix=!0,"year-suffix-ranged"===e[e.tmp.area].opt.collapse&&(this.range_prefix=e.getTerm("citation-range-delimiter")),this.successor_prefix=e[e.build.area].opt.layout_delimiter,e[e.tmp.area].opt["year-suffix-delimiter"]&&(this.successor_prefix=e[e.build.area].opt["year-suffix-delimiter"]),r=function(e,t){if(e.registry.registry[t.id]&&!1!==e.registry.registry[t.id].disambig.year_suffix&&!e.tmp.just_looking){a=parseInt(e.registry.registry[t.id].disambig.year_suffix,10),e[e.tmp.area].opt.cite_group_delimiter&&(this.successor_prefix=e[e.tmp.area].opt.cite_group_delimiter),o=new g.NumericBlob(e,!1,a,this,t.id),l=new g.Util.Suffixator(g.SUFFIX_CHARS),o.setFormatter(l),e.output.append(o,"literal"),u=!1;for(var r=0,i=e.tmp.group_context.mystack.length;r<i;r++){var s=e.tmp.group_context.mystack[r];if(!s.variable_success&&(s.variable_attempt||!s.variable_attempt&&!s.term_intended)){u=!0;break}}c=e[e.tmp.area].opt["year-suffix-delimiter"],u&&c&&!e.tmp.sort_key_flag&&(e.tmp.splice_delimiter=e[e.tmp.area].opt["year-suffix-delimiter"])}},this.execs.push(r)):"citation-label"===this.variables_real[0]&&("bibliography"===e.build.root&&(e.opt.bib_mode=g.TRIGRAPH),e.opt.has_year_suffix=!0,r=function(e,t){m=t["citation-label"],m||(m=e.getCitationLabel(t)),e.tmp.just_looking||(p="",e.registry.registry[t.id]&&!1!==e.registry.registry[t.id].disambig.year_suffix&&(a=parseInt(e.registry.registry[t.id].disambig.year_suffix,10),p=e.fun.suffixator.format(a)),m+=p),e.output.append(m,this)},this.execs.push(r));else if(this.strings.term)r=function(e,t){var r,n=e.opt.gender[t.type],a=this.strings.term;if(a=e.getTerm(a,i,s,n,g.TOLERANT,this.default_locale),""!==a&&(e.tmp.group_context.tip.term_intended=!0),g.UPDATE_GROUP_CONTEXT_CONDITION(e,a,null,this),r=e.tmp.term_predecessor||"in-text"===e.opt.class&&"citation"===e.tmp.area?a:g.Output.Formatters["capitalize-first"](e,a),e.tmp.strip_periods)r=r.replace(/\./g,"");else for(var o=0,l=this.decorations.length;o<l;o+=1)if("@strip-periods"===this.decorations[o][0]&&"true"===this.decorations[o][1]){r=r.replace(/\./g,"");break}e.output.append(r,this),e.tmp.can_block_substitute&&e.tmp.can_substitute.replace(!1,g.LITERAL)},this.execs.push(r),e.build.term=!1,e.build.form=!1,e.build.plural=!1;else if(this.variables_real.length){if(r=function(e,t){"locator"!==this.variables_real[0]&&(e.tmp.have_collapsed=!1),!e.tmp.group_context.tip.condition&&t[this.variables[0]]&&(e.tmp.just_did_number=!1);var r=t[this.variables[0]];r&&!e.tmp.group_context.tip.condition&&((""+r).slice(-1).match(/[0-9]/)?e.tmp.just_did_number=!0:e.tmp.just_did_number=!1)},this.execs.push(r),g.MULTI_FIELDS.indexOf(this.variables_real[0])>-1||this.variables_real[0].indexOf("-main")>-1||this.variables_real[0].indexOf("-sub")>-1||["language-name","language-name-original"].indexOf(this.variables_real[0])>-1){var d=this.variables[0],b=!1,y=!1,v=!1;"short"===i?"-short"!==this.variables_real[0].slice(-6)&&(y=this.variables_real[0]+"-short"):d=!1,e.build.extension?v=!0:(v=!0,b=!0),r=e.transform.getOutputFunction(this.variables,d,b,y,v)}else r=g.CITE_FIELDS.indexOf(this.variables_real[0])>-1?function(e,t,r){r&&r[this.variables[0]]&&(e.processNumber(this,r,this.variables[0],t.type),g.Util.outputNumericField(e,this.variables[0],t.id),["locator","locator-extra"].indexOf(this.variables_real[0])>-1&&!e.tmp.just_looking&&e.tmp.done_vars.push(this.variables_real[0]))}:["page","page-first","chapter-number","collection-number","edition","issue","number","number-of-pages","number-of-volumes","volume"].indexOf(this.variables_real[0])>-1?function(e,t){e.processNumber(this,t,this.variables[0],t.type),g.Util.outputNumericField(e,this.variables[0],t.id)}:["URL","DOI"].indexOf(this.variables_real[0])>-1?function(e,t){var r;if(this.variables[0]&&(r=e.getVariable(t,this.variables[0],i),r))if("URL"===this.variables[0]&&"short"===i&&(r=r.replace(/(.*\.[^\/]+)\/.*/,"$1"),r.match(/\/\/www\./)&&(r=r.replace(/https?:\/\//,""))),e.opt.development_extensions.wrap_url_and_doi)if(this.decorations.length&&this.decorations[0][0]==="@"+this.variables[0])e.output.append(r,this,!1,!1,!0);else{var s=g.Util.cloneToken(this),n=new g.Blob(null,null,"url-wrapper");if(n.decorations.push(["@DOI","true"]),"DOI"===this.variables_real[0]){var a;this.strings.prefix&&this.strings.prefix.match(/^.*https:\/\/doi\.org\/$/)&&(r=r.replace(/^https?:\/\/doi\.org\//,""),a=r.match(/^https?:\/\//)?"":"https://doi.org/",s.strings.prefix=this.strings.prefix.slice(0,s.strings.prefix.length-16));var o=new g.Blob(a),l=new g.Blob(r);n.push(o),n.push(l),e.output.append(n,s,!1,!1,!0)}else{l=new g.Blob(r);n.push(l),e.output.append(n,s,!1,!1,!0)}}else{if(this.decorations.length)for(var u=this.decorations.length-1;u>-1;u--)this.decorations[u][0]==="@"+this.variables[0]&&(this.decorations=this.decorations.slice(0,u).concat(this.decorations.slice(u+1)));e.output.append(r,this,!1,!1,!0)}}:"section"===this.variables_real[0]?function(e,t){var r;r=e.getVariable(t,this.variables[0],i),r&&e.output.append(r,this)}:"hereinafter"===this.variables_real[0]?function(e,t){var r=e.transform.abbrevs.default.hereinafter[t.id];r&&(e.output.append(r,this),e.tmp.group_context.tip.variable_success=!0)}:function(e,t){var r;this.variables[0]&&(r=e.getVariable(t,this.variables[0],i),r&&(r=""+r,r=r.split("\\").join(""),e.output.append(r,this)))};this.execs.push(r)}else this.strings.value&&(r=function(e){e.tmp.group_context.tip.term_intended=!0,g.UPDATE_GROUP_CONTEXT_CONDITION(e,this.strings.value,!0,this),e.output.append(this.strings.value,this),e.tmp.can_block_substitute&&e.tmp.can_substitute.replace(!1,g.LITERAL)},this.execs.push(r));t.push(this),g.Util.substituteEnd.call(this,e,t)}}},g.Node.intext={build:function(e,t){if(this.tokentype===g.START){e.build.area="intext",e.build.root="intext",e.build.extension="";var r=function(e,t){e.tmp.area="intext",e.tmp.root="intext",e.tmp.extension=""};this.execs.push(r)}this.tokentype===g.END&&(e.intext_sort={opt:{sort_directions:e.citation_sort.opt.sort_directions}},e.intext.srt=e.citation.srt),t.push(this)}},g.Attributes={},g.Attributes["@disambiguate"]=function(e,t){if(this.tests||(this.tests=[]),"true"===t){e.opt.has_disambiguate=!0;var r=function(t){if("bibliography"===e.tmp.area){if(e.tmp.disambiguate_count<e.registry.registry[t.id].disambig.disambiguate)return e.tmp.disambiguate_count+=1,!0}else if(e.tmp.disambiguate_maxMax+=1,e.tmp.disambig_settings.disambiguate&&e.tmp.disambiguate_count<e.tmp.disambig_settings.disambiguate)return e.tmp.disambiguate_count+=1,!0;return!1};this.tests.push(r)}else if("check-ambiguity-and-backreference"===t){r=function(t){return!!(e.registry.registry[t.id].disambig.disambiguate&&e.registry.registry[t.id]["citation-count"]>1)};this.tests.push(r)}},g.Attributes["@is-numeric"]=function(e,t){this.tests||(this.tests=[]);for(var r=t.split(/\s+/),i=function(t){return function(r,i){var s=r;if(i&&["locator","locator-extra"].indexOf(t)>-1&&(s=i),!s[t])return!1;if(g.NUMERIC_VARIABLES.indexOf(t)>-1){if(e.tmp.shadow_numbers[t]||e.processNumber(!1,s,t,r.type),e.tmp.shadow_numbers[t].numeric)return!0}else if(["title","version"].indexOf(t)>-1&&s[t].slice(-1)===""+parseInt(s[t].slice(-1),10))return!0;return!1}},s=0;s<r.length;s+=1)this.tests.push(i(r[s]))},g.Attributes["@is-uncertain-date"]=function(e,t){this.tests||(this.tests=[]);for(var r=t.split(/\s+/),i=function(e){return function(t){return!(!t[e]||!t[e].circa)}},s=0,n=r.length;s<n;s+=1)this.tests.push(i(r[s]))},g.Attributes["@locator"]=function(e,t){this.tests||(this.tests=[]);var r=t.replace("sub verbo","sub-verbo");r=r.split(/\s+/);for(var i=function(t){return function(r,i){var s;return e.processNumber(!1,i,"locator"),s=e.tmp.shadow_numbers.locator.label,!(!s||t!==s)}},s=0,n=r.length;s<n;s+=1)this.tests.push(i(r[s]))},g.Attributes["@position"]=function(e,t){this.tests||(this.tests=[]),e.opt.update_mode=g.POSITION;for(var r=t.split(/\s+/),i=function(e,t){return!!(t&&g.POSITION_MAP[t.position]>=g.POSITION_MAP[g.POSITION_SUBSEQUENT]&&t["near-note"])},s=function(e,t){return!(!t||g.POSITION_MAP[t.position]!=g.POSITION_MAP[g.POSITION_SUBSEQUENT]||t["near-note"])},n=function(t){return function(r,i){if("bibliography"===e.tmp.area)return!1;if(i&&void 0===i.position&&(i.position=0),i&&"number"==typeof i.position){if(0===i.position&&0===t)return!0;if(t>0&&g.POSITION_MAP[i.position]>=g.POSITION_MAP[t])return!0}else if(0===t)return!0;return!1}},a=0,o=r.length;a<o;a+=1){var l=r[a];"first"===l?l=g.POSITION_FIRST:"container-subsequent"===l?l=g.POSITION_CONTAINER_SUBSEQUENT:"subsequent"===l?l=g.POSITION_SUBSEQUENT:"ibid"===l?l=g.POSITION_IBID:"ibid-with-locator"===l&&(l=g.POSITION_IBID_WITH_LOCATOR),"near-note"===l?this.tests.push(i):"far-note"===l?this.tests.push(s):this.tests.push(n(l))}},g.Attributes["@type"]=function(e,t){this.tests||(this.tests=[]);for(var r=t.split(/\s+/),i=function(e){return function(t){var r=t.type===e;return!!r}},s=[],n=0,a=r.length;n<a;n+=1)s.push(i(r[n]));this.tests.push(e.fun.match.any(this,e,s))},g.Attributes["@variable"]=function(e,t){var r;if(this.tests||(this.tests=[]),this.variables=t.split(/\s+/),this.variables_real=this.variables.slice(),"label"===this.name&&this.variables[0])this.strings.term=this.variables[0];else if(["names","date","text","number"].indexOf(this.name)>-1)r=function(e,t,r){for(var i=this.variables.length-1;i>-1;i+=-1)this.variables.pop();i=0;for(var s=this.variables_real.length;i<s;i++)-1===e.tmp.done_vars.indexOf(this.variables_real[i])&&this.variables.push(this.variables_real[i]),e.tmp.can_block_substitute&&e.tmp.done_vars.push(this.variables_real[i])},this.execs.push(r),r=function(e,t,r){for(var i=!1,s=0,n=this.variables.length;s<n;s++){var a=this.variables[s];if(["authority","committee"].indexOf(a)>-1&&"string"==typeof t[a]&&"names"===this.name){var o=!0,l=t[a].split(/\s*;\s*/),u={};if(t.multi&&t.multi._keys[a])for(var c in t.multi._keys[a])if(u[c]=t.multi._keys[a][c].split(/\s*;\s*/),u[c].length!==l.length){o=!1;break}o||(l=[t[a]],u=t.multi._keys[a]);for(var m=0,p=l.length;m<p;m++){var h={literal:l[m],multi:{_key:{}}};for(var c in u){var f={literal:u[c][m]};h.multi._key[c]=f}l[m]=h}t[a]=l}if("short"!==this.strings.form||t[a]||("title"===a?a="title-short":"container-title"===a&&(a="container-title-short")),"year-suffix"===a){i=!0;break}if(g.DATE_VARIABLES.indexOf(a)>-1){if(e.opt.development_extensions.locator_date_and_revision&&"locator-date"===a){i=!0;break}if(t[a]){for(var d in t[a])if((-1!==this.dateparts.indexOf(d)||"literal"===d)&&t[a][d]){i=!0;break}if(i)break}}else{if("locator"===a){r&&r.locator&&(i=!0);break}if("locator-extra"===a){r&&r["locator-extra"]&&(i=!0);break}if(["citation-number","citation-label"].indexOf(a)>-1){i=!0;break}if("first-reference-note-number"===a){r&&r["first-reference-note-number"]&&(i=!0);break}if("first-container-reference-note-number"===a){r&&r["first-container-reference-note-number"]&&(i=!0);break}if("hereinafter"===a){e.transform.abbrevs.default.hereinafter[t.id]&&e.sys.getAbbreviation&&t.id&&(i=!0);break}if("object"==typeof t[a])break;if("string"==typeof t[a]&&t[a]){i=!0;break}if("number"==typeof t[a]){i=!0;break}}if(i)break}if(i){for(s=0,n=this.variables_real.length;s<n;s++){a=this.variables_real[s];"citation-number"===a&&"bibliography"===e.tmp.area||(e.tmp.cite_renders_content=!0),e.tmp.group_context.tip.variable_success=!0,e.tmp.can_substitute.value()&&"bibliography"===e.tmp.area&&"string"==typeof t[a]&&(e.tmp.name_node.top=e.output.current.value(),e.tmp.rendered_name.push(t[a]))}e.tmp.can_substitute.replace(!1,g.LITERAL)}else e.tmp.group_context.tip.variable_attempt=!0},this.execs.push(r);else if(["if","else-if","condition"].indexOf(this.name)>-1)for(var i=function(t){return function(r,i){var s=r;if(i&&["locator","locator-extra","first-reference-note-number","first-container-reference-note-number","locator-date"].indexOf(t)>-1&&(s=i),"hereinafter"===t&&e.sys.getAbbreviation&&s.id){if(e.transform.abbrevs.default.hereinafter[s.id])return!0}else if(s[t]){if("number"==typeof s[t]||"string"==typeof s[t])return!0;if("object"==typeof s[t])for(var n in s[t])if(s[t][n])return!0}return!1}},s=0,n=this.variables.length;s<n;s+=1)this.tests.push(i(this.variables[s]))},g.Attributes["@page"]=function(e,t){this.tests||(this.tests=[]);var r=t.replace("sub verbo","sub-verbo");r=r.split(/\s+/);for(var i=function(t){return function(r){var i;return e.processNumber(!1,r,"page",r.type),i=e.tmp.shadow_numbers.page.label?"sub verbo"===e.tmp.shadow_numbers.page.label?"sub-verbo":e.tmp.shadow_numbers.page.label:"page",e.tmp.shadow_numbers.page.values.length>0&&e.tmp.shadow_numbers.page.values[0].gotosleepability&&(e.tmp.shadow_numbers.page.values[0].labelVisibility=!1),t===i}},s=0,n=r.length;s<n;s+=1)this.tests.push(i(r[s]))},g.Attributes["@number"]=function(e,t){this.tests||(this.tests=[]);for(var r=t.split(/\s+/),i=function(t){return function(r){var i;return e.processNumber(!1,r,"number",r.type),i=e.tmp.shadow_numbers.number.label?e.tmp.shadow_numbers.number.label:"number",t===i}},s=0,n=r.length;s<n;s+=1)this.tests.push(i(r[s]))},g.Attributes["@jurisdiction"]=function(e,t){this.tests||(this.tests=[]);var r=t.split(/\s+/),i=function(e){return function(t){if(!t.jurisdiction)return!1;for(var r=t.jurisdiction,i=0,s=e.length;i<s;i++)if(r===e[i])return!0;return!1}};this.tests.push(i(r))},g.Attributes["@country"]=function(e,t){this.tests||(this.tests=[]);var r=t.split(/\s+/),i=function(e){return function(t){if(!t.country)return!1;for(var r=t.country,i=0,s=e.length;i<s;i++)if(r===e[i])return!0;return!1}};this.tests.push(i(r))},g.Attributes["@context"]=function(e,t){this.tests||(this.tests=[]);var r=function(){if(["bibliography","citation"].indexOf(t)>-1){var r=e.tmp.area.slice(0,t.length);return r===t}if("alternative"===t)return!!e.tmp.abort_alternative};this.tests.push(r)},g.Attributes["@has-year-only"]=function(e,t){this.tests||(this.tests=[]);for(var r=t.split(/\s+/),i=function(e){return function(t){var r=t[e];return!(!r||r.month||r.season)}},s=0,n=r.length;s<n;s+=1)this.tests.push(i(r[s]))},g.Attributes["@has-to-month-or-season"]=function(e,t){this.tests||(this.tests=[]);for(var r=t.split(/\s+/),i=function(e){return function(t){var r=t[e];return!(!r||!r.month&&!r.season||r.day)}},s=0,n=r.length;s<n;s+=1)this.tests.push(i(r[s]))},g.Attributes["@has-day"]=function(e,t){this.tests||(this.tests=[]);for(var r=t.split(/\s+/),i=function(e){return function(t){var r=t[e];return!(!r||!r.day)}},s=0,n=r.length;s<n;s+=1)this.tests.push(i(r[s]))},g.Attributes["@is-plural"]=function(e,t){this.tests||(this.tests=[]);var r=function(r){var i=r[t];if(i&&i.length){for(var s=0,n=0,a=!1,o=0,l=i.length;o<l;o+=1)e.opt.development_extensions.spoof_institutional_affiliations&&(i[o].literal||i[o].isInstitution&&i[o].family&&!i[o].given)?(n+=1,a=!1):(s+=1,a=!0);if(s>1)return!0;if(n>1)return!0;if(n&&a)return!0}return!1};this.tests.push(r)},g.Attributes["@is-multiple"]=function(e,t){this.tests||(this.tests=[]);var r=function(e){var r=""+e[t],i=r.split(/(?:,\s|\s(?:tot\sen\smet|ldz|oraz|and|bis|||och|a|do|en|et|in|ir|ja|og|sa|to|un|und|s|i|i|u|y| |e|a||-|)\s||\&)/);return i.length>1};this.tests.push(r)},g.Attributes["@locale"]=function(e,t){var r,i,s;this.tests||(this.tests=[]);var n=e.opt["default-locale"][0];if("layout"===this.name){if(this.locale_raw=t,this.tokentype===g.START){e.opt.multi_layout||(e.opt.multi_layout=[]);var a=[],o=t.split(/\s+/),l={},u=g.localeResolve(o[0],n);a.push(u),u.generic?l[u.generic]=u.best:l[u.best]=u.best;for(var c=1,m=o.length;c<m;c+=1){var p=g.localeResolve(o[c],n);a.push(p),p.generic?l[p.generic]=u.best:l[p.best]=u.best}e[e.build.area].opt.sort_locales.push(l),e.opt.multi_layout.push(a)}e.opt.has_layout_locale=!0}else{s=t.split(/\s+/);var h=[];for(c=0,m=s.length;c<m;c+=1)i=s[c],r=g.localeResolve(i,n),2===s[c].length&&h.push(r.bare),e.localeConfigure(r,!0),s[c]=r;var f=s.slice(),d=function(t,r,i){return function(s){var n;[],n=!1;var a,o=!1;for(a=s.language?s.language:r,o=g.localeResolve(a,r),c=0,m=t.length;c<m;c+=1)if(o.best===t[c].best){e.tmp.condition_lang_counter_arr.push(e.tmp.condition_counter),e.tmp.condition_lang_val_arr.push(e.opt.lang),e.opt.lang=t[0].best,n=!0;break}return!n&&i.indexOf(o.bare)>-1&&(e.tmp.condition_lang_counter_arr.push(e.tmp.condition_counter),e.tmp.condition_lang_val_arr.push(e.opt.lang),e.opt.lang=t[0].best,n=!0),n}};this.tests.push(d(f,n,h))}},g.Attributes["@alternative-node-internal"]=function(e){this.tests||(this.tests=[]);var t=function(){return function(){return!e.tmp.abort_alternative}},r=this;this.tests.push(t(r))},g.Attributes["@locale-internal"]=function(e,t){var r,i,s,n,a;for(this.tests||(this.tests=[]),s=t.split(/\s+/),this.locale_bares=[],n=0,a=s.length;n<a;n+=1)i=s[n],r=g.localeResolve(i,e.opt["default-locale"][0]),2===s[n].length&&this.locale_bares.push(r.bare),e.localeConfigure(r),s[n]=r;this.locale_default=e.opt["default-locale"][0],this.locale=s[0].best,this.locale_list=s.slice();var o=function(t){return function(r){var s;s=!1;var o=!1;if(r.language&&(i=r.language,o=g.localeResolve(i,e.opt["default-locale"][0]),o.best===e.opt["default-locale"][0]&&(o=!1)),o){for(n=0,a=t.locale_list.length;n<a;n+=1)if(o.best===t.locale_list[n].best){e.opt.lang=t.locale,e.tmp.last_cite_locale=t.locale,e.output.openLevel("empty"),e.output.current.value().new_locale=t.locale,s=!0;break}!s&&t.locale_bares.indexOf(o.bare)>-1&&(e.opt.lang=t.locale,e.tmp.last_cite_locale=t.locale,e.output.openLevel("empty"),e.output.current.value().new_locale=t.locale,s=!0)}return s}},l=this;this.tests.push(o(l))},g.Attributes["@court-class"]=function(e,t){this.tests||(this.tests=[]);for(var r=t.split(/\s+/),i=function(t){return function(r){var i=g.GET_COURT_CLASS(e,r);return i===t}},s=0,n=r.length;s<n;s++)this.tests.push(i(r[s]))},g.Attributes["@container-multiple"]=function(e,t){this.tests||(this.tests=[]);var r="true"===t,i=function(t){return function(r){return e.tmp.container_item_count[r.container_id]&&e.tmp.container_item_count[r.container_id]>1?t:!t}};this.tests.push(i(r))},g.Attributes["@container-subsequent"]=function(e,t){this.tests||(this.tests=[]);var r="true"===t,i=function(t){return function(r){return e.tmp.container_item_pos[r.container_id]>1?t:!t}};this.tests.push(i(r))},g.Attributes["@has-subunit"]=function(e,t){this.tests||(this.tests=[]);var r=function(e){return function(t){var r=0;for(var i in t[e]){var s=t[e][i];if(!s.given){var n=s.literal?s.literal:s.family,a=n.split("|").length;(0===r||a<r)&&(r=a)}}return r>1}};this.tests.push(r(t))},g.Attributes["@cite-form"]=function(e,t){this.tests||(this.tests=[]);var r=function(e){return function(t){return t["cite-form"]===e}};this.tests.push(r(t))},g.Attributes["@disable-duplicate-year-suppression"]=function(e,t){e.opt.disable_duplicate_year_suppression=t.split(/\s+/)},g.Attributes["@consolidate-containers"]=function(e,t){g.Attributes["@track-containers"](e,t);var r=t.split(/\s+/);e.bibliography.opt.consolidate_containers=r},g.Attributes["@track-containers"]=function(e,t){var r=t.split(/\s+/);e.bibliography.opt.track_container_items||(e.bibliography.opt.track_container_items=[]),e.bibliography.opt.consolidate_containers||(e.bibliography.opt.consolidate_containers=[]),e.bibliography.opt.track_container_items=e.bibliography.opt.track_container_items.concat(r)},g.Attributes["@parallel-first"]=function(e,t){e.opt.parallel.enable=!0;var r=t.split(/\s+/);for(var i in e.opt.track_repeat||(e.opt.track_repeat={}),this.parallel_first={},r){var s=r[i];this.parallel_first[s]=!0,e.opt.track_repeat[s]=!0}},g.Attributes["@parallel-last"]=function(e,t){e.opt.parallel.enable=!0;var r=t.split(/\s+/);for(var i in e.opt.track_repeat||(e.opt.track_repeat={}),this.parallel_last={},r){var s=r[i];this.parallel_last[s]=!0,e.opt.track_repeat[s]=!0}},g.Attributes["@parallel-last-to-first"]=function(e,t){e.opt.parallel.enable=!0;var r=t.split(/\s+/);this.parallel_last_to_first={};for(var i=0,s=r.length;i<s;i++)this.parallel_last_to_first[r[i]]=!0},g.Attributes["@parallel-delimiter-override"]=function(e,t){e.opt.parallel.enable=!0,this.strings.set_parallel_delimiter_override=t},g.Attributes["@parallel-delimiter-override-on-suppress"]=function(e,t){e.opt.parallel.enable=!0,this.strings.set_parallel_delimiter_override_on_suppress=t},g.Attributes["@no-repeat"]=function(e,t){e.opt.parallel.enable=!0;var r=t.split(/\s+/);for(var i in e.opt.track_repeat||(e.opt.track_repeat={}),this.non_parallel={},r){var s=r[i];this.non_parallel[s]=!0,e.opt.track_repeat[s]=!0}},g.Attributes["@require"]=function(e,t){e.opt.use_context_condition=!0,this.strings.require=t},g.Attributes["@reject"]=function(e,t){e.opt.use_context_condition=!0,this.strings.reject=t},g.Attributes["@require-comma-on-symbol"]=function(e,t){e.opt.require_comma_on_symbol=t},g.Attributes["@gender"]=function(e,t){this.gender=t},g.Attributes["@cslid"]=function(e,t){this.cslid=parseInt(t,10)},g.Attributes["@capitalize-if-first"]=function(e,t){this.strings.capitalize_if_first_override=t},g.Attributes["@label-capitalize-if-first"]=function(e,t){this.strings.label_capitalize_if_first_override=t},g.Attributes["@label-form"]=function(e,t){this.strings.label_form_override=t},g.Attributes["@part-separator"]=function(e,t){this.strings["part-separator"]=t},g.Attributes["@leading-noise-words"]=function(e,t){this["leading-noise-words"]=t},g.Attributes["@name-never-short"]=function(e,t){this["name-never-short"]=t},g.Attributes["@class"]=function(e,t){e.opt.class=t},g.Attributes["@version"]=function(e,t){e.opt.version=t},g.Attributes["@value"]=function(e,t){this.strings.value=t},g.Attributes["@name"]=function(e,t){this.strings.name=t},g.Attributes["@form"]=function(e,t){this.strings.form=t},g.Attributes["@date-parts"]=function(e,t){this.strings["date-parts"]=t},g.Attributes["@range-delimiter"]=function(e,t){this.strings["range-delimiter"]=t},g.Attributes["@macro"]=function(e,t){this.postponed_macro=t},g.Attributes["@term"]=function(e,t){this.strings.term="sub verbo"===t?"sub-verbo":t},g.Attributes["@xmlns"]=function(){},g.Attributes["@lang"]=function(e,t){t&&(e.build.lang=t)},g.Attributes["@lingo"]=function(){},g.Attributes["@macro-has-date"]=function(){this["macro-has-date"]=!0},g.Attributes["@suffix"]=function(e,t){this.strings.suffix=t},g.Attributes["@prefix"]=function(e,t){this.strings.prefix=t},g.Attributes["@delimiter"]=function(e,t){this.strings.delimiter=t},g.Attributes["@match"]=function(e,t){this.match=t},g.Attributes["@names-min"]=function(e,t){var r=parseInt(t,10);e[e.build.area].opt.max_number_of_names<r&&(e[e.build.area].opt.max_number_of_names=r),this.strings["et-al-min"]=r},g.Attributes["@names-use-first"]=function(e,t){this.strings["et-al-use-first"]=parseInt(t,10)},g.Attributes["@names-use-last"]=function(e,t){this.strings["et-al-use-last"]="true"===t},g.Attributes["@sort"]=function(e,t){"descending"===t&&(this.strings.sort_direction=g.DESCENDING)},g.Attributes["@plural"]=function(e,t){"always"===t||"true"===t?this.strings.plural=1:"never"===t||"false"===t?this.strings.plural=0:"contextual"===t&&(this.strings.plural=!1)},g.Attributes["@has-publisher-and-publisher-place"]=function(){this.strings["has-publisher-and-publisher-place"]=!0},g.Attributes["@publisher-delimiter-precedes-last"]=function(e,t){this.strings["publisher-delimiter-precedes-last"]=t},g.Attributes["@publisher-delimiter"]=function(e,t){this.strings["publisher-delimiter"]=t},g.Attributes["@publisher-and"]=function(e,t){this.strings["publisher-and"]=t},g.Attributes["@givenname-disambiguation-rule"]=function(e,t){g.GIVENNAME_DISAMBIGUATION_RULES.indexOf(t)>-1&&(e.citation.opt["givenname-disambiguation-rule"]=t)},g.Attributes["@collapse"]=function(e,t){t&&(e[this.name].opt.collapse=t)},g.Attributes["@cite-group-delimiter"]=function(e,t){t&&(e[e.tmp.area].opt.cite_group_delimiter=t)},g.Attributes["@names-delimiter"]=function(e,t){e.setOpt(this,"names-delimiter",t)},g.Attributes["@name-form"]=function(e,t){e.setOpt(this,"name-form",t)},g.Attributes["@subgroup-delimiter"]=function(e,t){this.strings["subgroup-delimiter"]=t},g.Attributes["@subgroup-delimiter-precedes-last"]=function(e,t){this.strings["subgroup-delimiter-precedes-last"]=t},g.Attributes["@name-delimiter"]=function(e,t){e.setOpt(this,"name-delimiter",t)},g.Attributes["@et-al-min"]=function(e,t){var r=parseInt(t,10);e[e.build.area].opt.max_number_of_names<r&&(e[e.build.area].opt.max_number_of_names=r),e.setOpt(this,"et-al-min",r)},g.Attributes["@et-al-use-first"]=function(e,t){e.setOpt(this,"et-al-use-first",parseInt(t,10))},g.Attributes["@et-al-use-last"]=function(e,t){"true"===t?e.setOpt(this,"et-al-use-last",!0):e.setOpt(this,"et-al-use-last",!1)},g.Attributes["@et-al-subsequent-min"]=function(e,t){var r=parseInt(t,10);e[e.build.area].opt.max_number_of_names<r&&(e[e.build.area].opt.max_number_of_names=r),e.setOpt(this,"et-al-subsequent-min",r)},g.Attributes["@et-al-subsequent-use-first"]=function(e,t){e.setOpt(this,"et-al-subsequent-use-first",parseInt(t,10))},g.Attributes["@suppress-min"]=function(e,t){this.strings["suppress-min"]=parseInt(t,10)},g.Attributes["@suppress-max"]=function(e,t){this.strings["suppress-max"]=parseInt(t,10)},g.Attributes["@and"]=function(e,t){e.setOpt(this,"and",t)},g.Attributes["@delimiter-precedes-last"]=function(e,t){e.setOpt(this,"delimiter-precedes-last",t)},g.Attributes["@delimiter-precedes-et-al"]=function(e,t){e.setOpt(this,"delimiter-precedes-et-al",t)},g.Attributes["@initialize-with"]=function(e,t){e.setOpt(this,"initialize-with",t)},g.Attributes["@initialize"]=function(e,t){"false"===t&&e.setOpt(this,"initialize",!1)},g.Attributes["@name-as-reverse-order"]=function(e,t){this["name-as-reverse-order"]=t},g.Attributes["@name-as-sort-order"]=function(e,t){"style-options"===this.name?this["name-as-sort-order"]=t:e.setOpt(this,"name-as-sort-order",t)},g.Attributes["@sort-separator"]=function(e,t){e.setOpt(this,"sort-separator",t)},g.Attributes["@require-match"]=function(e,t){"true"===t&&(this.requireMatch=!0)},g.Attributes["@exclude-types"]=function(e,t){e.bibliography.opt.exclude_types=t.split(/\s+/)},g.Attributes["@exclude-with-fields"]=function(e,t){e.bibliography.opt.exclude_with_fields=t.split(/\s+/)},g.Attributes["@year-suffix-delimiter"]=function(e,t){e[this.name].opt["year-suffix-delimiter"]=t},g.Attributes["@after-collapse-delimiter"]=function(e,t){e[this.name].opt["after-collapse-delimiter"]=t},g.Attributes["@subsequent-author-substitute"]=function(e,t){e[this.name].opt["subsequent-author-substitute"]=t},g.Attributes["@subsequent-author-substitute-rule"]=function(e,t){e[this.name].opt["subsequent-author-substitute-rule"]=t},g.Attributes["@disambiguate-add-names"]=function(e,t){"true"===t&&(e.opt["disambiguate-add-names"]=!0)},g.Attributes["@disambiguate-add-givenname"]=function(e,t){"true"===t&&(e.opt["disambiguate-add-givenname"]=!0)},g.Attributes["@disambiguate-add-year-suffix"]=function(e,t){"true"===t&&"numeric"!==e.opt.xclass&&(e.opt["disambiguate-add-year-suffix"]=!0)},g.Attributes["@second-field-align"]=function(e,t){"flush"!==t&&"margin"!==t||(e[this.name].opt["second-field-align"]=t)},g.Attributes["@hanging-indent"]=function(e,t){"true"===t&&(e.opt.development_extensions.hanging_indent_legacy_number?e[this.name].opt.hangingindent=2:e[this.name].opt.hangingindent=!0)},g.Attributes["@line-spacing"]=function(e,t){t&&t.match(/^[.0-9]+$/)&&(e[this.name].opt["line-spacing"]=parseFloat(t,10))},g.Attributes["@entry-spacing"]=function(e,t){t&&t.match(/^[.0-9]+$/)&&(e[this.name].opt["entry-spacing"]=parseFloat(t,10))},g.Attributes["@near-note-distance"]=function(e,t){e[this.name].opt["near-note-distance"]=parseInt(t,10)},g.Attributes["@substring"]=function(e,t){this.substring=parseInt(t,10)},g.Attributes["@text-case"]=function(e,t){var r=function(e,r){"normal"===t?this.text_case_normal=!0:(this.strings["text-case"]=t,"title"===t&&r.jurisdiction&&(this.strings["text-case"]="passthrough"))};this.execs.push(r)},g.Attributes["@page-range-format"]=function(e,t){e.opt["page-range-format"]=t},g.Attributes["@year-range-format"]=function(e,t){e.opt["year-range-format"]=t},g.Attributes["@default-locale"]=function(e,t){if("style"===this.name){var r,i,s,n,a=t.match(/-x-(sort|translit|translat)-/g);if(a)for(s=0,i=a.length;s<i;s+=1)a[s]=a[s].replace(/^-x-/,"").replace(/-$/,"");for(r=t.split(/-x-(?:sort|translit|translat)-/),n=[r[0]],s=1,i=r.length;s<i;s+=1)n.push(a[s-1]),n.push(r[s]);for(r=n.slice(),i=r.length,s=1;s<i;s+=2)e.opt["locale-"+r[s]].push(r[s+1].replace(/^\s*/g,"").replace(/\s*$/g,""));r.length?e.opt["default-locale"]=r.slice(0,1):e.opt["default-locale"]=["en"]}else"true"===t&&(this.default_locale=!0)},g.Attributes["@default-locale-sort"]=function(e,t){e.opt["default-locale-sort"]=t},g.Attributes["@demote-non-dropping-particle"]=function(e,t){e.opt["demote-non-dropping-particle"]=t},g.Attributes["@initialize-with-hyphen"]=function(e,t){"false"===t&&(e.opt["initialize-with-hyphen"]=!1)},g.Attributes["@institution-parts"]=function(e,t){this.strings["institution-parts"]=t},g.Attributes["@if-short"]=function(e,t){"true"===t&&(this.strings["if-short"]=!0)},g.Attributes["@substitute-use-first"]=function(e,t){this.strings["substitute-use-first"]=parseInt(t,10)},g.Attributes["@use-first"]=function(e,t){this.strings["use-first"]=parseInt(t,10)},g.Attributes["@use-last"]=function(e,t){this.strings["use-last"]=parseInt(t,10)},g.Attributes["@stop-first"]=function(e,t){this.strings["stop-first"]=parseInt(t,10)},g.Attributes["@stop-last"]=function(e,t){this.strings["stop-last"]=-1*parseInt(t,10)},g.Attributes["@reverse-order"]=function(e,t){"true"===t&&(this.strings["reverse-order"]=!0)},g.Attributes["@display"]=function(e,t){2===e.bibliography.tokens.length&&(e.opt.using_display=!0),this.strings.cls=t},g.Stack=function(e,t){this.mystack=[],(t||e)&&this.mystack.push(e),this.tip=this.mystack[0]},g.Stack.prototype.push=function(e,t){t||e?this.mystack.push(e):this.mystack.push(""),this.tip=this.mystack[this.mystack.length-1]},g.Stack.prototype.clear=function(){this.mystack=[],this.tip={}},g.Stack.prototype.replace=function(e,t){0===this.mystack.length&&g.error("Internal CSL processor error: attempt to replace nonexistent stack item with "+e),this.mystack[this.mystack.length-1]=t||e?e:"",this.tip=this.mystack[this.mystack.length-1]},g.Stack.prototype.pop=function(){var e=this.mystack.pop();return this.mystack.length?this.tip=this.mystack[this.mystack.length-1]:this.tip={},e},g.Stack.prototype.value=function(){
return this.mystack.slice(-1)[0]},g.Stack.prototype.length=function(){return this.mystack.length},g.Parallel=function(e){this.state=e},g.Parallel.prototype.StartCitation=function(e,t){if(this.state.tmp.suppress_repeats=[],!(e.length<2)){for(var r=0,i=!1,s=[],n=0,a=e.length-1;n<a;n++){var o=e[n][0],l=e[n+1][0],u=!1,c={};if(e[n][0].seeAlso&&e[n][0].seeAlso.length>0&&!i){u=!0,i=[e[n][0].id].concat(e[n][0].seeAlso);var m=i.slice(),p=e.slice(n);p[0][1].parallel="first";for(var h=0,f=p.length;h<f;h++){var d=p[h][0].id,g=m.indexOf(d);if(r=!1,-1===g?r=n+h-1:n+h===e.length-1&&(r=n+h),r){s.push([n,r]);break}m=m.slice(0,g).concat(m.slice(g+1))}}for(var b in n>0&&u&&(this.state.tmp.suppress_repeats[n-1].START=!0,u=!1),this.state.opt.track_repeat)if(o[b]&&l[b])if("string"==typeof l[b]||"number"==typeof l[b]){if("title"===b&&o["title-short"]&&l["title-short"])var y=o["title-short"],v=l["title-short"];else y=o[b],v=l[b];c[b]=y==v}else if(void 0===o[b].length){c[b]=!1;var _=o[b].year,x=l[b].year;_&&x&&_==x&&(c[b]=!0)}else{y=JSON.stringify(o[b]),v=JSON.stringify(l[b]);c[b]=y===v}else c[b]=!1;i||(c.ORPHAN=!0),r===n&&(c.END=!0,i=!1),this.state.tmp.suppress_repeats.push(c)}for(h=0,f=s.length;h<f;h++){var E=e[s[h][0]][0].id;this.state.registry.registry[E].master=!0,this.state.registry.registry[E].siblings=[];for(var A=s[h][0],w=s[h][1],T=A;T<w;T++){this.state.tmp.suppress_repeats[T].SIBLING=!0;var O=e[T+1][0].id;e[T+1][1].parallel="other",this.state.registry.registry[E].siblings.push(O)}}}},g.Parallel.prototype.checkRepeats=function(e){var t=this.state.tmp.cite_index;if(this.state.tmp.suppress_repeats){if(e.parallel_first&&Object.keys(e.parallel_first).length>0){var r=[{}].concat(this.state.tmp.suppress_repeats),i=!0;for(var s in e.parallel_first)r[t][s]&&!r[t].START||(i=!1);return i}if(e.parallel_last&&Object.keys(e.parallel_last).length>0){r=this.state.tmp.suppress_repeats.concat([{}]),i=Object.keys(e.parallel_last).length>0;for(var s in e.parallel_last)r[t][s]&&!r[t].END||(i=!1);return i}if(e.non_parallel&&Object.keys(e.non_parallel).length>0){r=[{}].concat(this.state.tmp.suppress_repeats),i=!0;for(var s in e.non_parallel)r[t][s]||(i=!1);return i}}return!1},g.Util={},g.Util.Match=function(){this.any=function(e,t,r){return function(e,t){for(var i=0,s=r.length;i<s;i+=1){var n=r[i](e,t);if(n)return!0}return!1}},this.none=function(e,t,r){return function(e,t){for(var i=0,s=r.length;i<s;i+=1){var n=r[i](e,t);if(n)return!1}return!0}},this.all=function(e,t,r){return function(e,t){for(var i=0,s=r.length;i<s;i+=1){var n=r[i](e,t);if(!n)return!1}return!0}},this[void 0]=this.all,this.nand=function(e,t,r){return function(e,t){for(var i=0,s=r.length;i<s;i+=1){var n=r[i](e,t);if(!n)return!0}return!1}}},g.Transform=function(e){function t(t,r,i){var s="";return e.sys.getHumanForm&&("country"===t?(s=e.sys.getHumanForm(r.toLowerCase(),!1,!0),s=s.split("|")[0]):"jurisdiction"===t&&(s=e.sys.getHumanForm(r.toLowerCase(),!1,!0),s=i?"":s.split("|").slice(1).join(", "))),s}function r(e,r,i,s,n,a,o){var l,u="",c=g.FIELD_CATEGORY_REMAP[a];if(!c)return n;var m=a,p=n;e.sys.normalizeAbbrevsKey&&(p=e.sys.normalizeAbbrevsKey(a,n));var h=!1;if("jurisdiction"===m&&p&&(h=-1===p.indexOf(":")),["jurisdiction","country"].indexOf(a)>-1&&n===n.toLowerCase()&&(p=n.toUpperCase()),e.sys.getAbbreviation){l=["jurisdiction","country","language-name","language-name-original"].indexOf(m)>-1?"default":i.jurisdiction?i.jurisdiction:"default";var f=e.transform.loadAbbreviation(l,c,p,i.language);if(e.transform.abbrevs[f][c]&&p){var d=e.transform.abbrevs[f][c][p];u="short"===r.strings.form&&d?h?"":d:t(m,p,h)}}return u||e.opt.development_extensions.require_explicit_legal_case_title_short&&"legal_case"===i.type||!s||!i[s]||!o||(u=i[s]),u||e.sys.getAbbreviation||!e.sys.getHumanForm||(u=t(m,p,h)),u||h||e.sys.getHumanForm&&"jurisdiction"===m||(u=n),e.opt.development_extensions.force_title_abbrev_fallback&&"title"===m&&u===n&&i["title-short"]&&(u=i["title-short"]),u}function i(t,r){var i,s=e.opt["default-locale"][0].slice(0,2);if(i=e.opt.development_extensions.strict_text_case_locales?new RegExp("^([a-zA-Z]{2})(?:$|-.*| .*)"):new RegExp("^([a-zA-Z]{2})(?:$|-.*|.*)"),t.language){var n=(""+t.language).match(i);s=n?n[1]:"tlh"}return t.multi&&t.multi&&t.multi.main&&t.multi.main[r]&&(s=t.multi.main[r]),e.opt.development_extensions.strict_text_case_locales&&!e.opt.development_extensions.normalize_lang_keys_to_lowercase||(s=s.toLowerCase()),s}function s(t,r,s,n,a,o){var l,u,c,m,p=a,h=!1;if(!t[r])return{name:"",usedOrig:a,token:g.Util.cloneToken(this)};var f=!1;g.VARIABLES_WITH_SHORT_FORM.indexOf(r)>-1&&o&&(r+="-short",f=!0);var d=!1,b=null,y=[];"-short"===r.slice(-6)?(y.push(r),y.push(r.slice(0,-6))):y.push(r);for(var v=0,_=y.length;v<_;v++){var x=!1;r=y[v];c={name:"",usedOrig:a,locale:i(t,r)},m=e.opt[s]?e.opt[s].slice():[];var E=!1;if("locale-orig"===s?(a||(c.name=t[r],c.usedOrig=!1),E=!0,h=!0):!n||void 0!==m&&0!==m.length||(c.name=t[r],c.usedOrig=!0,E=!0,h=!0),!E){for(var A=0,w=m.length;A<w;A+=1){if(l=m[A],u=l.split(/[\-_]/)[0],l&&t.multi&&t.multi._keys[r]&&t.multi._keys[r][l]){c.name=t.multi._keys[r][l],c.locale=l,E=!0,x=!0,h=!1;break}if(u&&t.multi&&t.multi._keys[r]&&t.multi._keys[r][u]){c.name=t.multi._keys[r][u],c.locale=u,E=!0,x=!0,h=!1;break}}!c.name&&n&&(c={name:t[r],usedOrig:!0,locale:i(t,r)},h=!0)}if(c.token=g.Util.cloneToken(this),0===v?(x&&(c.found_variant_ok=!0),b=c,f||void 0!==m&&0!==m.length||(d=!0),x&&(d=!0)):f||x||!b?x&&(c.found_variant_ok=!0):(c=b,r=y[0]),["title","container-title"].indexOf(r)>-1&&!(p||c.token.strings["text-case"]&&"sentence"!==c.token.strings["text-case"]&&"normal"!==c.token.strings["text-case"])){var T;e.opt.lang;T=!h&&c.locale;var O=r.slice(0,-5),S="sentence"===c.token.strings["text-case"];c.name=g.titlecaseSentenceOrNormal(e,t,O,T,S),delete c.token.strings["text-case"]}if(d)break}return c}function n(t,r,i,s){t||(t="default");var n=t.split(":")[0],a=g.getAbbrevsDomain(e,n,s);return a&&(t+="@"+a),i?(e.sys.getAbbreviation&&(t=e.sys.getAbbreviation(e.opt.styleID,e.transform.abbrevs,t,r,i),t||(t="default",a&&(t+="@"+a))),t):(e.transform.abbrevs[t]||(e.transform.abbrevs[t]=new e.sys.AbbreviationSegments),e.transform.abbrevs[t][r]||(e.transform.abbrevs[t][r]={}),t)}function a(t,i,s,n){var a=t.variables[0];if(e.publisherOutput&&s){if(-1===["publisher","publisher-place"].indexOf(a))return!1;e.publisherOutput[a+"-token"]=t,e.publisherOutput.varlist.push(a);var o=s.split(/;\s*/);o.length===e.publisherOutput[a+"-list"].length&&(e.publisherOutput[a+"-list"]=o);for(var l=0,u=o.length;l<u;l+=1)o[l]=r(e,t,i,!1,o[l],n,!0);return e.tmp[a+"-token"]=t,!0}return!1}function o(e,t){var r=t.match(/^#([0-9]+).*>>>/);r&&r[1]&&(e["cite-form"]=r[1])}function l(t,r){var i=r.match(/^(?:#[0-9]+)*(?:!((?:[-_a-z]+(?:(?:.*)))(?:,(?:[-_a-z]+(?:(?:.*))))*))*>>>/);if(i&&(r=r.slice(i[0].length),i[1]))for(var s=i[1].split(","),n=0,a=s.length;n<a;n+=1){var o=s[n],l=o.match(/^([-_a-z]+)(?:\:(.*))*$/),u=l[1],c=e.tmp.abbrev_trimmer;l[2]?c&&t&&(c[t]||(c[t]={}),c[t][u]=l[2]):-1===e.tmp.done_vars.indexOf(u)&&(c&&t&&(c.QUASHES[t]||(c.QUASHES[t]={}),c.QUASHES[t][u]=!0),e.tmp.done_vars.push(u))}return r}function u(t,i,n,u){var c,m=g.LangPrefsMap[t[0]];return c=!!m&&e.opt["cite-lang-prefs"][m],function(e,n,p){var h,f,d,b,y,v;if(!t[0]||!n[t[0]]&&!n[u])return null;if(!e.tmp.just_looking&&p&&p["suppress-author"]&&!e.tmp.probably_rendered_something&&e.tmp.can_substitute.length()>1)return null;var _={primary:!1,secondary:!1,tertiary:!1};if("_sort"===e.tmp.area.slice(-5))_.primary="locale-sort";else if(c&&1===c.length&&"locale-orig"===c[0])_.primary="locale-orig",c=!1;else if(c&&!e.tmp.multi_layout)for(var x=["primary","secondary","tertiary"],E=0,A=x.length;E<A&&!(c.length-1<E);E+=1)c[E]&&(_[x[E]]="locale-"+c[E]);else _.primary="locale-orig";if("title-short"!==t[0]&&("bibliography"===e.tmp.area||"citation"===e.tmp.area&&"note"===e.opt.xclass&&p&&!p.position)||(_.secondary=!1,_.tertiary=!1),e.tmp.multi_layout&&(_.secondary=!1,_.tertiary=!1),e.tmp["publisher-list"])return"publisher"===t[0]?e.tmp["publisher-token"]=this:"publisher-place"===t[0]&&(e.tmp["publisher-place-token"]=this),null;var w=e.tmp.lang_array.slice(),T=s.call(this,n,t[0],_.primary,!0,null,i);h=T.name,f=T.locale;var O,S,C,k=T.token,N=T.usedOrig;if(i&&!T.found_variant_ok&&(h=r(e,k,n,u,h,i,!0),h&&(o(n,h),e.tmp.just_looking||(h=l(n.jurisdiction,h)))),a(this,n,h,i))return e.tmp.lang_array=w,null;if(d=!1,y=!1,_.secondary&&(T=s.call(this,n,t[0],_.secondary,!1,T.usedOrig,null,i),d=T.name,b=T.locale,O=T.token,i&&!T.found_variant_ok&&d&&(d=r(e,O,n,!1,d,i,!0))),_.tertiary&&(T=s.call(this,n,t[0],_.tertiary,!1,T.usedOrig,null,i),y=T.name,v=T.locale,S=T.token,i&&!T.found_variant_ok&&y&&(y=r(e,S,n,!1,y,i,!0))),"locale-translit"===_.primary&&(C=e.opt.citeAffixes[m][_.primary].prefix),"<i>"===C&&"title"===t[0]&&!N){var I=!1;for(E=0,A=k.decorations.length;E<A;E+=1)"@font-style"===k.decorations[E][0]&&"italic"===k.decorations[E][1]&&(I=!0);I||k.decorations.push(["@font-style","italic"])}if("en"!==f&&"title"===k.strings["text-case"]&&(k.strings["text-case"]="passthrough"),"title"===t[0]&&(h=g.demoteNoiseWords(e,h,this["leading-noise-words"])),d||y){if(e.output.openLevel("empty"),k.strings.suffix=k.strings.suffix.replace(/[ .,]+$/,""),f&&(e.tmp.lang_array=[f].concat(w)),g.UPDATE_GROUP_CONTEXT_CONDITION(e,null,null,k,k.strings.prefix+h),e.output.append(h,k),e.tmp.probably_rendered_something=!0,h===d&&(d=!1),d){O.strings.prefix=e.opt.citeAffixes[m][_.secondary].prefix,O.strings.suffix=e.opt.citeAffixes[m][_.secondary].suffix,O.strings.prefix||(O.strings.prefix=" ");for(E=O.decorations.length-1;E>-1;E+=-1)["@quotes/true","@font-style/italic","@font-style/oblique","@font-weight/bold"].indexOf(O.decorations[E].join("/"))>-1&&(O.decorations=O.decorations.slice(0,E).concat(O.decorations.slice(E+1)));"en"!==b&&"title"===O.strings["text-case"]&&(O.strings["text-case"]="passthrough"),b&&(e.tmp.lang_array=[b].concat(w));var P=new g.Token;P.decorations.push(["@font-style","normal"]),P.decorations.push(["@font-weight","normal"]),e.output.openLevel(P),e.output.append(d,O),e.output.closeLevel();e.output.current.value(),e.output.current.value().blobs.length}if(h===y&&(y=!1),y){S.strings.prefix=e.opt.citeAffixes[m][_.tertiary].prefix,S.strings.suffix=e.opt.citeAffixes[m][_.tertiary].suffix,S.strings.prefix||(S.strings.prefix=" ");for(E=S.decorations.length-1;E>-1;E+=-1)["@quotes/true","@font-style/italic","@font-style/oblique","@font-weight/bold"].indexOf(S.decorations[E].join("/"))>-1&&(S.decorations=S.decorations.slice(0,E).concat(S.decorations.slice(E+1)));"en"!==v&&"title"===S.strings["text-case"]&&(S.strings["text-case"]="passthrough"),v&&(e.tmp.lang_array=[v].concat(w));var j=new g.Token;j.decorations.push(["@font-style","normal"]),j.decorations.push(["@font-weight","normal"]),e.output.openLevel(j),e.output.append(y,S),e.output.closeLevel();e.output.current.value(),e.output.current.value().blobs.length}e.output.closeLevel()}else f&&(e.tmp.lang_array=[f].concat(w)),g.UPDATE_GROUP_CONTEXT_CONDITION(e,null,null,k,k.strings.prefix+h),e.output.append(h,k),e.tmp.probably_rendered_something=!0;return e.tmp.lang_array=w,e.tmp.can_block_substitute&&e.tmp.name_node.children.push(e.output.current.value()),null}}this.abbrevs={},this.abbrevs.default=new e.sys.AbbreviationSegments,this.getTextSubField=s,this.loadAbbreviation=n,this.quashCheck=l,this.getOutputFunction=u},g.Token=function(e,t,r){this.name=e,this.strings={},this.strings.delimiter=void 0,this.strings.prefix="",this.strings.suffix="",this.decorations=[],this.variables=[],this.execs=[],this.tokentype=t},g.Util.cloneToken=function(e){var t,r,i;if("string"==typeof e)return e;for(var s in t=new g.Token(e.name,e.tokentype),e.strings)e.strings.hasOwnProperty(s)&&(t.strings[s]=e.strings[s]);if(e.decorations)for(t.decorations=[],r=0,i=e.decorations.length;r<i;r+=1)t.decorations.push(e.decorations[r].slice());return e.variables&&(t.variables=e.variables.slice()),e.execs&&(t.execs=e.execs.slice(),e.tests&&(t.tests=e.tests.slice())),t},g.AmbigConfig=function(){this.maxvals=[],this.minval=1,this.names=[],this.givens=[],this.year_suffix=!1,this.disambiguate=0},g.Blob=function(e,t,r){var i,s;if(this.levelname=r,t){for(var n in this.strings={prefix:"",suffix:""},t.strings)t.strings.hasOwnProperty(n)&&(this.strings[n]=t.strings[n]);for(this.decorations=[],i=void 0===t.decorations?0:t.decorations.length,s=0;s<i;s+=1)this.decorations.push(t.decorations[s].slice())}else this.strings={},this.strings.prefix="",this.strings.suffix="",this.strings.delimiter="",this.decorations=[];this.blobs="string"==typeof e?e:e?[e]:[],this.alldecor=[this.decorations]},g.Blob.prototype.push=function(e){"string"==typeof this.blobs?g.error("Attempt to push blob onto string object"):!1!==e&&(e.alldecor=e.alldecor.concat(this.alldecor),this.blobs.push(e))},g.NumericBlob=function(e,t,r,i,s){if(this.id=s,this.alldecor=[],this.num=r,this.particle=t,this.blobs=r.toString(),this.status=g.START,this.strings={},i){if(i.strings["text-case"]){var n=i.strings["text-case"];this.particle=g.Output.Formatters[n](e,this.particle),this.blobs=g.Output.Formatters[n](e,this.blobs)}this.gender=i.gender,this.decorations=i.decorations,this.strings.prefix=i.strings.prefix,this.strings.suffix=i.strings.suffix,this.strings["text-case"]=i.strings["text-case"],this.successor_prefix=i.successor_prefix,this.range_prefix=i.range_prefix,this.splice_prefix=i.splice_prefix,this.formatter=i.formatter,this.formatter||(this.formatter=new g.Output.DefaultFormatter),this.formatter&&(this.type=this.formatter.format(1))}else this.decorations=[],this.strings.prefix="",this.strings.suffix="",this.successor_prefix="",this.range_prefix="",this.splice_prefix="",this.formatter=new g.Output.DefaultFormatter},g.NumericBlob.prototype.setFormatter=function(e){this.formatter=e,this.type=this.formatter.format(1)},g.Output.DefaultFormatter=function(){},g.Output.DefaultFormatter.prototype.format=function(e){return e.toString()},g.NumericBlob.prototype.checkNext=function(e,t){t?(this.status=g.START,"object"==typeof e&&(e.num===this.num+1?e.status=g.SUCCESSOR:e.status=g.SEEN)):e&&e.num&&this.type===e.type&&e.num===this.num+1?this.status===g.START||this.status===g.SEEN?e.status=g.SUCCESSOR:this.status!==g.SUCCESSOR&&this.status!==g.SUCCESSOR_OF_SUCCESSOR||(this.range_prefix?(e.status=g.SUCCESSOR_OF_SUCCESSOR,this.status=g.SUPPRESS):e.status=g.SUCCESSOR):(this.status===g.SUCCESSOR_OF_SUCCESSOR&&(this.status=g.END),"object"==typeof e&&(e.status=g.SEEN))},g.NumericBlob.prototype.checkLast=function(e){return(this.status===g.SEEN||e.num!==this.num-1&&this.status===g.SUCCESSOR)&&(this.status=g.SUCCESSOR,!0)},g.Util.fixDateNode=function(e,t,r){var i,s,n,a,o,l,u,c,m,p,h,f,d,g=this.cslXml.getAttributeValue(r,"lingo"),b=this.cslXml.getAttributeValue(r,"default-locale");if(this.build.date_key=!0,i=this.cslXml.getAttributeValue(r,"form"),g=b?this.opt["default-locale"][0]:this.cslXml.getAttributeValue(r,"lingo"),!this.getDate(i,b))return e;var y=this.cslXml.getAttributeValue(r,"date-parts");for(var v in s=this.cslXml.getAttributeValue(r,"variable"),c=this.cslXml.getAttributeValue(r,"prefix"),m=this.cslXml.getAttributeValue(r,"suffix"),f=this.cslXml.getAttributeValue(r,"display"),d=this.cslXml.getAttributeValue(r,"cslid"),n=this.cslXml.nodeCopy(this.getDate(i,b)),this.cslXml.setAttribute(n,"lingo",this.opt.lang),this.cslXml.setAttribute(n,"form",i),this.cslXml.setAttribute(n,"date-parts",y),this.cslXml.setAttribute(n,"cslid",d),this.cslXml.setAttribute(n,"variable",s),this.cslXml.setAttribute(n,"default-locale",b),c&&this.cslXml.setAttribute(n,"prefix",c),m&&this.cslXml.setAttribute(n,"suffix",m),f&&this.cslXml.setAttribute(n,"display",f),p=this.cslXml.children(n),p)a=p[v],"date-part"===this.cslXml.nodename(a)&&(o=this.cslXml.getAttributeValue(a,"name"),b&&this.cslXml.setAttributeOnNodeIdentifiedByNameAttribute(n,"date-part",o,"@default-locale","true"));for(var v in p=this.cslXml.children(r),p)if(a=p[v],"date-part"===this.cslXml.nodename(a))for(l in o=this.cslXml.getAttributeValue(a,"name"),h=this.cslXml.attributes(a),h)"@name"!==l&&(g&&g!==this.opt.lang&&["@suffix","@prefix","@form"].indexOf(l)>-1||(u=h[l],this.cslXml.setAttributeOnNodeIdentifiedByNameAttribute(n,"date-part",o,l,u)));if("year"===this.cslXml.getAttributeValue(r,"date-parts"))this.cslXml.deleteNodeByNameAttribute(n,"month"),this.cslXml.deleteNodeByNameAttribute(n,"day");else if("year-month"===this.cslXml.getAttributeValue(r,"date-parts"))this.cslXml.deleteNodeByNameAttribute(n,"day");else if("month-day"===this.cslXml.getAttributeValue(r,"date-parts")){for(var _=this.cslXml.children(n),x=1,E=this.cslXml.numberofnodes(_);x<E;x++)if("year"===this.cslXml.getAttributeValue(_[x],"name")){this.cslXml.setAttribute(_[x-1],"suffix","");break}this.cslXml.deleteNodeByNameAttribute(n,"year")}return this.cslXml.insertChildNodeAfter(e,r,t,n)},g.dateMacroAsSortKey=function(e,t){g.dateAsSortKey.call(this,e,t,!0)},g.dateAsSortKey=function(e,t,r){var i,s,n,a,o,l,u,c=this.variables[0],m="empty";if(r&&e.tmp.extension&&(m="macro-with-date"),i=t[c],void 0===i&&(i={"date-parts":[[0]]}),void 0===this.dateparts&&(this.dateparts=["year","month","day"]),i.raw?i=e.fun.dateparser.parseDateToArray(i.raw):i["date-parts"]&&(i=e.dateParseArray(i)),void 0===i&&(i={}),i.year)for(l=0,u=g.DATE_PARTS_INTERNAL.length;l<u;l+=1)if(s=g.DATE_PARTS_INTERNAL[l],n=0,a=s,"_end"===a.slice(-4)&&(a=a.slice(0,-4)),i[s]&&this.dateparts.indexOf(a)>-1&&(n=i[s]),"year"===s.slice(0,4)){o=g.Util.Dates[a].numeric(e,n);var p="1";"-"===o[0]&&(p="0",o=o.slice(1),o=9999-parseInt(o,10)),e.output.append(g.Util.Dates[s.slice(0,4)].numeric(e,p+o),m)}else n=g.Util.Dates[a]["numeric-leading-zeros"](e,n),n||(n="00"),e.output.append(n,m)},g.Engine.prototype.dateParseArray=function(e){var t,r,i,s;for(r in t={},e)if("date-parts"===r){i=e["date-parts"],i.length>1&&i[0].length!==i[1].length&&g.error("CSL data error: element mismatch in date range input."),s=["","_end"];for(var n=0,a=i.length;n<a;n+=1)for(var o=0,l=g.DATE_PARTS.length;o<l;o+=1)isNaN(parseInt(i[n][o],10))?t[g.DATE_PARTS[o]+s[n]]=void 0:t[g.DATE_PARTS[o]+s[n]]=parseInt(i[n][o],10)}else e.hasOwnProperty(r)&&("literal"===r&&"object"==typeof e.literal&&"string"==typeof e.literal.part?(g.debug("Warning: fixing up weird literal date value"),t.literal=e.literal.part):t[r]=e[r]);return t},g.Util.Names={},g.Util.Names.compareNamesets=g.NameOutput.prototype._compareNamesets,g.Util.Names.unInitialize=function(e,t){var r,i,s,n,a;if(!t)return"";for(s=t.split(/(?:\-|\s+)/),n=t.match(/(\-|\s+)/g),a="",r=0,i=s.length;r<i;r+=1)a+=s[r],r<i-1&&(a+=n[r]);return a},g.Util.Names.initializeWith=function(e,t,r,i){var s,n;if(!t)return"";if(r||(r=""),["Lord","Lady"].indexOf(t)>-1||!t.replace(/^(?:<[^>]+>)*/,"").match(g.STARTSWITH_ROMANESQUE_REGEXP)&&!r.match("%s"))return t;!1===e.opt["initialize-with-hyphen"]&&(t=t.replace(/\-/g," ")),t=t.replace(/\s*\-\s*/g,"-").replace(/\s+/g," "),t=t.replace(/-([a-z])/g,"$1");for(var a=t.length-2;a>-1;a+=-1)"."===t.slice(a,a+1)&&" "!==t.slice(a+1,a+2)&&(t=t.slice(0,a)+". "+t.slice(a+1));var o=g.Output.Formatters.nameDoppel.split(t),l=[];if(l=[o.strings[0]],0===o.tags.length){var u=l[0].match(/[^\.]+$/);u&&1===u[0].length&&u[0]!==u[0].toLowerCase()&&(l[0]+=".")}for(a=1,s=o.strings.length;a<s;a+=1)l.push(o.tags[a-1]),l.push(o.strings[a]);return n=i?this.doNormalize(e,l,r):this.doInitialize(e,l,r),n=n.replace(/\u2013([a-z])/g,"-$1"),n},g.Util.Names.notag=function(e){return e.replace(/^(?:<[^>]+>)*/,"")},g.Util.Names.mergetag=function(e,t,r){var i=t.match(/(?:-*<[^>]+>-*)/g);return i?(t=i.join(""),i=r.match(/^(.*[^\s])*(\s+)$/),i?(i[1]=i[1]?i[1]:"",r=i[1]+t+i[2]):r+=t,r):r},g.Util.Names.tagonly=function(e,t){var r=t.match(/(?:<[^>]+>)+/);return r?r.join(""):t},g.Util.Names.doNormalize=function(e,t,r){var i,s;r=r||"";var n=[];for(i=0,s=t.length;i<s;i+=1)this.notag(t[i]).length>1&&"."===this.notag(t[i]).slice(-1)?(t[i]=t[i].replace(/^(.*)\.(.*)$/,"$1$2"),n.push(!0)):1===t[i].length&&t[i].toUpperCase()===t[i]?n.push(!0):n.push(!1);for(i=0,s=t.length;i<s;i+=2)n[i]&&(i<t.length-2&&(t[i+1]=this.tagonly(e,t[i+1]),n[i+2]||(t[i+1]=this.tagonly(e,t[i+1])+" "),t[i+2].length>1?t[i+1]=r.replace(/\ufeff$/,"")+t[i+1]:t[i+1]=this.mergetag(e,t[i+1],r)),i===t.length-1&&(t[i]=t[i]+r));return t.join("").replace(/[\u0009\u000a\u000b\u000c\u000d\u0020\ufeff\u00a0]+$/,"").replace(/\s*\-\s*/g,"-").replace(/[\u0009\u000a\u000b\u000c\u000d\u0020]+/g," ")},g.Util.Names.doInitialize=function(e,t,r){var i,s,n,a,o,l,u;for(i=0,s=t.length;i<s;i+=2)if(u=t[i],u)if(n=u.match(g.NAME_INITIAL_REGEXP),!n&&!u.match(g.STARTSWITH_ROMANESQUE_REGEXP)&&u.length>1&&r.match("%s")&&(n=u.match(/(.)(.*)/)),n&&n[2]&&n[3]&&(n[1]=n[1]+n[2],n[2]=""),n&&n[1].slice(0,1)===n[1].slice(0,1).toUpperCase()){var c="";if(n[2]){var m="";for(l=n[2].split(""),a=0,o=l.length;a<o;a+=1){var p=l[a];if(p!==p.toUpperCase())break;m+=p}m.length<n[2].length&&(c=g.toLocaleLowerCase.call(e,m))}t[i]=n[1]+c,i<s-1?r.match("%s")?t[i]=r.replace("%s",t[i]):t[i+1].indexOf("-")>-1?t[i+1]=this.mergetag(e,t[i+1].replace("-",""),r)+"-":t[i+1]=this.mergetag(e,t[i+1],r):r.match("%s")?t[i]=r.replace("%s",t[i]):t.push(r)}else!u.match(g.ROMANESQUE_REGEXP)||n&&n[3]||(t[i]=" "+u);var h=t.join("");return h=h.replace(/[\u0009\u000a\u000b\u000c\u000d\u0020\ufeff\u00a0]+$/,"").replace(/\s*\-\s*/g,"-").replace(/[\u0009\u000a\u000b\u000c\u000d\u0020]+/g," "),h},g.Util.Names.getRawName=function(e){var t=[];return e.literal?t.push(e.literal):(e.given&&t.push(e.given),e.family&&t.push(e.family)),t.join(" ")},g.Util.Dates={},g.Util.Dates.year={},g.Util.Dates.year.long=function(e,t){return t||(t="boolean"==typeof t?"":0),t.toString()},g.Util.Dates.year.imperial=function(e,t,r){var i="";t||(t="boolean"==typeof t?"":0),r=r?"_end":"";var s=e.tmp.date_object["month"+r];for(s=s?""+s:"1";s.length<2;)s="0"+s;var n=e.tmp.date_object["day"+r];for(n=n?""+n:"1";n.length<2;)n="0"+n;var a,o,l=parseInt(t+s+n,10);if(l>=18680908&&l<19120730?(a="",o=1867):l>=19120730&&l<19261225?(a="",o=1911):l>=19261225&&l<19890108?(a="",o=1925):l>=19890108&&(a="",o=1988),a&&o){var u=a;e.sys.normalizeAbbrevsKey&&(u=e.sys.normalizeAbbrevsKey("number",a)),e.transform.abbrevs.default.number[u]||e.transform.loadAbbreviation("default","number",u,null),e.transform.abbrevs.default.number[u]&&(a=e.transform.abbrevs.default.number[u]),i=a+(t-o)}return i},g.Util.Dates.year.short=function(e,t){if(t=t.toString(),t&&4===t.length)return t.substr(2)},g.Util.Dates.year.numeric=function(e,t){var r;t=""+t;var i=t.match(/([0-9]*)$/);for(i?(r=t.slice(0,-1*i[1].length),t=i[1]):(r=t,t="");t.length<4;)t="0"+t;return r+t},g.Util.Dates.normalizeMonth=function(e,t){var r;if(e||(e=0),e=""+e,e.match(/^[0-9]+$/)||(e=0),e=parseInt(e,10),t){var i={stub:"month-",num:e};if(i.num<1||i.num>24)i.num=0;else{for(;i.num>16;)i.num=i.num-4;i.num>12&&(i.stub="season-",i.num=i.num-12)}r=i}else(e<1||e>12)&&(e=0),r=e;return r},g.Util.Dates.month={},g.Util.Dates.month.numeric=function(e,t){t=g.Util.Dates.normalizeMonth(t);return t||(t=""),t},g.Util.Dates.month["numeric-leading-zeros"]=function(e,t){t=g.Util.Dates.normalizeMonth(t);if(t)for(t=""+t;t.length<2;)t="0"+t;else t="";return t},g.Util.Dates.month.long=function(e,t,r,i){var s=g.Util.Dates.normalizeMonth(t,!0);t=s.num;if(t){for(t=""+t;t.length<2;)t="0"+t;t=e.getTerm(s.stub+t,"long",0,0,!1,i)}else t="";return t},g.Util.Dates.month.short=function(e,t,r,i){var s=g.Util.Dates.normalizeMonth(t,!0);t=s.num;if(t){for(t=""+t;t.length<2;)t="0"+t;t=e.getTerm(s.stub+t,"short",0,0,!1,i)}else t="";return t},g.Util.Dates.day={},g.Util.Dates.day.numeric=function(e,t){return t.toString()},g.Util.Dates.day.long=g.Util.Dates.day.numeric,g.Util.Dates.day["numeric-leading-zeros"]=function(e,t){for(t||(t=0),t=t.toString();t.length<2;)t="0"+t;return t.toString()},g.Util.Dates.day.ordinal=function(e,t,r){return e.fun.ordinalizer.format(t,r)},g.Util.Sort={},g.Util.Sort.strip_prepositions=function(e){var t;return"string"==typeof e&&(t=e.match(/^(([aA]|[aA][nN]|[tT][hH][eE])\s+)/)),t&&(e=e.substr(t[1].length)),e},g.Util.substituteStart=function(e,t){var r,i,s,n,a,o,l;n=function(e,t,r){for(var i=0,s=this.decorations.length;i<s;i+=1)if("@strip-periods"===this.decorations[i][0]&&"true"===this.decorations[i][1]){e.tmp.strip_periods+=1;break}},this.execs.push(n),this.decorations&&e.opt.development_extensions.csl_reverse_lookup_support&&(this.decorations.reverse(),this.decorations.push(["@showid","true",this.cslid]),this.decorations.reverse()),l=["number","date","names"],("text"===this.name&&!this.postponed_macro||l.indexOf(this.name)>-1)&&(r=function(e,t,r){"author"===e.tmp.element_trace.value()||"names"===this.name?(!e.tmp.just_looking&&r&&r["author-only"]&&"intext"!==e.tmp.area&&e.tmp.probably_rendered_something&&e.tmp.element_trace.push("suppress-me"),!e.tmp.just_looking&&r&&r["suppress-author"]&&(e.tmp.probably_rendered_something||e.tmp.element_trace.push("suppress-me"))):"date"===this.name?!e.tmp.just_looking&&r&&r["author-only"]&&"intext"!==e.tmp.area&&e.tmp.probably_rendered_something&&e.tmp.element_trace.push("suppress-me"):!e.tmp.just_looking&&r&&r["author-only"]&&"intext"!==e.tmp.area?!e.tmp.probably_rendered_something&&e.tmp.can_block_substitute||e.tmp.element_trace.push("suppress-me"):r&&r["suppress-author"]&&e.tmp.element_trace.push("do-not-suppress-me")},this.execs.push(r)),i=this.strings.cls,this.strings.cls=!1,0===e.build.render_nesting_level&&("bibliography"===e.build.area&&e.bibliography.opt["second-field-align"]?(s=new g.Token("group",g.START),s.decorations=[["@display","left-margin"]],n=function(e,t){e.tmp.render_seen||(s.strings.first_blob=t.id,e.output.startTag("bib_first",s))},s.execs.push(n),t.push(s)):g.DISPLAY_CLASSES.indexOf(i)>-1&&(s=new g.Token("group",g.START),s.decorations=[["@display",i]],n=function(e,t){s.strings.first_blob=t.id,e.output.startTag("bib_first",s)},s.execs.push(n),t.push(s)),e.build.cls=i),e.build.render_nesting_level+=1,1===e.build.substitute_level.value()&&(a=new g.Token("choose",g.START),g.Node.choose.build.call(a,e,t),o=new g.Token("if",g.START),n=function(){return!!e.tmp.can_substitute.value()},o.tests||(o.tests=[]),o.tests.push(n),o.test=e.fun.match.any(this,e,o.tests),t.push(o)),e.sys.variableWrapper&&this.variables_real&&this.variables_real.length&&(n=function(e,t,r){if(!e.tmp.just_looking&&!e.tmp.suppress_decorations){var i=new g.Token("text",g.START);i.decorations=[["@showid","true"]],e.output.startTag("variable_entry",i);var s=null;r&&(s=r.position),s||(s=0);var n=["first","container-subsequent","subsequent","ibid","ibid-with-locator"],a=0;r&&r.noteIndex&&(a=r.noteIndex);var o=0;r&&r["first-reference-note-number"]&&(o=r["first-reference-note-number"]);var l=0;r&&r["first-container-reference-note-number"]&&(l=r["first-container-reference-note-number"]);var u=0;r&&r["citation-number"]&&(u=r["citation-number"]);var c=0;r&&r.index&&(c=r.index);var m={itemData:t,variableNames:this.variables,context:e.tmp.area,xclass:e.opt.xclass,position:n[s],"note-number":a,"first-reference-note-number":o,"first-container-reference-note-number":l,"citation-number":u,index:c,mode:e.opt.mode};e.output.current.value().params=m}},this.execs.push(n))},g.Util.substituteEnd=function(e,t){var r,i,s,n,a,o;if(e.sys.variableWrapper&&(this.hasVariable||this.variables_real&&this.variables_real.length)&&(r=function(e){e.tmp.just_looking||e.tmp.suppress_decorations||e.output.endTag("variable_entry")},this.execs.push(r)),r=function(e){for(var t=0,r=this.decorations.length;t<r;t+=1)if("@strip-periods"===this.decorations[t][0]&&"true"===this.decorations[t][1]){e.tmp.strip_periods+=-1;break}},this.execs.push(r),e.build.render_nesting_level+=-1,0===e.build.render_nesting_level&&(e.build.cls?(r=function(e){e.output.endTag("bib_first")},this.execs.push(r),e.build.cls=!1):"bibliography"===e.build.area&&e.bibliography.opt["second-field-align"]&&(i=new g.Token("group",g.END),r=function(e){e.tmp.render_seen||e.output.endTag("bib_first")},i.execs.push(r),t.push(i),s=new g.Token("group",g.START),s.decorations=[["@display","right-inline"]],r=function(e){e.tmp.render_seen||(e.tmp.render_seen=!0,e.output.startTag("bib_other",s))},s.execs.push(r),t.push(s))),1===e.build.substitute_level.value()&&(n=new g.Token("if",g.END),t.push(n),a=new g.Token("choose",g.END),g.Node.choose.build.call(a,e,t)),"names"===this.name||"text"===this.name&&"title"!==this.variables_real){new g.Token("text",g.SINGLETON);var l=this.name;r=function(e,t){if("bibliography"===e.tmp.area&&"string"==typeof e.bibliography.opt["subsequent-author-substitute"]&&(!this.variables_real||t[this.variables_real])&&(!this.variables_real||"names"!==l)){var r,i,s=e.bibliography.opt["subsequent-author-substitute-rule"],n=!e.tmp.suppress_decorations;if(n&&e.tmp.subsequent_author_substitute_ok&&e.tmp.rendered_name){if("partial-each"===s||"partial-first"===s){var a=!0,u=[];for(r=0,i=e.tmp.name_node.children.length;r<i;r+=1){var c=e.tmp.rendered_name[r];a&&e.tmp.last_rendered_name&&e.tmp.last_rendered_name.length>r-1&&c&&!c.localeCompare(e.tmp.last_rendered_name[r])?(o=new g.Blob(e[e.tmp.area].opt["subsequent-author-substitute"]),e.tmp.name_node.children[r].blobs=[o],"partial-first"===s&&(a=!1)):a=!1,u.push(c)}e.tmp.last_rendered_name=u}else if("complete-each"===s){u=e.tmp.rendered_name.join(",");if(u){if(e.tmp.last_rendered_name&&!u.localeCompare(e.tmp.last_rendered_name))for(r=0,i=e.tmp.name_node.children.length;r<i;r+=1)o=new g.Blob(e[e.tmp.area].opt["subsequent-author-substitute"]),e.tmp.name_node.children[r].blobs=[o];e.tmp.last_rendered_name=u}}else{u=e.tmp.rendered_name.join(",");u&&(e.tmp.last_rendered_name&&!u.localeCompare(e.tmp.last_rendered_name)&&(o=new g.Blob(e[e.tmp.area].opt["subsequent-author-substitute"]),e.tmp.label_blob?e.tmp.name_node.top.blobs=[o,e.tmp.label_blob]:e.tmp.name_node.top.blobs.length?e.tmp.name_node.top.blobs[0].blobs=[o]:e.tmp.name_node.top.blobs=[o],e.tmp.substituted_variable=l),e.tmp.last_rendered_name=u)}e.tmp.subsequent_author_substitute_ok=!1}}},this.execs.push(r)}("text"===this.name&&!this.postponed_macro||["number","date","names"].indexOf(this.name)>-1)&&(r=function(e,t){e.tmp.element_trace.mystack.length>1&&e.tmp.element_trace.pop()},this.execs.push(r))},g.Util.padding=function(e){var t=e.match(/\s*(-{0,1}[0-9]+)/);if(t)for(e=parseInt(t[1],10),e<0&&(e=1e20+e),e=""+e;e.length<20;)e="0"+e;return e},g.Util.LongOrdinalizer=function(){},g.Util.LongOrdinalizer.prototype.init=function(e){this.state=e},g.Util.LongOrdinalizer.prototype.format=function(e,t){e<10&&(e="0"+e);var r=g.Engine.getField(g.LOOSE,this.state.locale[this.state.opt.lang].terms,"long-ordinal-"+e,"long",0,t);return r||(r=this.state.fun.ordinalizer.format(e,t)),this.state.tmp.cite_renders_content=!0,r},g.Util.Ordinalizer=function(e){this.state=e,this.suffixes={}},g.Util.Ordinalizer.prototype.init=function(){if(!this.suffixes[this.state.opt.lang]){this.suffixes[this.state.opt.lang]={};for(var e=0,t=3;e<t;e+=1){var r=[void 0,"masculine","feminine"][e];this.suffixes[this.state.opt.lang][r]=[];for(var i=1;i<5;i+=1){var s=this.state.getTerm("ordinal-0"+i,"long",!1,r);if(void 0===s){delete this.suffixes[this.state.opt.lang][r];break}this.suffixes[this.state.opt.lang][r].push(s)}}}},g.Util.Ordinalizer.prototype.format=function(e,t){var r;e=parseInt(e,10),r=""+e;var i="",s=[];if(t&&s.push(t),s.push("neuter"),this.state.locale[this.state.opt.lang].ord["1.0.1"]){var n;i=this.state.getTerm("ordinal",!1,0,t);for(var a=0,o=s.length;a<o;a+=1){n=s[a];var l=this.state.locale[this.state.opt.lang].ord["1.0.1"]
;if(l["whole-number"][r]&&l["whole-number"][r][n]?i=this.state.getTerm(this.state.locale[this.state.opt.lang].ord["1.0.1"]["whole-number"][r][n],!1,0,t):l["last-two-digits"][r.slice(r.length-2)]&&l["last-two-digits"][r.slice(r.length-2)][n]?i=this.state.getTerm(this.state.locale[this.state.opt.lang].ord["1.0.1"]["last-two-digits"][r.slice(r.length-2)][n],!1,0,t):l["last-digit"][r.slice(r.length-1)]&&l["last-digit"][r.slice(r.length-1)][n]&&(i=this.state.getTerm(this.state.locale[this.state.opt.lang].ord["1.0.1"]["last-digit"][r.slice(r.length-1)][n],!1,0,t)),i)break}}else t||(t=void 0),this.state.fun.ordinalizer.init(),i=e/10%10==1||e>10&&e<20?this.suffixes[this.state.opt.lang][t][3]:e%10==1&&e%100!=11?this.suffixes[this.state.opt.lang][t][0]:e%10==2&&e%100!=12?this.suffixes[this.state.opt.lang][t][1]:e%10==3&&e%100!=13?this.suffixes[this.state.opt.lang][t][2]:this.suffixes[this.state.opt.lang][t][3];return r=r+=i,r},g.Util.Romanizer=function(){},g.Util.Romanizer.prototype.format=function(e){var t,r,i,s,n;if(t="",e<6e3)for(s=e.toString().split(""),s.reverse(),r=0,i=0,n=s.length,r=0;r<n;r+=1)i=parseInt(s[r],10),t=g.ROMAN_NUMERALS[r][i]+t;return t},g.Util.Suffixator=function(e){e||(e=g.SUFFIX_CHARS),this.slist=e.split(",")},g.Util.Suffixator.prototype.format=function(e){var t;e+=1;var r="";do{t=e%26==0?26:e%26;r=this.slist[t-1]+r;e=(e-t)/26}while(0!==e);return r},g.Engine.prototype.processNumber=function(e,t,r){function i(e){e=e.trim();var i=e.match(/^([^ ]+)/);if(i&&!g.STATUTE_SUBDIV_STRINGS[i[1]]){var s=null;s=["locator","locator-extra","page"].indexOf(r)>-1?t.label?g.STATUTE_SUBDIV_STRINGS_REVERSE[t.label]:"p.":g.STATUTE_SUBDIV_STRINGS_REVERSE[r],s&&(e=s+" "+e)}return e}function s(e,t,i,s,n){s=s||"";var a={};if(t||g.STATUTE_SUBDIV_STRINGS_REVERSE[r]||(t="var:"+r),t){var o=t.match(/(\s*)([^\s]+)(\s*)/);"page"===E&&0===n&&-1===["p.","pp."].indexOf(o[2])?(a.gotosleepability=!0,a.labelVisibility=!0):a.labelVisibility=!1,a.label=o[2],a.origLabel=e,a.labelSuffix=o[3]?o[3]:"",a.plural=0}o=i.match(/^([0-9]*[a-zA-Z]+0*)?([0-9]+(?:[a-zA-Z]*|[-,a-zA-Z]+))$/);return o?(a.particle=o[1]?o[1]:"",a.value=o[2]):(a.particle="",a.value=i),a.joiningSuffix=s.replace(/\s*-\s*/,"-"),a}function n(e){for(var t=e.length-2;t>-1;t-=2)"-"===e[t]&&e[t-1].match(/^(?:(?:[a-z]|[a-z][a-z]|[a-z][a-z][a-z]|[a-z][a-z][a-z][a-z])\.  *)*[0-9]+[,a-zA-Z]+$/)&&e[t+1].match(/^[,a-zA-Z]+$/)&&(e[t-1]=e.slice(t-1,t+2).join(""),e=e.slice(0,t).concat(e.slice(t+2)));return e}function a(e,t){var a,o,l;if(t=t||"",e=i(e,t),"page"===r&&e.indexOf("")>-1&&(e=e.replace(/\u2013/g,"-")),e.indexOf("\\-")>-1){a=new RegExp(O.source.replace("\\-","")),o=new RegExp(S.source.replace("\\-",""));for(var u=e.split("\\-"),c=0,m=u.length;c<m;c++)u[c]=u[c].replace(/\-/g,"");l=u.join("\\-"),l=l.replace(/\\/g,"")}else a=O,o=S,l=e;var p=[],h=l.match(a);if(h){for(u=l.split(o),c=0,m=h.length;c<m;c++)h[c].match(T)&&(u[c].match(/[a-zA-Z]$/)&&u[c].match(/^[a-zA-Z]/)?h[c]=k:h[c]=" "+k+" ");var f=!1;for(var c in u)if((""+u[c]).replace(/^[a-z]\.\s+/,"").match(/[^\s0-9ivxlcmIVXLCM]/))break;if(f)p=[l];else{for(c=0,m=u.length-1;c<m;c++)p.push(u[c]),p.push(h[c]);p.push(u[u.length-1]),p=n(p)}}else p=[l];var d=[],b=t,y="";for(c=0,m=p.length;c<m;c+=2){h=p[c].match(/((?:^| )(?:[a-z]|[a-z][a-z]|[a-z][a-z][a-z]|[a-z][a-z][a-z][a-z]|subpara|subch|amend|bibliog|annot|illus|princ|intro|sched|subdiv|subsec)(?:\.| ) *)/g);if(h){u=p[c].split(/(?:(?:^| )(?:[a-z]|[a-z][a-z]|[a-z][a-z][a-z]|[a-z][a-z][a-z][a-z]|subpara|subch|amend|bibliog|annot|illus|princ|intro|sched|subdiv|subsec)(?:\.| ) *)/);for(var v=u.length-1;v>0;v--)!u[v-1]||u[v].match(/^[0-9]+([-;,:a-zA-Z]*)$/)&&u[v-1].match(/^[0-9]+([-;,:a-zA-Z]*)$/)||(u[v-1]=u[v-1]+h[v-1]+u[v],u=u.slice(0,v).concat(u.slice(v+1)),h=h.slice(0,v-1).concat(h.slice(v)));if(h.length>0){var _=h[0].trim(),E=!g.STATUTE_SUBDIV_STRINGS[_]||void 0===x.getTerm(g.STATUTE_SUBDIV_STRINGS[_])||-1===["locator","number","locator-extra","page"].indexOf(r)&&g.STATUTE_SUBDIV_STRINGS[_]!==r;E?0===c&&(h=h.slice(1),u[0]=u[0]+" "+_+" "+u[1],u=u.slice(0,1).concat(u.slice(2))):y=_}v=0;for(var A=u.length;v<A;v++){if(u[v]||v===u.length-1)b=h[v-1]?h[v-1]:b,w=y===b.trim()?"":y,l=u[v]?u[v].trim():"",v===u.length-1?d.push(s(w,b,l,p[c+1],c)):d.push(s(w,b,l,null,c))}}else{var w;w=y===b.trim()?"":y,d.push(s(w,b,p[c],p[c+1]))}}return d}function o(e){for(var t=0,r=e.length-1;t<r;t++)!e[t].joiningSuffix&&e[t+1].label&&(e[t].joiningSuffix=" ")}function l(e,t,r){var i=e[r.pos],s=e[t].value,n="\\-"===i.joiningSuffix;s.particle&&s.particle!==i.particle&&(r.collapsible=!1);var a=s.match(/^[0-9]+([-,:a-zA-Z]*)$/),o=i.value.match(/^(?:[0-9]+|[ixv]+)([-,:a-zA-Z]*|\-[\-0-9]+)$/);if(s&&a&&o&&!n||(r.collapsible=!1,s&&o||(r.numeric=!1),n&&r.count--),(a&&a[1]||o&&o[1])&&(r.collapsible=!1),void 0===e[t].collapsible){for(var l=t,u=t+r.count;l<u;l++)isNaN(parseInt(e[l].value))&&!e[l].value.match(/^[ivxlcmIVXLCM]+$/)?e[l].collapsible=!1:e[l].collapsible=!0;r.collapsible=e[t].collapsible}var c=r.collapsible;for(l=r.pos,u=r.pos+r.count;l<u;l++)r.count>1&&c&&(e[l].plural=1),e[l].numeric=r.numeric,e[l].collapsible=r.collapsible}function u(e,t,i){"var:"!==i.label.slice(0,4)&&(0===i.pos?(["locator","number","locator-extra","page"].indexOf(r)>-1&&void 0===x.getTerm(g.STATUTE_SUBDIV_STRINGS[i.label])&&(e[i.pos].labelVisibility=!0),-1===["locator","number","locator-extra","page"].indexOf(r)&&g.STATUTE_SUBDIV_STRINGS[i.label]!==r&&(e[0].labelVisibility=!0)):e[i.pos].labelVisibility=!0)}function c(e){if(0!==e.length){for(var i=0,s=1,n=1,a=e.length;n<a;n++){var o=e[n-1],c=e[n];if(o.label===c.label&&o.particle==o.particle)s++;else{var m=JSON.parse(JSON.stringify(e[i]));m.pos=i,m.count=s,m.numeric=!0,l(e,i,m),o.label!==c.label&&u(e,i,m),i=n,s=1}}m=JSON.parse(JSON.stringify(e[i]));m.pos=i,m.count=s,m.numeric=!0,l(e,i,m),u(e,i,m),e.length&&e[0].numeric&&"number-of-"===r.slice(0,10)&&parseInt(t[E],10)>1&&(e[0].plural=1)}}function m(e){return e.replace("\\-","-")}function p(t){var r=g.Util.cloneToken(e),i=new g.Token;x.tmp.just_looking||(i.decorations=r.decorations,r.decorations=[],i.strings.prefix=r.strings.prefix,r.strings.prefix="",i.strings.suffix=r.strings.suffix,r.strings.suffix="");var s=t.length?t[0].label:null;if(t.length){for(var n=0,a=t.length;n<a;n++){var o=t[n],l=g.Util.cloneToken(r);l.gender=e.gender,s===o.label&&(l.formatter=e.formatter),o.numeric&&(l.successor_prefix=o.successor_prefix),l.strings.suffix=l.strings.suffix+m(o.joiningSuffix),o.styling=l}x.tmp.just_looking||'"'===t[0].value.slice(0,1)&&'"'===t[t.length-1].value.slice(-1)&&(t[0].value=t[0].value.slice(1),t[t.length-1].value=t[t.length-1].value.slice(0,-1),i.decorations.push(["@quotes",!0]))}return i}function h(e,t){var r,i=!0;["locator","locator-extra","page"].indexOf(e)>-1&&(r=t.origLabel?t.origLabel:t.label,i=!!x.getTerm(g.STATUTE_SUBDIV_STRINGS[r]));return i}function f(e,t){return"page"===e||["locator","locator-extra"].indexOf(e)>-1&&(["p."].indexOf(t.label)>-1||["p."].indexOf(t.origLabel)>-1)}function d(e,t,r,i){var s=f(e,t),n=h(e,t);return n&&"-"===r&&i&&((s||["locator","locator-extra","issue","volume","edition","number"].indexOf(e)>-1)&&(r=x.getTerm("page-range-delimiter"),r||(r="")),"collection-number"===e&&(r=x.getTerm("year-range-delimiter"),r||(r=""))),r}function b(e,t,i){if(!(t<1)&&2===i.count&&e[t-1].particle===e[t].particle)if("-"===e[t-1].joiningSuffix)if(!x.opt["page-range-format"]&&parseInt(e[t-1].value,10)>parseInt(e[t].value,10))e[t-1].joiningSuffix=d(r,e[t],e[t-1].joiningSuffix,!0);else{var s,n=e[t],a=f(r,n);!a||isNaN(parseInt(e[t-1].value))||isNaN(parseInt(e[t].value))?((""+e[t-1].value).match(/^([0-9]+|[ivxlcmIVXLCM]+)$/)&&(""+e[t].value).match(/^([0-9]+|[ivxlcmIVXLCM]+)$/)&&(e[t-1].joiningSuffix=x.getTerm("page-range-delimiter")),s=e[t-1].value+m(e[t-1].joiningSuffix)+e[t].value):(s=e[t-1].particle+e[t-1].value+" - "+e[t].particle+e[t].value,s=x.fun.page_mangler(s));var o=s.match(/^((?:[0-9]*[a-zA-Z]+0*))?([0-9]+[a-z]*)(\s*[^0-9]+\s*)([-,a-zA-Z]?0*)([0-9]+[a-z]*)$/);if(o){var l=o[3];l=d(r,n,l,e[t].numeric),e[t-1].particle=o[1],e[t-1].value=o[2],e[t-1].joiningSuffix=l,e[t].particle=o[4],e[t].value=o[5]}i.count=0}else i.count=1}function y(t){if(e&&-1!==["page","chapter-number","collection-number","edition","issue","number","number-of-pages","number-of-volumes","volume","locator","locator-extra"].indexOf(r)){for(var i={count:0,label:null,lastHadRangeDelimiter:!1},s=0,n=t.length;s<n;s++){var a=t[s];if(a.collapsible)i.label===a.label&&"-"===a.joiningSuffix?i.count=1:i.label===a.label&&"-"!==a.joiningSuffix?(i.count++,2===i.count&&b(t,s,i)):i.label!==a.label?(i.label=a.label,i.count=1):(i.count=1,i.label=a.label);else{i.count=0,i.label=null;var o=a.numeric;a.joiningSuffix=d(r,a,a.joiningSuffix,o)}}2===i.count&&b(t,t.length-1,i)}}function v(e,t,i){var s=e[t];i.length&&(s.numeric=i[0].numeric,s.collapsible=i[0].collapsible,s.plural=i[0].plural,s.label=g.STATUTE_SUBDIV_STRINGS[i[0].label],"number"===r&&"issue"===s.label&&x.getTerm("number")&&(s.label="number"))}var _,x=this,E=r;r="page-first"===r?"page":r;var A=",\\s+and\\s+|\\s+and\\s+";"en"!==this.opt.lang.slice(0,2)&&(A+="|,\\s+"+this.getTerm("and")+"\\s+|\\s+"+this.getTerm("and")+"\\s+");var w="\\s*&\\s*",T=new RegExp("^"+w+"$"),O=new RegExp("("+w+"|"+A+"|;\\s+|,\\s+|\\s*\\\\*[\\-\\u2013]+\\s*)","g"),S=new RegExp("(?:"+w+"|"+A+"|;\\s+|,\\s+|\\s*\\\\*[\\-\\u2013]+\\s*)"),C=this.getTerm("and"),k=this.getTerm("and","symbol");if(C===k&&(k="&"),e&&this.tmp.shadow_numbers[E]&&this.tmp.shadow_numbers[E].values.length){var N=this.tmp.shadow_numbers[E].values;return y(N),void(this.tmp.shadow_numbers[E].masterStyling=p(N))}if(this.tmp.shadow_numbers[E]||(this.tmp.shadow_numbers[E]={values:[]}),t){var I=g.LangPrefsMap[r];if(I){var P=this.opt["cite-lang-prefs"][I][0];_=this.transform.getTextSubField(t,E,"locale-"+P,!0),_=_.name}else _=t[E];if(_&&"number"===E&&"legal_case"===t.type&&(_=_.replace(/[\\]*-/g,"\\-")),_&&this.sys.getAbbreviation){if(this.sys.normalizeAbbrevsKey)var j=this.sys.normalizeAbbrevsKey(E,_);else j=_;var R=this.transform.loadAbbreviation(t.jurisdiction,"number",j,t.language);this.transform.abbrevs[R].number&&(this.transform.abbrevs[R].number[j]?_=this.transform.abbrevs[R].number[j]:void 0!==this.transform.abbrevs[R].number[j]&&delete this.transform.abbrevs[R].number[j])}if(void 0!==_&&("string"==typeof _||"number"==typeof _)){"number"==typeof _&&(_=""+_);var D=g.STATUTE_SUBDIV_STRINGS_REVERSE[r];if(0===this.tmp.shadow_numbers[E].values.length){N=a(_,D);for(var B of(o(N),c(N),N))B.numeric||(B.plural=0);this.tmp.shadow_numbers[E].values=N,e&&(y(N),this.tmp.shadow_numbers[E].masterStyling=p(N)),v(this.tmp.shadow_numbers,E,N)}var M=this.tmp.shadow_numbers[E];"number"===r&&1===M.values.length&&M.values[0].value.indexOf("|")>-1&&(M.values[0].value=M.values[0].value.replace(/\|/g,", "),M.values[0].numeric=!0,M.values[0].plural=1,M.values[0].collapsible=!1,M.numeric=!0,M.plural=1,M.collapsible=!1),1===M.values.length&&M.values[0].value.match(/^[0-9]+(?:\/[0-9]+)+$/)&&(M.values[0].numeric=!0,M.values[0].plural=0,M.values[0].collapsible=!1,M.numeric=!0,M.plural=0,M.collapsible=!1),"page"===r&&M.values.length>0&&M.values[0].gotosleepability&&(M.labelForm="short")}}},g.Util.outputNumericField=function(e,t,r){e.output.openLevel(e.tmp.shadow_numbers[t].masterStyling);var i,s=e.tmp.shadow_numbers[t].masterStyling,n=e.tmp.shadow_numbers[t].values,a=n.length?n[0].label:null,o=e.tmp.shadow_numbers[t].labelForm,l=e.tmp.group_context.tip.label_static;i=o||"short";for(var u=e.tmp.shadow_numbers[t].labelCapitalizeIfFirst,c=e.tmp.shadow_numbers[t].labelDecorations,m=null,p=0,h=n.length;p<h;p++){var f,d=n[p],b="";d.label&&(f="var:"===d.label.slice(0,4)?d.label.slice(4):g.STATUTE_SUBDIV_STRINGS[d.label],f&&(d.label===a?(l&&(b=e.getTerm(f,"static",d.plural),-1===b.indexOf("%s")&&(b="")),b||(b=e.getTerm(f,o,d.plural))):(l&&(b=e.getTerm(f,"static",d.plural),-1===b.indexOf("%s")&&(b="")),b||(b=e.getTerm(f,i,d.plural))),u&&(b=g.Output.Formatters["capitalize-first"](e,b))));var y=-1;b&&(y=b.indexOf("%s"));var v,_=g.Util.cloneToken(d.styling);if(_.formatter=d.styling.formatter,_.type=d.styling.type,_.num=d.styling.num,_.gender=d.styling.gender,y>0&&y<b.length-2)_.strings.prefix+=b.slice(0,y),_.strings.suffix=b.slice(y+2)+_.strings.suffix;else if(d.labelVisibility)if(b||(b=d.label,f=d.label),y>0){var x=new g.Token;x.decorations=c,e.output.append(b.slice(0,y),x)}else y!==b.length-2&&-1!==y||e.output.append(b+d.labelSuffix,"empty");if(g.UPDATE_GROUP_CONTEXT_CONDITION(e,s.strings.prefix,null,s,`${d.particle}${d.value}`),d.collapsible)v=d.value.match(/^[1-9][0-9]*$/)&&Number.isSafeInteger(parseInt(d.value,10))?new g.NumericBlob(e,d.particle,parseInt(d.value,10),_,r):new g.NumericBlob(e,d.particle,d.value,_,r),void 0===v.gender&&(v.gender=e.locale[e.opt.lang]["noun-genders"][t]),e.output.append(v,"literal");else e.output.append(d.particle+d.value,_);if(0===y&&y<b.length-2&&(null===m&&(m=f),f!==m||p===n.length-1)){var E=new g.Token;E.decorations=c,e.output.append(b.slice(y+2),E)}m=f,e.tmp.term_predecessor=!0}e.output.closeLevel()},g.Util.PageRangeMangler={},g.Util.PageRangeMangler.getFunction=function(e,t){var r,i,s,n,a,o,l,u,c,m,p,h,f,d,g,b,y,v,_=e.getTerm(t+"-range-delimiter");r=/([0-9]*[a-zA-Z]+0*)?([0-9]+[a-z]*)\s*(?:\u2013|-)\s*([0-9]*[a-zA-Z]+0*)?([0-9]+[a-z]*)/,n=function(r){for(s=r.length,i=1;i<s;i+=2)"object"==typeof r[i]&&(r[i]=r[i].join(""));var n=r.join("");return n=n.replace(/([^\\])\-/g,"$1"+e.getTerm(t+"-range-delimiter")),n},a=function(e){var t,r,n,a="\\s+\\-\\s+",o="-"===_?"":_,l=new RegExp("([^\\\\])[-"+o+"\\u2013]","g");e=e.replace(l,"$1 - ").replace(/\s+-\s+/g," - ");var u=new RegExp("((?:[0-9]*[a-zA-Z]+0*)?[0-9]+[a-z]*"+a+"(?:[0-9]*[a-zA-Z]+0*)?[0-9]+[a-z]*)","g"),c=new RegExp("(?:[0-9]*[a-zA-Z]+0*)?[0-9]+[a-z]*"+a+"(?:[0-9]*[a-zA-Z]+0*)?[0-9]+[a-z]*");if(t=e.match(u),r=e.split(c),0===r.length)n=t;else for(n=[r[0]],i=1,s=r.length;i<s;i+=1)n.push(t[i-1].replace(/\s*\-\s*/g,"-")),n.push(r[i]);return n},o=function(e){for(e=""+e,p=a(e),s=p.length,i=1;i<s;i+=2)h=p[i].match(r),h&&(h[3]&&h[1]!==h[3]||(h[4].length<h[2].length&&(h[4]=h[2].slice(0,h[2].length-h[4].length)+h[4]),parseInt(h[2],10)<parseInt(h[4],10)&&(h[3]=_+(h[1]?h[1]:""),p[i]=h.slice(1)))),"string"==typeof p[i]&&(p[i]=p[i].replace(/\-/g,_));return p},l=function(e,t,r){s=e.length;for(var i=1,a=e.length;i<a;i+=2)"object"==typeof e[i]&&(e[i][3]=u(e[i][1],e[i][3],t,r),e[i][2].slice(1)===e[i][0]&&(e[i][2]=_));return n(e)},u=function(e,t,r,i){if(r||(r=0),f=(""+e).split(""),d=(""+t).split(""),g=d.slice(),g.reverse(),f.length===d.length)for(var s=0,n=f.length;s<n;s+=1){if(!(f[s]===d[s]&&g.length>r)){if(r&&i&&3===g.length){var a=f.slice(0,s);a.reverse(),g=g.concat(a)}break}g.pop()}return g.reverse(),g.join("")},c=function(e){for(s=e.length,i=1;i<s;i+=2)"object"==typeof e[i]&&(h=e[i],b=parseInt(h[1],10),y=parseInt(h[3],10),b>100&&b%100&&parseInt(b/100,10)===parseInt(y/100,10)?h[3]=""+y%100:b>=1e4&&(h[3]=""+y%1e3)),h[2].slice(1)===h[0]&&(h[2]=_);return n(e)},m=function(e){for(s=e.length,i=1;i<s;i+=2){if("object"==typeof e[i]&&(h=e[i],b=parseInt(h[1],10),y=parseInt(h[3],10),d=""+y,b>100&&b%100))for(var t=2;t<d.length;t++){var r=Math.pow(10,t);if(Math.floor(b/r)===Math.floor(y/r)){h[3]=""+y%r;break}}h[2].slice(1)===h[0]&&(h[2]=_)}return n(e)};var x=function(e,t,r,i){e=""+e;var s=o(e),n=t(s,r,i);return n};return e.opt[t+"-range-format"]?"expanded"===e.opt[t+"-range-format"]?v=function(e){return x(e,n)}:"minimal"===e.opt[t+"-range-format"]?v=function(e){return x(e,l)}:"minimal-two"===e.opt[t+"-range-format"]?v=function(e,t){return x(e,l,2,t)}:"chicago"===e.opt[t+"-range-format"]?v=function(e){return x(e,c)}:"chicago-15"===e.opt[t+"-range-format"]?v=function(e){return x(e,c)}:"chicago-16"===e.opt[t+"-range-format"]&&(v=function(e){return x(e,m)}):v=function(e){return x(e,n)},v},g.Util.FlipFlopper=function(e){function t(e){var t={" '":' "',' "':" '",'("':"('","('":'("'};c[e].outer="true",c[t[e]].outer="inner"}function r(e){for(var t=[],r=Object.keys(c),i=0,s=r.length;i<s;i++){var n=r[i];"quote"===c[e].type&&c[e]||t.push(n)}var a=c[e];return a.opener=new RegExp("^(?:"+t.map(function(e){return e.replace("(","\\(")}).join("|")+")"),a}function i(e,t){var r=u[u.length-1];return!r||e.match(r.opener)?(u.push({type:d[e].type,opener:d[e].opener,closer:d[e].closer,pos:t}),!1):(u.pop(),u.push({type:d[e].type,opener:d[e].opener,closer:d[e].closer,pos:t}),{fixtag:r.pos})}function s(e,t){var r=u[u.length-1];return r&&e===r.closer?(u.pop(),"nocase"===r.type&&{nocase:{open:r.pos,close:t}}):r?{fixtag:r.pos}:{fixtag:t}}function n(e,t){return e.match(b.open)?i(e,t):s(e,t)}function a(e){var t=[];e=e.replace(/(<span)\s+(style=\"font-variant:)\s*(small-caps);?\"[^>]*(>)/g,'$1 $2$3;"$4'),e=e.replace(/(<span)\s+(class=\"no(?:case|decor)\")[^>]*(>)/g,"$1 $2$3");var r=e.match(b.matchAll);if(!r)return{tags:[],strings:[e],forcedSpaces:[]};for(var i=e.split(b.splitAll),s=0,n=r.length-1;s<n;s++)c[r[s]]&&(""===i[s+1]&&['"',"'"].indexOf(r[s+1])>-1?(r[s+1]=" "+r[s+1],t.push(!0)):t.push(!1));return{tags:r,strings:i,forcedSpaces:t}}function o(e,t){if("'"===e){if(t&&t.match(/^[^\,\.\?\:\;\ ]/))return""}else if(" '"===e&&t&&t.match(/^[\ ]/))return" ";return!1}function l(t,r,i){function s(t){this.stack=[t],this.latest=t,this.addStyling=function(t,r){if(n&&(" "===t.slice(0,1)&&(t=t.slice(1))," "===t.slice(0,1)&&(t=t.slice(1)),n=!1),this.latest=this.stack[this.stack.length-1],r){if("string"==typeof this.latest.blobs){var i=new g.Blob;i.blobs=this.latest.blobs,i.alldecor=this.latest.alldecor.slice(),this.latest.blobs=[i]}var s=new g.Token,a=new g.Blob(null,s);if(a.alldecor=this.latest.alldecor.slice(),"@class"===r[0]&&"nodecor"===r[1]){for(var o=[],l={},u=[e[e.tmp.area].opt.layout_decorations].concat(a.alldecor),c=u.length-1;c>-1;c--){var m=u[c];if(m)for(var p=m.length-1;p>-1;p--){var h=m[p];["@font-weight","@font-style","@font-variant"].indexOf(h[0])>-1&&!l[h[0]]&&("normal"!==r[1]&&(a.decorations.push([h[0],"normal"]),o.push([h[0],"normal"])),l[h[0]]=!0)}}a.alldecor.push(o)}else a.decorations.push(r),a.alldecor.push([r]);if(this.latest.blobs.push(a),this.stack.push(a),this.latest=a,t){s=new g.Token,a=new g.Blob(null,s);a.blobs=t,a.alldecor=this.latest.alldecor.slice(),this.latest.blobs.push(a)}}else if(t){i=new g.Blob;i.blobs=t,i.alldecor=this.latest.alldecor.slice(),this.latest.blobs.push(i)}},this.popStyling=function(){this.stack.pop()}}var n=!0,a=new y(t);t.blobs=[];var o=new s(t);if(r.strings.length){var l=r.strings[0];i&&(l=" "+l),o.addStyling(l)}for(var u=0,c=r.tags.length;u<c;u++){var m=r.tags[u];l=r.strings[u+1];m.match(b.open)?(a.set(m),o.addStyling(l,a.pair())):(a.pop(),o.popStyling(),o.addStyling(l))}}var u=[],c={'<span class="nocase">':{type:"nocase",opener:'<span class="nocase">',closer:"</span>",attr:null,outer:null,flipflop:null},'<span class="nodecor">':{type:"nodecor",opener:'<span class="nodecor">',closer:"</span>",attr:"@class",outer:"nodecor",flipflop:{nodecor:"nodecor"}},'<span style="font-variant:small-caps;">':{type:"tag",opener:'<span style="font-variant:small-caps;">',closer:"</span>",attr:"@font-variant",outer:"small-caps",flipflop:{"small-caps":"normal",normal:"small-caps"}},"<sc>":{type:"tag",opener:"<sc>",closer:"</sc>",attr:"@font-variant",outer:"small-caps",flipflop:{"small-caps":"normal",normal:"small-caps"}},"<i>":{type:"tag",opener:"<i>",closer:"</i>",attr:"@font-style",outer:"italic",flipflop:{italic:"normal",normal:"italic"}},"<b>":{type:"tag",opener:"<b>",closer:"</b>",attr:"@font-weight",outer:"bold",flipflop:{bold:"normal",normal:"bold"}},"<sup>":{type:"tag",opener:"<sup>",closer:"</sup>",attr:"@vertical-align",outer:"sup",flipflop:{sub:"sup",sup:"sup"}},"<sub>":{type:"tag",opener:"<sub>",closer:"</sub>",attr:"@vertical-align",outer:"sub",flipflop:{sup:"sub",sub:"sub"}},' "':{type:"quote",opener:' "',closer:'"',attr:"@quotes",outer:"true",flipflop:{true:"inner",inner:"true",false:"true"}}," '":{type:"quote",opener:" '",closer:"'",attr:"@quotes",outer:"inner",flipflop:{true:"inner",inner:"true",false:"true"}}};c['("']=c[' "'],c["('"]=c[" '"];var m=e.getTerm("open-quote"),p=e.getTerm("close-quote"),h=e.getTerm("open-inner-quote"),f=e.getTerm("close-inner-quote");m&&p&&-1===[' "'," '",'"',"'"].indexOf(m)&&(c[m]=JSON.parse(JSON.stringify(c[' "'])),c[m].opener=m,c[m].closer=p),h&&f&&-1===[' "'," '",'"',"'"].indexOf(h)&&(c[h]=JSON.parse(JSON.stringify(c[" '"])),c[h].opener=h,c[h].closer=f);var d=function(){for(var e={},t=Object.keys(c),i=0,s=t.length;i<s;i++){var n=t[i];e[n]=r(n)}return e}(),b=function(){var e=[],t=[],r={};for(var i in d)e.push(i),r[d[i].closer]=!0;for(var s=Object.keys(r),n=0,a=s.length;n<a;n++){var o=s[n];t.push(o)}var l=e.concat(t).map(function(e){return e.replace("(","\\(")}).join("|");return{matchAll:new RegExp("((?:"+l+"))","g"),splitAll:new RegExp("(?:"+l+")","g"),open:new RegExp("(^(?:"+e.map(function(e){return e.replace("(","\\(")}).join("|")+")$)"),close:new RegExp("(^(?:"+t.join("|")+")$)")}}(),y=function(t){var r=[];this.set=function(i){for(var s=c[i].attr,n=null,a=r.length-1;a>-1;a--){var o=r[a];if(o[0]===s){n=o;break}}if(!n){var l=[e[e.tmp.area].opt.layout_decorations].concat(t.alldecor);e:for(a=l.length-1;a>-1;a--){var u=l[a];if(u)for(var m=u.length-1;m>-1;m--){o=u[m];if(o[0]===s){n=o;break e}}}}n=n?[s,c[i].flipflop[n[1]]]:[s,c[i].outer],r.push(n)},this.pair=function(){return r[r.length-1]},this.pop=function(){r.pop()}};this.processTags=function(e){var r=e.blobs,i=!1;" "!==r.slice(0,1)||r.match(/^\s+[\'\"]/)||(i=!0);var s=new RegExp("("+g.ROMANESQUE_REGEXP.source+")("+g.ROMANESQUE_REGEXP.source+")","g"),c=(r=" "+r.replace(s,"$1'$2"),a(r));if(0!==c.tags.length){for(var m=!1,p=0,h=c.tags.length;p<h;p++){var f=c.tags[p],d=(r=c.strings[p+1],o(f,r));if(d)c.strings[p+1]=d+c.strings[p+1],c.tags[p]="";else{for(var y;y=n(f,p),y;){if(!(Object.keys(y).indexOf("fixtag")>-1)){if(y.nocase){c.tags[y.nocase.open]="",c.tags[y.nocase.close]="";break}break}if(f.match(b.close)&&"'"===f)c.strings[p+1]=""+c.strings[p+1],c.tags[p]="";else{var v=c.tags[y.fixtag];c.forcedSpaces[y.fixtag-1]&&(v=v.slice(1)),c.strings[y.fixtag+1]=v+c.strings[y.fixtag+1],c.tags[y.fixtag]=""}if(!(u.length>0))break;if("'"===f)break;u.pop()}y&&(y.fixtag||0===y.fixtag)&&(c.strings[p+1]=c.tags[p]+c.strings[p+1],c.tags[p]="")}}for(p=u.length-1;p>-1;p--){var _=u[p].pos;f=c.tags[_];c.strings[_+1]=" '"===f||"'"===f?" "+c.strings[_+1]:c.tags[_]+c.strings[_+1],c.tags[_]="",u.pop()}for(p=c.tags.length-1;p>-1;p--)c.tags[p]||(c.tags=c.tags.slice(0,p).concat(c.tags.slice(p+1)),c.strings[p]=c.strings[p]+c.strings[p+1],c.strings=c.strings.slice(0,p+1).concat(c.strings.slice(p+2)));for(p=0,h=c.tags.length;p<h;p++){f=c.tags[p];var x=c.forcedSpaces[p-1];[' "'," '",'("',"('"].indexOf(f)>-1&&(m||(t(f),m=!0),x||(c.strings[p]+=f.slice(0,1)))}l(e,c,i)}}},g.Output.Formatters=function(){function e(e){var t=e.match(/(^\s*)((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))(.*)/);return!t||t[2].match(/^[\u0370-\u03FF]$/)&&!t[3]?e:t[1]+g.toLocaleUpperCase.call(this,t[2])+t[3]}function t(t,r){function i(e,r){if(0===t.quoteState.length||e===t.quoteState[t.quoteState.length-1].opener)return t.quoteState.push({opener:o[e].opener,closer:o[e].closer,pos:r}),!1;var i=t.quoteState[t.quoteState.length-1].pos;return t.quoteState.pop(),t.quoteState.push({opener:o[e].opener,closer:o[e].closer,positions:r}),i}function s(e,r){if(!(t.quoteState.length>0&&e===t.quoteState[t.quoteState.length-1].closer))return r;t.quoteState.pop()}function n(e,t){var r=["","",' "'," '"].indexOf(e)>-1;return r?i(e,t):s(e,t)}function a(e,t){var r=e.match(/(^(?:\u2018|\u2019|\u201C|\u201D|\"|\')|(?: \"| \')$)/);if(r)return n(r[1],t)}if(!r)return"";t.doppel=c.split(r);var o={' "':{opener:" '",closer:'"'}," '":{opener:' "',closer:"'"},"":{opener:"",closer:""},"":{opener:"",closer:""}};t.doppel.strings.length&&t.doppel.strings[0].trim()&&(t.doppel.strings[0]=t.capitaliseWords(t.doppel.strings[0],0,t.doppel.tags[0]));for(var l=0,u=t.doppel.tags.length;l<u;l++){var m=t.doppel.tags[l],p=t.doppel.strings[l+1];if(null!==t.tagState&&(f[m]?t.tagState.push(f[m]):t.tagState.length&&m===t.tagState[t.tagState.length-1]&&t.tagState.pop()),null!==t.afterPunct&&m.match(/[\!\?\:]$/)&&(t.afterPunct=!0),0===t.tagState.length?t.doppel.strings[l+1]=t.capitaliseWords(p,l+1,t.doppel,t.doppel.tags[l+1]):t.doppel.strings[l+1].trim()&&(t.lastWordPos=null),null!==t.quoteState){var d=a(m,l);if(d||0===d){var b=t.doppel.origStrings[d+1].slice(0,1);t.doppel.strings[d+1]=b+t.doppel.strings[d+1].slice(1),t.lastWordPos=null}}t.isFirst&&p.trim()&&(t.isFirst=!1),t.afterPunct&&p.trim()&&(t.afterPunct=!1)}if(t.quoteState)for(l=0,u=t.quoteState.length;l<u;l++){d=t.quoteState[l].pos;if(void 0!==d){b=t.doppel.origStrings[d+1].slice(0,1);t.doppel.strings[d+1]=b+t.doppel.strings[d+1].slice(1)}}if(t.lastWordPos){var y=h.split(t.doppel.strings[t.lastWordPos.strings]),v=y.strings[t.lastWordPos.words];v.length>1&&g.toLocaleLowerCase.call(this,v).match(t.skipWordsRex)&&(v=e.call(this,v),y.strings[t.lastWordPos.words]=v),t.doppel.strings[t.lastWordPos.strings]=h.join(y)}return c.join(t.doppel)}function r(e,t){return t}function i(e,r){var i={quoteState:null,capitaliseWords:function(t){for(var r=t.split(" "),i=0,s=r.length;i<s;i++){var n=r[i];n&&(r[i]=g.toLocaleLowerCase.call(e,n))}return r.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:null};return t.call(e,i,r)}function s(e,r){var i={quoteState:null,capitaliseWords:function(t){for(var r=t.split(" "),i=0,s=r.length;i<s;i++){var n=r[i];n&&(r[i]=g.toLocaleUpperCase.call(e,n))}return r.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:null};return t.call(e,i,r)}function n(r,i){var s={quoteState:[],capitaliseWords:function(t){for(var i=t.split(" "),n=0,a=i.length;n<a;n++){var o=i[n];o&&(s.isFirst?(i[n]=e.call(r,o),s.isFirst=!1):i[n]=g.toLocaleLowerCase.call(r,o))}return i.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:!0};return t.call(r,s,i)}function a(r,i){var s={quoteState:[],capitaliseWords:function(t,i,n){if(t.trim()){for(var a=h.split(t),o=a.strings,l=0,u=o.length;l<u;l++){var c=o[l];if(!c)continue;let t=g.toLocaleLowerCase.call(r,c),a=!1;c.length>1&&!t.match(s.skipWordsRex)?a=!0:l===o.length-1&&"-"===n?a=!0:s.isFirst?a=!0:s.afterPunct&&(a=!0),a&&c===t&&(o[l]=e.call(r,c)),s.afterPunct=!1,s.isFirst=!1,s.lastWordPos={strings:i,words:l}}t=h.join(a)}return t},skipWordsRex:r.locale[r.opt.lang].opts["skip-words-regexp"],tagState:[],afterPunct:!1,isFirst:!0};return t.call(r,s,i)}function o(r,i){var s={quoteState:[],capitaliseWords:function(t){for(var i=h.split(t),n=i.strings,a=0,o=n.length;a<o;a++){var l=n[a];if(l&&s.isFirst){l===g.toLocaleLowerCase.call(r,l)&&(n[a]=e.call(r,l)),s.isFirst=!1;break}}return h.join(i)},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:!0};return t.call(r,s,i)}function l(r,i){var s={quoteState:[],capitaliseWords:function(t){for(var i=h.split(t),s=i.strings,n=0,a=s.length;n<a;n++){var o=s[n];o&&o===g.toLocaleLowerCase.call(r,o)&&(s[n]=e.call(r,o))}return h.join(i)},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:null};return t.call(r,s,i)}var u='(?:|||| "| \'|"|\'|[-/.,;?!:]|\\[|\\]|\\(|\\)|<span style="font-variant: small-caps;">|<span class="no(?:case|decor)">|</span>|</?(?:i|sc|b|sub|sup)>)',c=new g.Doppeler(u,function(e){return e.replace(/(<span)\s+(class=\"no(?:case|decor)\")[^>]*(>)/g,"$1 $2$3").replace(/(<span)\s+(style=\"font-variant:)\s*(small-caps);?(\")[^>]*(>)/g,"$1 $2 $3;$4$5")}),m='(?:[-\\s]*<\\/*(?:spans+class="no(?:case|decor)"|i|sc|b|sub|sup)>[-\\s]*|[-\\s]+)',p=new g.Doppeler(m),h=new g.Doppeler("(?:[ -]+)"),f={'<span style="font-variant: small-caps;">':"</span>",'<span class="nocase">':"</span>",'<span class="nodecor">':"</span>","<sc>":"</sc>","<sub>":"</sub>","<sup>":"</sup>"};return{nameDoppel:p,passthrough:r,lowercase:i,uppercase:s,sentence:n,title:a,"capitalize-first":o,"capitalize-all":l}}(),g.Output.Formats=function(){},g.Output.Formats.prototype.html={text_escape:function(e){return e||(e=""),e.replace(/&/g,"&#38;").replace(/</g,"&#60;").replace(/>/g,"&#62;").replace(/\s\s/g," ").replace(g.SUPERSCRIPTS_REGEXP,function(e){return"<sup>"+g.SUPERSCRIPTS[e]+"</sup>"})},bibstart:'<div class="csl-bib-body">\n',bibend:"</div>","@font-style/italic":"<i>%%STRING%%</i>","@font-style/oblique":"<em>%%STRING%%</em>","@font-style/normal":'<span style="font-style:normal;">%%STRING%%</span>',"@font-variant/small-caps":'<span style="font-variant:small-caps;">%%STRING%%</span>',"@passthrough/true":g.Output.Formatters.passthrough,"@font-variant/normal":'<span style="font-variant:normal;">%%STRING%%</span>',"@font-weight/bold":"<b>%%STRING%%</b>","@font-weight/normal":'<span style="font-weight:normal;">%%STRING%%</span>',"@font-weight/light":!1,"@text-decoration/none":'<span style="text-decoration:none;">%%STRING%%</span>',"@text-decoration/underline":'<span style="text-decoration:underline;">%%STRING%%</span>',"@vertical-align/sup":"<sup>%%STRING%%</sup>","@vertical-align/sub":"<sub>%%STRING%%</sub>","@vertical-align/baseline":'<span style="baseline">%%STRING%%</span>',"@strip-periods/true":g.Output.Formatters.passthrough,"@strip-periods/false":g.Output.Formatters.passthrough,"@quotes/true":function(e,t){return void 0===t?e.getTerm("open-quote"):e.getTerm("open-quote")+t+e.getTerm("close-quote")},"@quotes/inner":function(e,t){return void 0===t?"":e.getTerm("open-inner-quote")+t+e.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(e,t){return e.sys.wrapCitationEntry(t,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(e,t){var r="";return e.sys.embedBibliographyEntry&&(r=e.sys.embedBibliographyEntry(this.item_id)+"\n"),'  <div class="csl-entry">'+t+"</div>\n"+r},"@display/block":function(e,t){return'\n\n    <div class="csl-block">'+t+"</div>\n"},"@display/left-margin":function(e,t){return'\n    <div class="csl-left-margin">'+t+"</div>"},"@display/right-inline":function(e,t){return'<div class="csl-right-inline">'+t+"</div>\n  "},"@display/indent":function(e,t){return'<div class="csl-indent">'+t+"</div>\n  "},"@showid/true":function(e,t,r){if(e.tmp.just_looking||e.tmp.suppress_decorations)return t;if(r)return'<span class="'+e.opt.nodenames[r]+'" cslid="'+r+'">'+t+"</span>";if(this.params&&"string"==typeof t){var i="";if(t){var s=t.match(g.VARIABLE_WRAPPER_PREPUNCT_REX);i=s[1],t=s[2]}var n="";return t&&g.SWAPPING_PUNCTUATION.indexOf(t.slice(-1))>-1&&(n=t.slice(-1),t=t.slice(0,-1)),e.sys.variableWrapper(this.params,i,t,n)}return t},"@URL/true":function(e,t){return'<a href="'+t+'">'+t+"</a>"},"@DOI/true":function(e,t){var r=t;return t.match(/^https?:\/\//)||(r="https://doi.org/"+t),'<a href="'+r+'">'+t+"</a>"}},g.Output.Formats.prototype.text={text_escape:function(e){return e||(e=""),e},bibstart:"",bibend:"","@font-style/italic":!1,"@font-style/oblique":!1,"@font-style/normal":!1,"@font-variant/small-caps":!1,"@passthrough/true":g.Output.Formatters.passthrough,"@font-variant/normal":!1,"@font-weight/bold":!1,"@font-weight/normal":!1,"@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":!1,"@vertical-align/baseline":!1,"@vertical-align/sup":!1,"@vertical-align/sub":!1,"@strip-periods/true":g.Output.Formatters.passthrough,"@strip-periods/false":g.Output.Formatters.passthrough,"@quotes/true":function(e,t){return void 0===t?e.getTerm("open-quote"):e.getTerm("open-quote")+t+e.getTerm("close-quote")},"@quotes/inner":function(e,t){return void 0===t?"":e.getTerm("open-inner-quote")+t+e.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(e,t){return e.sys.wrapCitationEntry(t,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(e,t){return t+"\n"},"@display/block":function(e,t){return"\n"+t},"@display/left-margin":function(e,t){return t+" "},"@display/right-inline":function(e,t){
return t},"@display/indent":function(e,t){return"\n    "+t},"@showid/true":function(e,t){return t},"@URL/true":function(e,t){return t},"@DOI/true":function(e,t){return t}},g.Output.Formats.prototype.rtf={text_escape:function(e){return e||(e=""),e.replace(/([\\{}])/g,"\\$1").replace(g.SUPERSCRIPTS_REGEXP,function(e){return"\\super "+g.SUPERSCRIPTS[e]+"\\nosupersub{}"}).replace(/[\u007F-\uFFFF]/g,function(e){return"\\uc0\\u"+e.charCodeAt(0).toString()+"{}"}).split("\t").join("\\tab{}")},"@passthrough/true":g.Output.Formatters.passthrough,"@font-style/italic":"{\\i{}%%STRING%%}","@font-style/normal":"{\\i0{}%%STRING%%}","@font-style/oblique":"{\\i{}%%STRING%%}","@font-variant/small-caps":"{\\scaps %%STRING%%}","@font-variant/normal":"{\\scaps0{}%%STRING%%}","@font-weight/bold":"{\\b{}%%STRING%%}","@font-weight/normal":"{\\b0{}%%STRING%%}","@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":"{\\ul{}%%STRING%%}","@vertical-align/baseline":!1,"@vertical-align/sup":"\\super %%STRING%%\\nosupersub{}","@vertical-align/sub":"\\sub %%STRING%%\\nosupersub{}","@strip-periods/true":g.Output.Formatters.passthrough,"@strip-periods/false":g.Output.Formatters.passthrough,"@quotes/true":function(e,t){return void 0===t?g.Output.Formats.rtf.text_escape(e.getTerm("open-quote")):g.Output.Formats.rtf.text_escape(e.getTerm("open-quote"))+t+g.Output.Formats.rtf.text_escape(e.getTerm("close-quote"))},"@quotes/inner":function(e,t){return void 0===t?g.Output.Formats.rtf.text_escape(""):g.Output.Formats.rtf.text_escape(e.getTerm("open-inner-quote"))+t+g.Output.Formats.rtf.text_escape(e.getTerm("close-inner-quote"))},"@quotes/false":!1,bibstart:"{\\rtf ",bibend:"}","@display/block":"\\line{}%%STRING%%\\line\r\n","@cite/entry":function(e,t){return e.sys.wrapCitationEntry(t,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(e,t){return t},"@display/left-margin":function(e,t){return t+"\\tab "},"@display/right-inline":function(e,t){return t+"\r\n"},"@display/indent":function(e,t){return"\n\\tab "+t+"\\line\r\n"},"@showid/true":function(e,t){if(e.tmp.just_looking||e.tmp.suppress_decorations)return t;var r="";if(t){var i=t.match(g.VARIABLE_WRAPPER_PREPUNCT_REX);r=i[1],t=i[2]}var s="";return t&&g.SWAPPING_PUNCTUATION.indexOf(t.slice(-1))>-1&&(s=t.slice(-1),t=t.slice(0,-1)),e.sys.variableWrapper(this.params,r,t,s)},"@URL/true":function(e,t){return t},"@DOI/true":function(e,t){return t}},g.Output.Formats.prototype.asciidoc={text_escape:function(e){return e||(e=""),e.replace("*","pass:[*]","g").replace("_","pass:[_]","g").replace("#","pass:[#]","g").replace("^","pass:[^]","g").replace("~","pass:[~]","g").replace("[[","pass:[[[]","g").replace("  ","&#160; ","g").replace(g.SUPERSCRIPTS_REGEXP,function(e){return"^"+g.SUPERSCRIPTS[e]+"^"})},bibstart:"",bibend:"","@passthrough/true":g.Output.Formatters.passthrough,"@font-style/italic":"__%%STRING%%__","@font-style/oblique":"__%%STRING%%__","@font-style/normal":!1,"@font-variant/small-caps":"[small-caps]#%%STRING%%#","@font-variant/normal":!1,"@font-weight/bold":"**%%STRING%%**","@font-weight/normal":!1,"@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":"[underline]##%%STRING%%##","@vertical-align/sup":"^^%%STRING%%^^","@vertical-align/sub":"~~%%STRING%%~~","@vertical-align/baseline":!1,"@strip-periods/true":g.Output.Formatters.passthrough,"@strip-periods/false":g.Output.Formatters.passthrough,"@quotes/true":function(e,t){return void 0===t?"``":"``"+t+"''"},"@quotes/inner":function(e,t){return void 0===t?"`":"`"+t+"'"},"@quotes/false":!1,"@cite/entry":function(e,t){return e.sys.wrapCitationEntry(t,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(e,t){return t+"\n"},"@display/block":function(e,t){return t},"@display/left-margin":function(e,t){return t},"@display/right-inline":function(e,t){return" "+t},"@display/indent":function(e,t){return" "+t},"@showid/true":function(e,t){if(e.tmp.just_looking||e.tmp.suppress_decorations||!this.params||"string"!=typeof t)return t;var r="";if(t){var i=t.match(g.VARIABLE_WRAPPER_PREPUNCT_REX);r=i[1],t=i[2]}var s="";return t&&g.SWAPPING_PUNCTUATION.indexOf(t.slice(-1))>-1&&(s=t.slice(-1),t=t.slice(0,-1)),e.sys.variableWrapper(this.params,r,t,s)},"@URL/true":function(e,t){return t},"@DOI/true":function(e,t){var r=t;return t.match(/^https?:\/\//)||(r="https://doi.org/"+t),r+"["+t+"]"}},g.Output.Formats.prototype.fo={text_escape:function(e){return e||(e=""),e.replace(/&/g,"&#38;").replace(/</g,"&#60;").replace(/>/g,"&#62;").replace("  ","&#160; ","g").replace(g.SUPERSCRIPTS_REGEXP,function(e){return'<fo:inline vertical-align="super">'+g.SUPERSCRIPTS[e]+"</fo:inline>"})},bibstart:"",bibend:"","@passthrough/true":g.Output.Formatters.passthrough,"@font-style/italic":'<fo:inline font-style="italic">%%STRING%%</fo:inline>',"@font-style/oblique":'<fo:inline font-style="oblique">%%STRING%%</fo:inline>',"@font-style/normal":'<fo:inline font-style="normal">%%STRING%%</fo:inline>',"@font-variant/small-caps":'<fo:inline font-variant="small-caps">%%STRING%%</fo:inline>',"@font-variant/normal":'<fo:inline font-variant="normal">%%STRING%%</fo:inline>',"@font-weight/bold":'<fo:inline font-weight="bold">%%STRING%%</fo:inline>',"@font-weight/normal":'<fo:inline font-weight="normal">%%STRING%%</fo:inline>',"@font-weight/light":'<fo:inline font-weight="lighter">%%STRING%%</fo:inline>',"@text-decoration/none":'<fo:inline text-decoration="none">%%STRING%%</fo:inline>',"@text-decoration/underline":'<fo:inline text-decoration="underline">%%STRING%%</fo:inline>',"@vertical-align/sup":'<fo:inline vertical-align="super">%%STRING%%</fo:inline>',"@vertical-align/sub":'<fo:inline vertical-align="sub">%%STRING%%</fo:inline>',"@vertical-align/baseline":'<fo:inline vertical-align="baseline">%%STRING%%</fo:inline>',"@strip-periods/true":g.Output.Formatters.passthrough,"@strip-periods/false":g.Output.Formatters.passthrough,"@quotes/true":function(e,t){return void 0===t?e.getTerm("open-quote"):e.getTerm("open-quote")+t+e.getTerm("close-quote")},"@quotes/inner":function(e,t){return void 0===t?"":e.getTerm("open-inner-quote")+t+e.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(e,t){return e.sys.wrapCitationEntry(t,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(e,t){var r="";if(e.bibliography&&e.bibliography.opt&&e.bibliography.opt.hangingindent){var i=e.bibliography.opt.hangingindent;r=' start-indent="'+i+'em" text-indent="-'+i+'em"'}var s="";return e.sys.embedBibliographyEntry&&(s=e.sys.embedBibliographyEntry(this.item_id)+"\n"),'<fo:block id="'+this.system_id+'"'+r+">"+t+"</fo:block>\n"+s},"@display/block":function(e,t){return"\n  <fo:block>"+t+"</fo:block>\n"},"@display/left-margin":function(e,t){return'\n  <fo:table table-layout="fixed" width="100%">\n    <fo:table-column column-number="1" column-width="$$$__COLUMN_WIDTH_1__$$$"/>\n    <fo:table-column column-number="2" column-width="proportional-column-width(1)"/>\n    <fo:table-body>\n      <fo:table-row>\n        <fo:table-cell>\n          <fo:block>'+t+"</fo:block>\n        </fo:table-cell>\n        "},"@display/right-inline":function(e,t){return"<fo:table-cell>\n          <fo:block>"+t+"</fo:block>\n        </fo:table-cell>\n      </fo:table-row>\n    </fo:table-body>\n  </fo:table>\n"},"@display/indent":function(e,t){return'<fo:block margin-left="2em">'+t+"</fo:block>\n"},"@showid/true":function(e,t){if(e.tmp.just_looking||e.tmp.suppress_decorations||!this.params||"string"!=typeof t)return t;var r="";if(t){var i=t.match(g.VARIABLE_WRAPPER_PREPUNCT_REX);r=i[1],t=i[2]}var s="";return t&&g.SWAPPING_PUNCTUATION.indexOf(t.slice(-1))>-1&&(s=t.slice(-1),t=t.slice(0,-1)),e.sys.variableWrapper(this.params,r,t,s)},"@URL/true":function(e,t){return"<fo:basic-link external-destination=\"url('"+t+"')\">"+t+"</fo:basic-link>"},"@DOI/true":function(e,t){var r=t;return t.match(/^https?:\/\//)||(r="https://doi.org/"+t),"<fo:basic-link external-destination=\"url('"+r+"')\">"+t+"</fo:basic-link>"}},g.Output.Formats.prototype.latex={text_escape:function(e){return e||(e=""),e},bibstart:"\\begin{thebibliography}{4}",bibend:"\\end{thebibliography}","@font-style/italic":"{\\em %%STRING%%}","@font-style/oblique":!1,"@font-style/normal":!1,"@font-variant/small-caps":!1,"@passthrough/true":g.Output.Formatters.passthrough,"@font-variant/normal":!1,"@font-weight/bold":"{\\bf %%STRING%%}","@font-weight/normal":!1,"@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":!1,"@vertical-align/baseline":!1,"@vertical-align/sup":!1,"@vertical-align/sub":!1,"@strip-periods/true":g.Output.Formatters.passthrough,"@strip-periods/false":g.Output.Formatters.passthrough,"@quotes/true":function(e,t){return void 0===t?e.getTerm("open-quote"):e.getTerm("open-quote")+t+e.getTerm("close-quote")},"@quotes/inner":function(e,t){return void 0===t?"":e.getTerm("open-inner-quote")+t+e.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(e,t){return e.sys.wrapCitationEntry(t,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(e,t){return"\\bibitem{"+e.sys.embedBibliographyEntry(this.item_id)+"}\n"},"@display/block":function(e,t){return"\n"+t},"@display/left-margin":function(e,t){return t},"@display/right-inline":function(e,t){return t},"@display/indent":function(e,t){return"\n    "+t},"@showid/true":function(e,t,r){return t},"@URL/true":function(e,t){return t},"@DOI/true":function(e,t){return t}},g.Output.Formats=new g.Output.Formats,g.Registry=function(e){this.debug=!1,this.state=e,this.registry={},this.reflist=[],this.refhash={},this.namereg=new g.Registry.NameReg(e),this.citationreg=new g.Registry.CitationReg(e),this.authorstrings={},this.masterMap={},this.mylist=[],this.myhash={},this.deletes=[],this.inserts=[],this.uncited={},this.refreshes={},this.akeys={},this.oldseq={},this.return_data={},this.ambigcites={},this.ambigresets={},this.sorter=new g.Registry.Comparifier(e,"bibliography_sort"),this.getSortedIds=function(){for(var e=[],t=0,r=this.reflist.length;t<r;t+=1)e.push(""+this.reflist[t].id);return e},this.getSortedRegistryItems=function(){for(var e=[],t=0,r=this.reflist.length;t<r;t+=1)e.push(this.reflist[t]);return e}},g.Registry.prototype.init=function(e,t){if(this.oldseq={},t){this.uncited={};for(var r=0,i=e.length;r<i;r+=1)this.myhash[e[r]]||this.mylist.push(""+e[r]),this.uncited[e[r]]=!0,this.myhash[e[r]]=!0}else{for(var s in this.uncited)e.push(s);var n={};for(r=e.length-1;r>-1;r+=-1)n[e[r]]?e=e.slice(0,r).concat(e.slice(r+1)):n[e[r]]=!0;this.mylist=e,this.myhash=n}this.refreshes={},this.touched={},this.ambigsTouched={},this.ambigresets={}},g.Registry.prototype.dopurge=function(e){for(var t=this.mylist.length-1;t>-1;t+=-1)this.citationreg.citationsByItemId&&(this.citationreg.citationsByItemId&&this.citationreg.citationsByItemId[this.mylist[t]]||e[this.mylist[t]]||(delete this.myhash[this.mylist[t]],delete this.uncited[this.mylist[t]],this.mylist=this.mylist.slice(0,t).concat(this.mylist.slice(t+1))));this.dodeletes(this.myhash)},g.Registry.prototype.dodeletes=function(e){var t,r,i,s,n,a,o,l;if("string"==typeof e){var u=e;e={},e[u]=!0}for(var u in this.registry)if(!e[u]){if(this.uncited[u])continue;for(a in t=this.namereg.delitems(u),t)this.refreshes[a]=!0;for(r=this.registry[u].ambig,o=this.ambigcites[r].indexOf(u),o>-1&&(n=this.ambigcites[r].slice(),this.ambigcites[r]=n.slice(0,o).concat(n.slice(o+1,n.length)),this.ambigresets[r]=this.ambigcites[r].length),s=this.ambigcites[r].length,i=0;i<s;i+=1)l=""+this.ambigcites[r][i],this.refreshes[l]=!0;if(this.registry[u].siblings)if(1==this.registry[u].siblings.length){var c=this.registry[u].siblings[0];this.registry[c].siblings&&(this.registry[c].siblings.pop(),this.registry[c].master=!0)}else if(this.registry[u].siblings.length>1){var m=[u];if(this.registry[u].master){var p=this.registry[u].siblings[0],h=this.registry[p];h.master=!0,m.push(p)}for(var f=[],d=this.registry[u].siblings.length-1;d>-1;d+=-1){var g=this.registry[u].siblings.pop();-1===m.indexOf(g)&&f.push(g)}for(d=f.length-1;d>-1;d+=-1)this.registry[u].siblings.push(f[d])}for(var b=this.reflist.length-1;b>-1;b--)this.reflist[b].id===u&&(this.reflist=this.reflist.slice(0,b).concat(this.reflist.slice(b+1)));delete this.registry[u],delete this.refhash[u],this.return_data.bibchange=!0}},g.Registry.prototype.doinserts=function(e){var t,r,i,s,n;"string"==typeof e&&(e=[e]);for(var a=0,o=e.length;a<o;a+=1)t=e[a],this.registry[t]||(r=this.state.retrieveItem(t),i=g.getAmbiguousCite.call(this.state,r),this.ambigsTouched[i]=!0,r.legislation_id||(this.akeys[i]=!0),s={id:""+t,seq:0,offset:0,sortkeys:!1,ambig:!1,rendered:!1,disambig:!1,ref:r,newItem:!0},this.registry[t]=s,this.citationreg.citationsByItemId&&this.citationreg.citationsByItemId[t]&&(this.registry[t]["first-reference-note-number"]=this.citationreg.citationsByItemId[t][0].properties.noteIndex),n=g.getAmbigConfig.call(this.state),this.registerAmbigToken(i,t,n),this.touched[t]=!0,this.return_data.bibchange=!0)},g.Registry.prototype.rebuildlist=function(e){var t,r,i,s;if(e)for(this.reflist=[],t=this.mylist.length,r=0;r<t;r+=1)i=this.mylist[r],s=this.registry[i],this.reflist.push(s),this.oldseq[i]=this.registry[i].seq,this.registry[i].seq=r+1;else for(this.reflist_inserts=[],t=this.mylist.length,r=0;r<t;r+=1)i=this.mylist[r],s=this.registry[i],s.newItem&&this.reflist_inserts.push(s),this.oldseq[i]=this.registry[i].seq,this.registry[i].seq=r+1},g.Registry.prototype.dorefreshes=function(){var e;for(var t in this.refreshes)if(e=this.registry[t],e){e.sortkeys=void 0,n=this.state.refetchItem(t);var r=e.ambig;for(var i in void 0===r&&(this.state.tmp.disambig_settings=!1,r=g.getAmbiguousCite.call(this.state,n),a=g.getAmbigConfig.call(this.state),this.registerAmbigToken(r,t,a)),this.ambigresets)if(1===this.ambigresets[i]){var s=this.ambigcites[r][0],n=this.state.refetchItem(s);this.registry[s].disambig=new g.AmbigConfig,this.state.tmp.disambig_settings=!1;r=g.getAmbiguousCite.call(this.state,n);var a=g.getAmbigConfig.call(this.state);this.registerAmbigToken(r,s,a)}this.state.tmp.taintedItemIDs[t]=!0,this.ambigsTouched[r]=!0,n.legislation_id||(this.akeys[r]=!0),this.touched[t]=!0}},g.Registry.prototype.setdisambigs=function(){for(var e in this.ambigsTouched)this.state.disambiguate.run(e);this.ambigsTouched={},this.akeys={}},g.Registry.prototype.renumber=function(){var e,t,r;for(this.state.bibliography_sort.opt.citation_number_sort_direction===g.DESCENDING&&(this.state.bibliography_sort.tmp.citation_number_map={}),e=this.reflist.length,t=0;t<e;t+=1)r=this.reflist[t],r.seq=t+1,this.state.bibliography_sort.opt.citation_number_sort_direction===g.DESCENDING&&(this.state.bibliography_sort.tmp.citation_number_map[r.seq]=this.reflist.length-r.seq+1),this.state.opt.update_mode===g.NUMERIC&&r.seq!=this.oldseq[r.id]&&(this.state.tmp.taintedItemIDs[r.id]=!0),r.seq!=this.oldseq[r.id]&&(this.return_data.bibchange=!0)},g.Registry.prototype.setsortkeys=function(){for(var e=0,t=this.mylist.length;e<t;e+=1){var r=this.mylist[e];(this.touched[r]||this.state.tmp.taintedItemIDs[r]||!this.registry[r].sortkeys)&&(this.registry[r].sortkeys=g.getSortKeys.call(this.state,this.state.retrieveItem(r),"bibliography_sort"))}},g.Registry.prototype._insertItem=function(e,t){return t.splice(this._locationOf(e,t)+1,0,e),t},g.Registry.prototype._locationOf=function(e,t,r,i){if(0===t.length)return-1;r=r||0,i=i||t.length;var s=r+i>>1,n=this.sorter.compareKeys(e,t[s]);if(i-r<=1)return-1==n?s-1:s;switch(n){case-1:return this._locationOf(e,t,r,s);case 0:return s;case 1:return this._locationOf(e,t,s,i)}},g.Registry.prototype.sorttokens=function(e){var t,r,i;if(!e){for(this.reflist_inserts=[],t=this.mylist.length,i=0;i<t;i+=1)r=this.mylist[i],o=this.registry[r],o.newItem&&this.reflist_inserts.push(o);for(var s in this.state.tmp.taintedItemIDs)if(this.registry[s]&&!this.registry[s].newItem)for(var n=this.reflist.length-1;n>-1;n--)this.reflist[n].id===s&&(this.reflist_inserts.push(this.reflist[n]),this.reflist=this.reflist.slice(0,n).concat(this.reflist.slice(n+1)));n=0;for(var a=this.reflist_inserts.length;n<a;n++){var o=this.reflist_inserts[n];delete o.newItem,this.reflist=this._insertItem(o,this.reflist)}for(i=0;i<t;i+=1)r=this.mylist[i],o=this.registry[r],this.registry[r].seq=i+1}},g.Registry.Comparifier=function(e,t){var r,i,s,n,a=g.getSortCompare.call(e,e.opt["default-locale-sort"]);r=e[t].opt.sort_directions,this.compareKeys=function(e,t){for(i=e.sortkeys?e.sortkeys.length:0,s=0;s<i;s+=1){var n=0;if(n=e.sortkeys[s]===t.sortkeys[s]?0:void 0===e.sortkeys[s]?r[s][1]:void 0===t.sortkeys[s]?r[s][0]:a(e.sortkeys[s],t.sortkeys[s]),0<n)return r[s][1];if(0>n)return r[s][0]}return e.seq>t.seq?1:e.seq<t.seq?-1:0},n=this.compareKeys,this.compareCompositeKeys=function(e,t){return n(e[1],t[1])}},g.Registry.prototype.compareRegistryTokens=function(e,t){return e.seq>t.seq?1:e.seq<t.seq?-1:0},g.Registry.prototype.registerAmbigToken=function(e,t,r){if(this.registry[t]||g.debug("Warning: unregistered item: itemID=("+t+"), akey=("+e+")"),this.registry[t]&&this.registry[t].disambig&&this.registry[t].disambig.names)for(var i=0,s=r.names.length;i<s;i+=1){var n=r.names[i],a=this.registry[t].disambig.names[i];if(n!==a)this.state.tmp.taintedItemIDs[t]=!0;else if(r.givens[i])for(var o=0,l=r.givens[i].length;o<l;o+=1){var u=r.givens[i][o],c=this.registry[t].disambig.givens[i][o];u!==c&&(this.state.tmp.taintedItemIDs[t]=!0)}}this.ambigcites[e]||(this.ambigcites[e]=[]),-1===this.ambigcites[e].indexOf(""+t)&&this.ambigcites[e].push(""+t),this.registry[t].ambig=e,this.registry[t].disambig=g.cloneAmbigConfig(r)},g.getSortKeys=function(e,t){var r,i,s,n,a,o;for(r=this.tmp.area,i=this.tmp.root,s=this.tmp.extension,n=g.Util.Sort.strip_prepositions,this.tmp.area=t,this.tmp.root=t.indexOf("_")>-1?t.slice(0,-5):t,this.tmp.extension="_sort",this.tmp.disambig_override=!0,this.tmp.disambig_request=!1,this.tmp.suppress_decorations=!0,g.getCite.call(this,e),this.tmp.suppress_decorations=!1,this.tmp.disambig_override=!1,a=this[t].keys.length,o=0;o<a;o+=1)this[t].keys[o]=n(this[t].keys[o]);return this.tmp.area=r,this.tmp.root=i,this.tmp.extension=s,this[t].keys},g.Registry.NameReg=function(e){var t,r,i,s,n,a,o,l,u,c,m,p;this.state=e,this.namereg={},this.nameind={},this.nameindpkeys={},this.itemkeyreg={},o=function(e){return e||(e=""),e.replace(/\./g," ").replace(/\s+/g," ").replace(/\s+$/,"")},l=function(e,s,n){t=o(n.family),"never"===e.opt["demote-non-dropping-particle"]&&n["non-dropping-particle"]&&n.family&&(t=`${t} ${n["non-dropping-particle"]}`),i=o(n.given);var a=i.match(/[,\!]* ([^,]+)$/);a&&a[1]===a[1].toLowerCase()&&(i=i.replace(/[,\!]* [^,]+$/,"")),r=g.Util.Names.initializeWith(e,i,"%s"),"by-cite"===e.citation.opt["givenname-disambiguation-rule"]&&(t=""+s+t)},u=function(i,a,o,u,c,m){var p;if("bibliography"===e.tmp.area.slice(0,12)&&!c)return"string"==typeof m?1:2;var h=e.nameOutput.getName(a,"locale-translit",!0);a=h.name,l(this.state,""+i,a),p=2,s=e.opt["disambiguate-add-givenname"],n=e.citation.opt["givenname-disambiguation-rule"];var f=n;return"by-cite"===n&&(n="all-names"),"short"===c?p=0:"string"==typeof m&&(p=1),void 0===this.namereg[t]||void 0===this.namereg[t].ikey[r]?p:"by-cite"===f&&p<=u?u:s?"string"==typeof n&&"primary-name"===n.slice(0,12)&&o>0?p:(n&&"all-names"!==n&&"primary-name"!==n?"all-names-with-initials"!==n&&"primary-name-with-initials"!==n||(p=this.namereg[t].count>1?1:0):(this.namereg[t].count>1&&(p=1),(this.namereg[t].ikey&&this.namereg[t].ikey[r].count>1||this.namereg[t].count>1&&"string"!=typeof m)&&(p=2)),e.registry.registry[i]?p:"short"==c?0:"string"==typeof m?1:void 0):p},c=function(s){var n,o,l,u,c;"string"!=typeof s&&"number"!=typeof s||(s=[""+s]);var m={};for(o=s.length,n=0;n<o;n+=1)if(u=""+s[n],this.nameind[u]){for(c in this.nameind[u])if(this.nameind[u].hasOwnProperty(c)){var h=c.split("::");if(t=h[0],r=h[1],i=h[2],void 0===this.namereg[t])continue;if(a=this.namereg[t].items,i&&this.namereg[t].ikey[r]&&this.namereg[t].ikey[r].skey[i]&&(p=this.namereg[t].ikey[r].skey[i].items,l=p.indexOf(""+u),l>-1&&(this.namereg[t].ikey[r].skey[i].items=p.slice(0,l).concat(p.slice([l+1]))),0===this.namereg[t].ikey[r].skey[i].items.length&&(delete this.namereg[t].ikey[r].skey[i],this.namereg[t].ikey[r].count+=-1,this.namereg[t].ikey[r].count<2)))for(var f=0,d=this.namereg[t].ikey[r].items.length;f<d;f+=1)e.tmp.taintedItemIDs[this.namereg[t].ikey[r].items[f]]=!0;if(r&&this.namereg[t].ikey[r]&&(l=this.namereg[t].ikey[r].items.indexOf(""+u),l>-1&&(a=this.namereg[t].ikey[r].items.slice(),this.namereg[t].ikey[r].items=a.slice(0,l).concat(a.slice([l+1]))),0===this.namereg[t].ikey[r].items.length&&(delete this.namereg[t].ikey[r],this.namereg[t].count+=-1,this.namereg[t].count<2)))for(f=0,d=this.namereg[t].items.length;f<d;f+=1)e.tmp.taintedItemIDs[this.namereg[t].items[f]]=!0;t&&(l=this.namereg[t].items.indexOf(""+u),l>-1&&(a=this.namereg[t].items.slice(),this.namereg[t].items=a.slice(0,l).concat(a.slice([l+1],a.length))),this.namereg[t].items.length<2&&delete this.namereg[t]),delete this.nameind[u][c]}delete this.nameind[u],delete this.nameindpkeys[u]}return m},m=function(s,n,a){var o=e.nameOutput.getName(n,"locale-translit",!0);if(n=o.name,!e.citation.opt["givenname-disambiguation-rule"]||"primary-"!==e.citation.opt["givenname-disambiguation-rule"].slice(0,8)||0===a){if(l(this.state,""+s,n),t&&(void 0===this.namereg[t]?(this.namereg[t]={},this.namereg[t].count=0,this.namereg[t].ikey={},this.namereg[t].items=[s]):-1===this.namereg[t].items.indexOf(s)&&this.namereg[t].items.push(s)),t&&r)if(void 0===this.namereg[t].ikey[r]){if(this.namereg[t].ikey[r]={},this.namereg[t].ikey[r].count=0,this.namereg[t].ikey[r].skey={},this.namereg[t].ikey[r].items=[s],this.namereg[t].count+=1,2===this.namereg[t].count)for(var u=0,c=this.namereg[t].items.length;u<c;u+=1)e.tmp.taintedItemIDs[this.namereg[t].items[u]]=!0}else-1===this.namereg[t].ikey[r].items.indexOf(s)&&this.namereg[t].ikey[r].items.push(s);if(t&&r&&i)if(void 0===this.namereg[t].ikey[r].skey[i]){if(this.namereg[t].ikey[r].skey[i]={},this.namereg[t].ikey[r].skey[i].items=[s],this.namereg[t].ikey[r].count+=1,2===this.namereg[t].ikey[r].count)for(u=0,c=this.namereg[t].ikey[r].items.length;u<c;u+=1)e.tmp.taintedItemIDs[this.namereg[t].ikey[r].items[u]]=!0}else-1===this.namereg[t].ikey[r].skey[i].items.indexOf(s)&&this.namereg[t].ikey[r].skey[i].items.push(s);void 0===this.nameind[s]&&(this.nameind[s]={},this.nameindpkeys[s]={}),t&&(this.nameind[s][t+"::"+r+"::"+i]=!0,this.nameindpkeys[s][t]=this.namereg[t])}},this.addname=m,this.delitems=c,this.evalname=u},g.Registry.CitationReg=function(){this.citationById={},this.citationByIndex=[]},g.Disambiguation=function(e){this.state=e,this.sys=this.state.sys,this.registry=e.registry.registry,this.ambigcites=e.registry.ambigcites,this.configModes(),this.debug=!1},g.Disambiguation.prototype.run=function(e){this.modes.length&&(this.debug&&this.state.sys.print("[A] === RUN ==="),this.akey=e,this.initVars(e)&&this.runDisambig())},g.Disambiguation.prototype.runDisambig=function(){var e;for(this.debug&&this.state.sys.print("[C] === runDisambig() ==="),this.initGivens=!0;this.lists.length;){for(this.gnameset=0,this.gname=0,this.clashes=[1,0];this.lists[0][1].length;)this.listpos=0,this.base||(this.base=this.lists[0][0]),e=this.incrementDisambig(),this.scanItems(this.lists[0]),this.evalScan(e);this.lists=this.lists.slice(1)}},g.Disambiguation.prototype.scanItems=function(e){var t;this.debug&&this.state.sys.print("[2] === scanItems() ==="),this.Item=e[1][0],this.ItemCite=g.getAmbiguousCite.call(this.state,this.Item,this.base,!0),this.scanlist=e[1],this.partners=[],this.partners.push(this.Item),this.nonpartners=[];for(var r=0,i=1,s=e[1].length;i<s;i+=1){t=e[1][i];var n=g.getAmbiguousCite.call(this.state,t,this.base,!0);this.debug&&i>1&&this.state.sys.print("  -----------"),this.ItemCite===n?(this.debug&&(this.state.sys.print("  [CLASH]--> "+this.Item.id+": "+this.ItemCite),this.state.sys.print("             "+t.id+": "+n)),r+=1,this.partners.push(t)):(this.debug&&(this.state.sys.print("  [clear]--> "+this.Item.id+": "+this.ItemCite),this.state.sys.print("             "+t.id+": "+n)),this.nonpartners.push(t))}this.clashes[0]=this.clashes[1],this.clashes[1]=r},g.Disambiguation.prototype.evalScan=function(e){this[this.modes[this.modeindex]](e),e&&(this.modeindex<this.modes.length-1?this.modeindex+=1:this.lists[this.listpos+1]=[this.base,[]])},g.Disambiguation.prototype.disNames=function(e){if(this.debug&&this.state.sys.print("[3] == disNames() =="),0===this.clashes[1]&&1===this.nonpartners.length)this.captureStepToBase(),this.debug&&(this.state.sys.print("  ** RESOLUTION [a]: lone partner, one nonpartner"),this.state.sys.print("  registering "+this.partners[0].id+" and "+this.nonpartners[0].id)),this.state.registry.registerAmbigToken(this.akey,""+this.nonpartners[0].id,this.betterbase),this.state.registry.registerAmbigToken(this.akey,""+this.partners[0].id,this.betterbase),this.lists[this.listpos]=[this.betterbase,[]];else if(0===this.clashes[1])this.captureStepToBase(),this.debug&&(this.state.sys.print("  ** RESOLUTION [b]: lone partner, unknown number of remaining nonpartners"),this.state.sys.print("  registering "+this.partners[0].id)),this.state.registry.registerAmbigToken(this.akey,""+this.partners[0].id,this.betterbase),this.lists[this.listpos]=[this.betterbase,this.nonpartners],this.nonpartners.length&&(this.initGivens=!0);else if(1===this.nonpartners.length)this.captureStepToBase(),this.debug&&(this.state.sys.print("  ** RESOLUTION [c]: lone nonpartner, unknown number of partners remaining"),this.state.sys.print("  registering "+this.nonpartners[0].id)),this.state.registry.registerAmbigToken(this.akey,""+this.nonpartners[0].id,this.betterbase),this.lists[this.listpos]=[this.betterbase,this.partners];else if(this.clashes[1]<this.clashes[0])this.captureStepToBase(),this.debug&&this.state.sys.print("  ** RESOLUTION [d]: better result, but no entries safe to register"),this.lists[this.listpos]=[this.betterbase,this.partners],this.lists.push([this.betterbase,this.nonpartners]);else if(this.debug&&this.state.sys.print("  ** RESOLUTION [e]: no improvement, and clashes remain"),e&&(this.lists[this.listpos]=[this.betterbase,this.nonpartners],this.lists.push([this.betterbase,this.partners]),this.modeindex===this.modes.length-1)){this.debug&&this.state.sys.print("     (registering clashing entries because we've run out of options)");for(var t=0,r=this.partners.length;t<r;t+=1)this.state.registry.registerAmbigToken(this.akey,""+this.partners[t].id,this.betterbase);this.lists[this.listpos]=[this.betterbase,[]]}},g.Disambiguation.prototype.disExtraText=function(){this.debug&&this.state.sys.print("[3] === disExtraText ==");var e=!1;if(0===this.clashes[1]&&this.nonpartners.length<2&&(e=!0),e||this.base.disambiguate&&this.state.tmp.disambiguate_count===this.state.tmp.disambiguate_maxMax){if(e||this.state.tmp.disambiguate_count===this.state.tmp.disambiguate_maxMax)if(e||this.modeindex===this.modes.length-1){var t=this.lists[this.listpos][0];for(r=0,i=this.lists[this.listpos][1].length;r<i;r+=1)this.state.tmp.taintedItemIDs[this.lists[this.listpos][1][r].id]=!0,this.state.registry.registerAmbigToken(this.akey,""+this.lists[this.listpos][1][r].id,t);this.lists[this.listpos]=[this.betterbase,[]]}else{this.modeindex=this.modes.length-1;t=this.lists[this.listpos][0];t.disambiguate=!0;for(r=0,i=this.lists[this.listpos][1].length;r<i;r+=1)this.state.tmp.taintedItemIDs[this.lists[this.listpos][1][r].id]=!0,this.state.registry.registerAmbigToken(this.akey,""+this.lists[this.listpos][1][r].id,t)}}else if(this.modeindex=0,this.base.disambiguate=this.state.tmp.disambiguate_count,this.betterbase.disambiguate=this.state.tmp.disambiguate_count,this.base.disambiguate)this.disNames();else{this.initGivens=!0,this.base.disambiguate=1;for(var r=0,i=this.lists[this.listpos][1].length;r<i;r+=1)this.state.tmp.taintedItemIDs[this.lists[this.listpos][1][r].id]=!0}},g.Disambiguation.prototype.disYears=function(){var e;this.debug&&this.state.sys.print("[3] === disYears =="),e=[];var t=this.lists[this.listpos][0];if(this.clashes[1])for(var r=0,i=this.state.registry.mylist.length;r<i;r+=1)for(var s=this.state.registry.mylist[r],n=0,a=this.lists[this.listpos][1].length;n<a;n+=1){var o=this.lists[this.listpos][1][n];if(o.id==s){e.push(this.registry[o.id]);break}}e.sort(this.state.registry.sorter.compareKeys);for(var l=0,u=e.length;l<u;l+=1){t.year_suffix=""+l;var c=this.state.registry.registry[e[l].id].disambig;this.state.registry.registerAmbigToken(this.akey,""+e[l].id,t),g.ambigConfigDiff(c,t)&&(this.state.tmp.taintedItemIDs[e[l].id]=!0)}this.lists[this.listpos]=[this.betterbase,[]]},g.Disambiguation.prototype.incrementDisambig=function(){if(this.debug&&this.state.sys.print("\n[1] === incrementDisambig() ==="),this.initGivens)return this.initGivens=!1,!1;var e=!1,t=!0;if("disNames"===this.modes[this.modeindex]){t=!1,"number"!=typeof this.givensMax&&(t=!0);var r=!1;"number"!=typeof this.namesMax&&(r=!0),"number"==typeof this.givensMax&&(this.base.givens.length&&this.base.givens[this.gnameset][this.gname]<this.givensMax?this.base.givens[this.gnameset][this.gname]+=1:t=!0),"number"==typeof this.namesMax&&t&&(this.state.opt["disambiguate-add-names"]?(r=!1,this.gname<this.namesMax?(this.base.names[this.gnameset]+=1,this.gname+=1):r=!0):r=!0),"number"==typeof this.namesetsMax&&r&&this.gnameset<this.namesetsMax&&(this.gnameset+=1,this.base.names[this.gnameset]=1,this.gname=0),this.debug&&(this.state.sys.print("    ------------------"),this.state.sys.print("    incremented values"),this.state.sys.print("    ------------------"),this.state.sys.print("    | gnameset: "+this.gnameset),this.state.sys.print("    | gname: "+this.gname),this.state.sys.print("    | names value: "+this.base.names[this.gnameset]),this.base.givens.length?this.state.sys.print("    | givens value: "+this.base.givens[this.gnameset][this.gname]):this.state.sys.print("    | givens value: nil"),this.state.sys.print("    | namesetsMax: "+this.namesetsMax),this.state.sys.print("    | namesMax: "+this.namesMax),this.state.sys.print("    | givensMax: "+this.givensMax)),"number"==typeof this.namesetsMax&&-1!==this.namesetsMax&&this.gnameset!==this.namesetsMax||this.state.opt["disambiguate-add-names"]&&"number"==typeof this.namesMax&&this.gname!==this.namesMax||"number"==typeof this.givensMax&&void 0!==this.base.givens[this.gnameset]&&void 0!==this.base.givens[this.gnameset][this.gname]&&this.base.givens[this.gnameset][this.gname]!==this.givensMax||(e=!0,this.debug&&this.state.sys.print("    MAXED"))}else"disExtraText"===this.modes[this.modeindex]&&(this.base.disambiguate+=1,this.betterbase.disambiguate+=1);return e},g.Disambiguation.prototype.initVars=function(e){var t,r,i;if(this.debug&&this.state.sys.print("[B] === initVars() ==="),this.lists=[],this.base=!1,this.betterbase=!1,this.akey=e,this.maxNamesByItemId={},r=[],t=this.ambigcites[e],!t||!t.length)return!1;var s=this.state.refetchItem(""+t[0]);if(this.getCiteData(s),this.base=g.getAmbigConfig.call(this.state),t&&t.length>1){r.push([this.maxNamesByItemId[s.id],s]);for(var n=1,a=t.length;n<a;n+=1)s=this.state.refetchItem(""+t[n]),this.getCiteData(s,this.base),r.push([this.maxNamesByItemId[s.id],s]);r.sort(function(e,t){return e[0]>t[0]?1:e[0]<t[0]?-1:e[1].id>t[1].id?1:e[1].id<t[1].id?-1:0}),i=[];for(var n=0,a=r.length;n<a;n+=1)i.push(r[n][1]);this.lists.push([this.base,i]),this.Item=this.lists[0][1][0]}else this.Item=this.state.refetchItem(""+t[0]);return this.modeindex=0,this.state.citation.opt["disambiguate-add-names"],this.namesMax=this.maxNamesByItemId[this.Item.id][0],this.padBase(this.base),this.padBase(this.betterbase),this.base.year_suffix=!1,this.base.disambiguate=!1,this.betterbase.year_suffix=!1,this.betterbase.disambiguate=!1,
"by-cite"===this.state.citation.opt["givenname-disambiguation-rule"]&&this.state.opt["disambiguate-add-givenname"]&&(this.givensMax=2),!0},g.Disambiguation.prototype.padBase=function(e){for(var t=0,r=e.names.length;t<r;t+=1){e.givens[t]||(e.givens[t]=[]);for(var i=0,s=e.names[t];i<s;i+=1)e.givens[t][i]||(e.givens[t][i]=0)}},g.Disambiguation.prototype.configModes=function(){var e,t;this.modes=[],e=this.state.opt["disambiguate-add-givenname"],t=this.state.citation.opt["givenname-disambiguation-rule"],(this.state.opt["disambiguate-add-names"]||e&&"by-cite"===t)&&this.modes.push("disNames"),this.state.opt.development_extensions.prioritize_disambiguate_condition?(this.state.opt.has_disambiguate&&this.modes.push("disExtraText"),this.state.opt["disambiguate-add-year-suffix"]&&this.modes.push("disYears")):(this.state.opt["disambiguate-add-year-suffix"]&&this.modes.push("disYears"),this.state.opt.has_disambiguate&&this.modes.push("disExtraText"))},g.Disambiguation.prototype.getCiteData=function(e,t){if(!this.maxNamesByItemId[e.id]){g.getAmbiguousCite.call(this.state,e,t),t=g.getAmbigConfig.call(this.state),this.maxNamesByItemId[e.id]=g.getMaxVals.call(this.state),this.state.registry.registry[e.id].disambig.givens=this.state.tmp.disambig_settings.givens.slice();for(var r=0,i=this.state.registry.registry[e.id].disambig.givens.length;r<i;r+=1)this.state.registry.registry[e.id].disambig.givens[r]=this.state.tmp.disambig_settings.givens[r].slice();this.namesetsMax=this.state.registry.registry[e.id].disambig.names.length-1,this.base||(this.base=t,this.betterbase=g.cloneAmbigConfig(t)),t.names.length<this.base.names.length&&(this.base=t);for(r=0,i=t.names.length;r<i;r+=1)t.names[r]>this.base.names[r]&&(this.base.givens[r]=t.givens[r].slice(),this.base.names[r]=t.names[r],this.betterbase.names=this.base.names.slice(),this.betterbase.givens=this.base.givens.slice(),this.padBase(this.base),this.padBase(this.betterbase));this.betterbase.givens=this.base.givens.slice();for(var s=0,n=this.base.givens.length;s<n;s+=1)this.betterbase.givens[s]=this.base.givens[s].slice()}},g.Disambiguation.prototype.captureStepToBase=function(){"by-cite"===this.state.citation.opt["givenname-disambiguation-rule"]&&this.base.givens&&this.base.givens.length&&void 0!==this.base.givens[this.gnameset][this.gname]&&(this.betterbase.givens.length<this.base.givens.length&&(this.betterbase.givens=JSON.parse(JSON.stringify(this.base.givens))),this.betterbase.givens[this.gnameset][this.gname]=this.base.givens[this.gnameset][this.gname]),this.betterbase.names[this.gnameset]=this.base.names[this.gnameset]},g.Engine.prototype.getJurisdictionList=function(e){for(var t=[],r=e.split(":"),i=r.length;i>0;i--){var s=r.slice(0,i).join(":");if(t.push(s),this.opt.jurisdiction_fallbacks[s]){var n=this.opt.jurisdiction_fallbacks[s];t.push(n)}}return-1===t.indexOf("us")&&t.push("us"),t},g.Engine.prototype.loadStyleModule=function(e,t,r){var i=null;this.juris[e]={};var s=g.setupXml(t);s.addMissingNameNodes(s.dataObj),s.addInstitutionNodes(s.dataObj),s.insertPublisherAndPlace(s.dataObj),s.flagDateMacros(s.dataObj);for(var n=s.getNodesByName(s.dataObj,"law-module"),a=0,o=n.length;a<o;a++){var l=s.getAttributeValue(n[a],"types");if(l){this.juris[e].types={},l=l.split(/\s+/);for(var u=0,c=l.length;u<c;u++)this.juris[e].types[l[u]]=!0}r||(i=s.getAttributeValue(n[a],"fallback"),i&&"us"!==e&&(this.opt.jurisdiction_fallbacks[e]=i))}var m=this.opt.lang?this.opt.lang:this.opt["default-locale"][0];g.SET_COURT_CLASSES(this,m,s,s.dataObj),this.juris[e].types||(this.juris[e].types=g.MODULE_TYPES);for(n=s.getNodesByName(s.dataObj,"macro"),a=0,o=n.length;a<o;a++){var p=s.getAttributeValue(n[a],"name");g.MODULE_MACROS[p]?(0,this.juris[e][p]=[],this.buildTokenLists(n[a],this.juris[e][p]),this.configureTokenList(this.juris[e][p])):g.debug('CSL: skipping non-modular macro name "'+p+'" in module context')}return i},g.Engine.prototype.retrieveAllStyleModules=function(e){var t={},r=this.locale[this.opt.lang].opts["jurisdiction-preference"];r=r||[],r=[""].concat(r);for(var i=r.length-1;i>-1;i--)for(var s=r[i],n=0,a=e.length;n<a;n++){var o=e[n];if(!this.opt.jurisdictions_seen[o]){var l=this.sys.retrieveStyleModule(o,s);(!l&&!s||l)&&(this.opt.jurisdictions_seen[o]=!0),l&&(t[o]=l)}}return t},g.ParticleList=(s=[[[0,1],null]],n=[[[0,3],null]],a=[[null,[0,1]]],o=[[null,[0,2]]],l=[[null,[0,3]]],u=[[null,[0,1]],[[0,1],null]],c=[[null,[0,2]],[[0,2],null]],m=[[[0,1],null],[null,[0,1]]],p=[[[0,2],null],[null,[0,2]]],h=[[[0,3],null],[null,[0,3]]],f=[[null,[0,2]],[[0,1],[1,2]]],d=[["'s",a],["'s-",a],["'t",a],["a",a],["aan 't",o],["aan de",o],["aan den",o],["aan der",o],["aan het",o],["aan t",o],["aan",a],["ad-",u],["adh-",u],["af",u],["al",u],["al-",u],["am de",o],["am",a],["an-",u],["ar-",u],["as-",u],["ash-",u],["at-",u],["ath-",u],["auf dem",p],["auf den",p],["auf der",p],["auf ter",o],["auf",m],["aus 'm",p],["aus dem",p],["aus den",p],["aus der",p],["aus m",p],["aus",m],["aus'm",p],["az-",u],["a-",u],["a-",u],["a-",u],["a-",u],["a-",u],["a-",u],["a-",u],["ben",a],["bij 't",o],["bij de",o],["bij den",o],["bij het",o],["bij t",o],["bij",a],["bin",a],["boven d",o],["boven d'",o],["d",a],["d'",u],["da",u],["dal",a],["dal'",a],["dall'",a],["dalla",a],["das",u],["de die le",l],["de die",o],["de l",o],["de l'",o],["de la",f],["de las",f],["de le",o],["de li",c],["de van der",l],["de",u],["de'",u],["deca",a],["degli",u],["dei",u],["del",u],["dela",s],["dell'",u],["della",u],["delle",u],["dello",u],["den",u],["der",u],["des",u],["di",u],["die le",o],["do",a],["don",a],["dos",u],["du",u],["ed-",u],["edh-",u],["el",u],["el-",u],["en-",u],["er-",u],["es-",u],["esh-",u],["et-",u],["eth-",u],["ez-",u],["e-",u],["e-",u],["e-",u],["e-",u],["e-",u],["e-",u],["e-",u],["het",a],["i",a],["il",s],["im",a],["in 't",o],["in de",o],["in den",o],["in der",c],["in het",o],["in t",o],["in",a],["l",a],["l'",a],["la",a],["las",a],["le",a],["les",u],["lo",u],["los",a],["lou",a],["of",a],["onder 't",o],["onder de",o],["onder den",o],["onder het",o],["onder t",o],["onder",a],["op 't",o],["op de",c],["op den",o],["op der",o],["op gen",o],["op het",o],["op t",o],["op ten",o],["op",a],["over 't",o],["over de",o],["over den",o],["over het",o],["over t",o],["over",a],["s",a],["s'",a],["sen",s],["t",a],["te",a],["ten",a],["ter",a],["tho",a],["thoe",a],["thor",a],["to",a],["toe",a],["tot",a],["uijt 't",o],["uijt de",o],["uijt den",o],["uijt te de",l],["uijt ten",o],["uijt",a],["uit 't",o],["uit de",o],["uit den",o],["uit het",o],["uit t",o],["uit te de",l],["uit ten",o],["uit",a],["unter",a],["v",a],["v.",a],["v.d.",a],["van 't",o],["van de l",l],["van de l'",l],["van de",o],["van de",o],["van den",o],["van der",o],["van gen",o],["van het",o],["van la",o],["van t",o],["van ter",o],["van van de",l],["van",u],["vander",a],["vd",a],["ver",a],["vom und zum",n],["vom",u],["von 't",o],["von dem",p],["von den",p],["von der",p],["von t",o],["von und zu",h],["von zu",p],["von",m],["voor 't",o],["voor de",o],["voor den",o],["voor in 't",l],["voor in t",l],["voor",a],["vor der",p],["vor",m],["z",s],["ze",s],["zu",m],["zum",u],["zur",u]],d),g.parseParticles=function(){function e(e,t,r){var i=e;e=r?e.toLowerCase():e;var s,n,a=[];t?(e=e.split("").reverse().join(""),s=g.PARTICLE_GIVEN_REGEXP):s=g.PARTICLE_FAMILY_REGEXP;for(var o=e.match(s);o;){var l=t?o[1].split("").reverse().join(""):o[1],u=!!o&&l;u=!!u&&l.replace(/^[-\'\u02bb\u2019\s]*(.).*$/,"$1");if(n=!!u&&u.toUpperCase()!==u,!n)break;t?(a.push(i.slice(-1*l.length)),i=i.slice(0,-1*l.length)):(a.push(i.slice(0,l.length)),i=i.slice(l.length)),e=o[2],o=e.match(s)}if(t){e=e.split("").reverse().join(""),a.reverse();for(var c=1,m=a.length;c<m;c++)" "==a[c].slice(0,1)&&(a[c-1]+=" ");for(c=0,m=a.length;c<m;c++)" "==a[c].slice(0,1)&&(a[c]=a[c].slice(1));e=i.slice(0,e.length)}else e=i.slice(-1*e.length);return[n,e,a]}function t(e){var t=e.slice(-1);return e=e.trim()," "===t&&["'",""].indexOf(e.slice(-1))>-1&&(e+=" "),e}function r(e){if(!e.suffix&&e.given){var t=e.given.match(/(\s*,!*\s*)/);if(t){var r=e.given.indexOf(t[1]),i=e.given.slice(r+t[1].length),s=e.given.slice(r,r+t[1].length).replace(/\s*/g,"");"et al"!==i.replace(/\./g,"")||e["dropping-particle"]?(2===s.length&&(e["comma-suffix"]=!0),e.suffix=i):(e["dropping-particle"]=i,e["comma-dropping-particle"]=","),e.given=e.given.slice(0,r)}}}return function(i){var s=e(i.family),n=s[1],a=s[2];i.family=n;var o=t(a.join(""));o&&(i["non-dropping-particle"]=o),r(i);s=e(i.given,!0);var l=s[1],u=s[2];i.given=l;var c=u.join("").trim();c&&(i["dropping-particle"]=c)}}(),t.exports=g},{}],97:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function s(e){return"[]"===e?{}:(0,l.default)(JSON.parse(e))}function n(e){const t=[].concat(e).map(e=>o.util.fetchFileAsync(e,u).then(s));return Promise.all(t)}function a(e){const t=[].concat(e).map(e=>o.util.fetchFile(e,u)).map(s);return t}Object.defineProperty(r,"__esModule",{value:!0}),r.parse=a,r.parseAsync=n;var o=e("@citation-js/core"),l=i(e("./json.js"));const u={checkContentType:!0,headers:{Accept:"application/vnd.citationstyles.csl+json"}}},{"./json.js":100,"@citation-js/core":"citation-js"}],98:[function(e,t,r){"use strict";function i(e){const t=Array.isArray(e)?e:e.trim().split(/(?:\s+)/g);return t.map(e=>`https://doi.org/${e}`)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.parse=i},{}],99:[function(e,t,r){"use strict";function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var s={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=n?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(s,a,o):s[a]=e[a]}return s.default=e,r&&r.set(e,s),s}Object.defineProperty(r,"__esModule",{value:!0}),r.ref=r.parsers=r.formats=void 0;var n=e("@citation-js/core"),a=s(e("./id.js")),o=s(e("./api.js")),l=s(e("./json.js")),u=s(e("./type.js"));const c=r.ref="@doi",m=(r.parsers={id:a,api:o,json:l,type:u},r.formats={"@doi/api":{parse:o.parse,parseAsync:o.parseAsync,parseType:{dataType:"String",predicate:/^\s*(https?:\/\/(?:dx\.)?doi\.org\/(10.\d{4,9}\/[-._;()/:A-Z0-9]+))\s*$/i,extends:"@else/url"}},"@doi/short-url":{parse:function(e){return e.replace(/^(\s*)/,"$1https://")},parseType:{dataType:"String",predicate:/^\s*((?:dx\.)?doi\.org\/(10.\d{4,9}\/[-._;()/:A-Z0-9]+))\s*$/i}},"@doi/id":{parse:a.parse,parseType:{dataType:"String",predicate:/^\s*(10.\d{4,9}\/[-._;()/:A-Z0-9]+)\s*$/i}},"@doi/list+text":{parse:a.parse,parseType:{dataType:"String",tokenList:/^10.\d{4,9}\/[-._;()/:A-Z0-9]+$/i}},"@doi/list+object":{parse:a.parse,parseType:{dataType:"Array",elementConstraint:"@doi/id"}},"@doi/type":{parse:u.parse}});n.plugins.add(c,{input:m})},{"./api.js":97,"./id.js":98,"./json.js":100,"./type.js":101,"@citation-js/core":"citation-js"}],100:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function s(e){const t={type:(0,n.default)(e.type,e)},r=["submitted","issued","event-date","original-date","container","accessed"];return r.forEach(t=>{const r=e[t];r&&r["date-parts"]&&"number"==typeof r["date-parts"][0]&&(r["date-parts"]=[r["date-parts"]])}),"dissertation"!==e.type||e.genre||(t.genre="Doctoral dissertation"),Object.assign({},e,t)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.parse=s;var n=i(e("./type.js"))},{"./type.js":101}],101:[function(e,t,r){"use strict";function i(e,t){return"posted-content"===e&&"preprint"===t.subtype?"article":s[e]||e}Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.parse=i;const s={"journal-article":"article-journal","book-chapter":"chapter","posted-content":"manuscript","proceedings-article":"paper-conference",dissertation:"thesis"}},{}],102:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var s=e("@citation-js/core"),n=i(e("./input")),a=i(e("./output"));s.plugins.add("@enw",{input:n.default,output:a.default})},{"./input":103,"./output":105,"@citation-js/core":"citation-js"}],103:[function(e,t,r){"use strict";function i(e){return"0"in e&&(e[0]=e[0].replace(/(^| )(.)/g,(e,t,r)=>t+r.toUpperCase())),{scheme:"enw",fields:e}}function s(e){const t=e.trim().replace(/^\$]/m,"%]").replace(/^(%[([]) ?/m,"$1 ").replace(/\n(?![%\n])/," ").split("\n"),r=[];let s;for(const e of t){if(!e.length)continue;const t=e.slice(1,2);"0"===t&&(s&&r.push(i(s)),s={});const n=e.slice(3);Array.isArray(s[t])?s[t].push(n):s[t]=t in s?[s[t],n]:n}return r.concat(i(s))}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("./mapping");r.default={"@enw/file":{parse:e=>s(e),parseType:{dataType:"String",predicate:/^%0/m}},"@enw/record":{parse:e=>n.translator.convertToTarget(e.fields),parseType:{dataType:"SimpleObject",propertyConstraint:{props:"scheme",value:e=>"enw"===e}}}}},{"./mapping":104}],104:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.translator=void 0;var i=e("@citation-js/core"),s=e("@citation-js/date"),n=e("@citation-js/name");const a={toTarget:{"Aggregated Database":"dataset","Ancient Text":"classic",Artwork:"graphic","Audiovisual Material":"motion_picture",Bill:"bill",Blog:"post-weblog",Book:"book","Book Section":"chapter",Case:"legal_case","Chart or Table":"figure","Classical Work":"classic","Computer Program":"software","Conference Paper":"paper-conference","Conference Proceedings":"book",Dataset:"dataset",Dictionary:"entry-dictionary","Edited Book":"book","Electronic Article":"article-journal","Electronic Book":"book","Electronic Chapter":"chapter",Encyclopedia:"entry-encyclopedia",Equation:"figure",Figure:"figure","Film or Broadcast":"motion_picture",Generic:"document","Government Document":"document",Grant:"document",Hearing:"hearing","Journal Article":"article-journal","Legal Rule or Regulation":"regulation","Magazine Article":"article-magazine",Manuscript:"manuscript",Map:"map",Music:"song","Newspaper Article":"article-newspaper","Online Database":"dataset","Online Multimedia":"motion_picture",Pamphlet:"pamphlet",Patent:"patent","Personal Communication":"personal_communication",Report:"report",Serial:"periodical",Standard:"standard",Statute:"legisliation",Thesis:"thesis","Unpublished Work":"article","Web Page":"webpage"},toSource:{article:"Unpublished Work","article-journal":"Journal Article","article-magazine":"Magazine Article","article-newspaper":"Newspaper Article",bill:"Bill",book:"Book",broadcast:"Film or Broadcast",chapter:"Book Section",classic:"Classical Work",dataset:"Dataset",document:"Generic",entry:"Catalog","entry-dictionary":"Dictionary","entry-encyclopedia":"Encyclopedia",figure:"Figure",graphic:"Artwork",hearing:"Hearing",legal_case:"Case",legislation:"Statute",manuscript:"Manuscript",map:"Map",motion_picture:"Film or Broadcast",musical_score:"Music",pamphlet:"Pamphlet","paper-conference":"Conference Paper",patent:"Patent",periodical:"Serial",personal_communication:"Personal Communication",post:"Blog","post-weblog":"Blog",regulation:"Legal Rule or Regulation",report:"Report",software:"Computer Program",song:"Music",standard:"Standard",thesis:"Thesis",webpage:"Web Page"}},o={TYPE:{toTarget:e=>a.toTarget[e]||"document",toSource:e=>a.toSource[e]||"Generic"},DATE:{toTarget:(e,t)=>e?(0,s.parse)(e):o.YEAR.toTarget(t),toSource:e=>[(0,s.format)(e),o.YEAR.toSource(e)]},YEAR:{toTarget:e=>({"date-parts":[[+e]]}),toSource(e){const t=e&&e["date-parts"]&&e["date-parts"][0]&&e["date-parts"][0][0];return t&&t.toString()}},NAMES:{toTarget:e=>e.map(n.parse),toSource:e=>e.map(e=>(0,n.format)(e,!0))},ISBN_ISSN:{toTarget:e=>e.toString().match(/^\d{4}-\d{3}[0-9xX]$/)?[void 0,e]:[e,void 0],toSource:(e,t)=>e||t},GENRE_DEGREE:{toTarget:(e,t)=>t||e,toSource:e=>e.match(/master|phd|doctoral/i)?[void 0,e]:[e,void 0]}},l=[{source:"!",target:"title-short",when:{source:{0:["Ancient Text","Aggregated Database","Artwork","Audiovisual Material","Bill","Blog","Book","Book Section","Case","Catalog","Classical Work","Computer Program","Conference Proceedings","Dataset","Dictionary","Edited Book","Electronic Article","Electronic Chapter","Encyclopedia","Film or Broadcast","Generic","Grant","Hearing","Journal Article","Magazine Article","Manuscript","Map","Music","Newspaper Article","Pamphlet","Patent","Personal Communication","Report","Serial","Statute","Thesis","Unpublished Work","Web Page"]},target:{type:["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","classic","dataset","document","entry","entry-dictionary","entry-encyclopedia","graphic","hearing","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","patent","periodical","personal_communication","post","post-weblog","report","software","song","thesis","webpage"]}}},{source:"O",target:"title-short",when:{source:{"!":!1,0:["Ancient Text","Book","Book Section","Catalog","Dataset","Dictionary","Encyclopedia","Pamphlet","Personal Communication","Serial","Standard","Statute","Unpublished Work"]},target:{type:"standard"}}},{source:"#",target:"medium",when:{source:{0:["Audiovisual Material","Online Multimedia"]},target:!1}},{source:"#",target:"number",when:{source:{0:["Grant"]},target:!1}},{source:"#",target:"volume-title",when:{source:{0:["Electronic Article"]},target:!1}},{source:"#",target:"publisher",when:{source:{0:["Statute"]},target:{type:["legislation"]}}},{source:"#",target:"references",when:{source:{0:["Patent"]},target:{type:["patent"]}}},{source:"9",target:"medium",when:{source:{0:["Film or Broadcast"]},target:{type:["broadcast","motion_picture"]}}},{source:["#","D"],target:"issued",when:{source:{0:["Electronic Book"]},target:!1},convert:o.DATE},{source:"$",target:"issue",when:{source:{0:["Report"]},target:{type:["report"]}}},{source:"$",target:"status",when:{source:{0:["Patent"]},target:{type:["patent"]}}},{source:"$",target:"volume",when:{source:{0:["Statute"]},target:{type:["legislation"]}}},{source:"&",target:"available-date",when:{source:{0:["Electronic Article"]},target:!1},convert:o.DATE},{source:"&",target:"submitted",when:{source:{0:["Case"]},target:{type:["legal_case"]}},convert:o.DATE},{source:"&",target:"page",when:{source:{0:["Book"]},target:{type:["book"]}}},{source:"&",target:"section",when:{source:{0:["Generic","Government Document","Legal Rule or Regulation","Music","Newspaper Article","Standard","Statute"]},target:{type:["article-newspaper","document","legislation","musical_score","regulation","song","standard"]}}},{source:"&",target:"page-first",when:{source:{0:["Journal Article","Magazine Article","Manuscript"]},target:{type:["article-journal","article-magazine","manuscript"]}}},{source:"&",target:"version",when:{source:{0:["Dictionary"]},target:{type:["entry-dictionary"]}}},{source:"(",target:"edition",when:{source:{0:["Electronic Book"],7:!1},target:!1}},{source:"*",target:"reviewed-title",when:{source:{0:["Ancient Text","Book Section","Dictionary","Electronic Article","Electronic Book","Electronic Chapter","Encyclopedia","Generic","Grant","Journal Article","Magazine Article","Newspaper Article","Serial"]},target:{type:["article-journal","article-magazine","article-newspaper","chapter","document","entry-dictionary","entry-encyclopedia","periodical"]}}},{source:"0",target:"type",convert:o.TYPE},{source:"1",target:"publisher-place",when:{source:{0:["Conference Paper","Conference Proceedings"]},target:{type:["paper-conference"]}}},{source:"1",target:"scale",when:{source:{0:["Map"]},target:{type:["map"]}}},{source:"2",target:"issue",when:{source:{0:["Newspaper Article"]},target:{type:["article-newspaper"]}}},{source:"2",target:"PMCID",when:{source:{0:["Journal Article"]},target:{type:["article-journal"]}}},{source:"2",target:"number",when:{source:{0:["Serial"]},target:{type:["periodical"]}}},{source:["8","2"],target:"issued",when:{source:{0:["Conference Proceedings"]},target:!1},convert:o.DATE},{source:["8","D"],target:"issued",when:{source:{0:["Patent"]},target:{type:["patent"]}},convert:o.DATE},{source:["2","D"],target:"issued",when:{source:{0:["Patent"],8:!1},target:!1},convert:o.DATE},{source:"3",target:"genre",when:{source:{0:["Dataset"]},target:{type:["dataset"]}}},{source:"3",target:"PMCID",when:{source:{0:["Electronic Article"]},target:!1}},{source:"3",target:"container-title",when:{source:{0:["Conference Proceedings"]},target:!1}},{source:"3",target:"dimensions",when:{source:{0:["Artwork","Audiovisual Material","Map"]},target:{type:["graphic","map"]}}},{source:"A",target:"author",when:{source:{0:["Book","Book Section","Electronic Article","Electronic Book","Electronic Chapter"],4:!1},target:{type:["book","chapter"],"reviewed-author":!1}},convert:o.NAMES},{source:"A",target:"reviewed-author",when:{source:{0:["Book","Book Section","Electronic Article","Electronic Book","Electronic Chapter"],4:!0},target:{type:["book","chapter"]}},convert:o.NAMES},{source:"4",target:"author",when:{source:{0:["Book","Book Section","Electronic Article","Electronic Book","Electronic Chapter"]},target:{type:["book","chapter"],"reviewed-author":!0}},convert:o.NAMES},{source:"6",target:"number",when:{source:{0:["Catalog","Dataset","Manuscript","Personal Communication"]},target:{type:["dataset","entry","manuscript","personal_communication"]}}},{source:"6",target:"number-of-volumes",when:{source:{0:["Ancient Text","Book","Book Section","Classical Work","Conference Proceedings","Dictionary","Edited Book","Electronic Chapter","Encyclopedia","Generic","Hearing","Music","Serial"]},target:{type:["book","chapter","classic","document","entry-dictionary","entry-encyclopedia","hearing","musical_score","periodical","song"]}}},{source:"6",target:"container-title-short",when:{source:{0:["Case"]},target:{type:["legal_case"]}}},{source:"6",target:"collection-number",when:{source:{0:["Report"]},target:{type:["report"]}}},{source:"6",target:"version",when:{source:{0:["Electronic Book"]},target:!1}},{source:"@",target:"number",when:{source:{0:["Standard"]},target:{type:["standard"]}}},{source:"6",target:"number",when:{source:{0:["Statute"]},target:{type:["legislation"]}}},{source:"V",target:"number",when:{source:{0:["Legal Rule or Regulation"]},target:{type:["regulation"]}}},{source:"]",target:"number",when:{source:{0:["Electronic Article"]},target:!1}},{source:"7",target:"edition",when:{source:{0:["Ancient Text","Artwork","Audiovisual Material","Blog","Book","Book Section","Catalog","Classical Work","Conference Proceedings","Dictionary","Edited Book","Electronic Article","Electronic Book","Electronic Chapter","Encyclopedia","Film or Broadcast","Generic","Government Document","Legal Rule or Regulation","Magazine Article","Map","Music","Newspaper Article","Pamphlet","Report","Serial","Web Page"]},target:{type:["article-magazine","article-newspaper","book","broadcast","chapter","classic","document","entry","entry-dictionary","entry-encyclopedia","graphic","map","motion_picture","musical_score","pamphlet","periodical","post","post-weblog","regulation","report","song","webpage"]}}},{source:"7",target:"available-date",when:{source:{0:["Journal Article"]},target:{type:["article-journal"]}},convert:o.DATE},{source:"7",target:"version",when:{source:{0:["Chart or Table","Computer Program","Dataset","Equation","Figure"]},target:{type:["dataset","figure","software"]}}},{source:["7","D"],target:"issued",when:{source:{0:["Aggregated Database","Online Database"]},target:!1},convert:o.DATE},{source:"8",target:"accessed",when:{source:{0:["Aggregated Database","Case","Electronic Article","Electronic Book","Online Database","Online Multimedia"]},target:{type:["legal_case"]}}},{source:["8","D"],target:"issued",when:{source:{0:["Ancient Text","Artwork","Audiovisual Material","Bill","Book","Catalog","Chart or Table","Conference Paper","Edited Book","Electronic Chapter","Encyclopedia","Equation","Figure","Film or Broadcast","Generic","Hearing","Journal Article","Legal Rule or Regulation","Magazine Article","Manuscript","Map","Music","Newspaper Article","Pamphlet","Personal Communication","Report","Serial","Standard","Statute","Thesis","Unpublished Work"]},target:{type:["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","document","entry","entry-encyclopedia","figure","graphic","hearing","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","periodical","personal_communication","regulation","report","song","standard","thesis"]}},convert:o.DATE},{source:"9",target:"medium",when:{source:{0:["Music"]},target:{type:["musical_score","song"]}}},{source:"9",target:"genre",when:{source:{0:["Aggregated Database","Ancient Text","Artwork","Audiovisual Material","Blog","Book","Catalog","Chart or Table","Classical Work","Computer Program","Conference Paper","Dictionary","Edited Book","Electronic Article","Electronic Book","Electronic Chapter","Equation","Figure","Generic","Grant","Journal Article","Legal Rule or Regulation","Magazine Article","Manuscript","Map","Newspaper Article","Online Database","Online Multimedia","Pamphlet","Patent","Personal Communication","Report","Serial","Standard","Unpublished Work","Web Page"]},target:{type:["article","article-journal","article-magazine","article-newspaper","book","classic","document","entry","entry-dictionary","figure","graphic","manuscript","map","pamphlet","paper-conference","patent","periodical","personal_communication","post","post-weblog","regulation","report","software","standard","webpage"]}}},{source:["9","V"],target:"genre",when:{source:{0:["Thesis"]},target:{type:["thesis"]}},convert:o.GENRE_DEGREE},{source:"?",target:"performer",when:{source:{0:["Audiovisual Material","Film or Broadcast"]},target:{type:["broadcast","motion_picture"]}},convert:o.NAMES},{source:"?",target:"producer",when:{source:{0:["Music"]},target:{type:["musical_score","song"]}},convert:o.NAMES},{source:"?",target:"translator",when:{source:{0:["Ancient Text","Book","Book Section","Catalog","Classical Work","Dictionary","Edited Book","Electronic Chapter","Encyclopedia","Grant","Pamphlet"]},target:{type:["book","chapter","classic","entry","entry-dictionary","entry-encyclopedia","pamphlet"]}},convert:o.NAMES},{source:"@",target:"ISBN",when:{source:{0:["Ancient Text","Audiovisual Material","Blog","Book","Book Section","Catalog","Computer Program","Conference Proceedings","Dictionary","Edited Book","Electronic Book","Encyclopedia","Hearing","Music","Pamphlet","Serial","Web Page"]},target:{type:["book","chapter","entry","entry-dictionary","entry-encyclopedia","hearing","musical_score","pamphlet","periodical","post","post-weblog","software","song","webpage"]}}},{source:"@",target:"ISSN",when:{source:{0:["Dataset","Electronic Article","Journal Article","Magazine Article","Newspaper Article"]},target:{type:["article-journal","article-magazine","article-newspaper","dataset"]}}},{source:"@",target:["ISBN","ISSN"],when:{source:{0:["Aggregated Database","Classical Work","Electronic Chapter","Generic","Government Document","Legal Rule or Regulation","Map"]},target:{type:["classic","document","map","regulation"]}},convert:o.ISBN_ISSN},{source:"@",target:"number",when:{source:{0:["Online Database","Patent"]},target:{type:["patent"]}}},{source:"@",target:"number",when:{source:{0:["Report"]},target:{type:["report"]}}},{source:"A",target:"author",when:{source:{0:["Aggregated Database","Ancient Text","Artwork","Audiovisual Material","Blog","Catalog","Chart or Table","Classical Work","Computer Program","Conference Paper","Conference Proceedings","Dataset","Dictionary","Encyclopedia","Equation","Figure","Generic","Government Document","Grant","Journal Article","Legal Rule or Regulation","Magazine Article","Manuscript","Map","Newspaper Article","Online Database","Online Multimedia","Pamphlet","Patent","Personal Communication","Report","Serial","Standard","Thesis","Unpublished Work","Web Page"]},target:{type:["article","article-journal","article-magazine","article-newspaper","classic","dataset","document","entry","entry-dictionary","entry-encyclopedia","figure","graphic","manuscript","map","pamphlet","paper-conference","patent","periodical","personal_communication","post","post-weblog","regulation","report","software","standard","thesis","webpage"]}},convert:o.NAMES},{source:"A",target:"composer",when:{source:{0:["Music"]},target:{type:["musical_score","song"]}},convert:o.NAMES},{source:"A",target:"editor",when:{source:{0:["Edited Book"]},target:!1},convert:o.NAMES},{source:"A",target:"director",when:{source:{0:["Film or Broadcast"]},target:{type:["broadcast","motion_picture"]}},convert:o.NAMES},{source:"E",target:"director",when:{source:{0:["Film or Broadcast"],A:!1},target:!1},convert:o.NAMES},{source:"B",target:"container-title",when:{source:{0:["Aggregated Database","Ancient Text","Bill","Blog","Book Section","Case","Dictionary","Electronic Article","Electronic Chapter","Encyclopedia","Magazine Article","Manuscript","Music","Newspaper Article","Online Database","Statute"]},target:{type:["article-magazine","article-newspaper","bill","chapter","entry-dictionary","entry-encyclopedia","legal_case","legislation","manuscript","musical_score","post","post-weblog","song"]}}},{source:"B",target:"committee",when:{source:{0:["Hearing"]},target:{type:["hearing"]}},convert:o.NAMES},{source:"B",target:"event-title",when:{source:{0:["Conference Paper","Conference Proceedings"]},target:{type:["paper-conference"]}}},{source:"B",target:"collection-title",when:{source:{0:["Audiovisual Material","Book","Catalog","Classical Work","Computer Program","Edited Book","Film or Broadcast","Map","Online Multimedia","Report","Unpublished Work","Web Page"]},target:{type:["article","book","broadcast","classic","entry","map","motion_picture","report","software","webpage"]}}},{source:"C",target:"event-place",when:{source:{0:["Conference Paper","Conference Proceedings"]},target:{type:["paper-conference"]}}},{source:"C",target:"publisher-place",when:{source:{0:["Aggregated Database","Ancient Text","Artwork","Audiovisual Material","Blog","Book","Book Section","Catalog","Chart or Table","Classical Work","Computer Program","Dataset","Dictionary","Edited Book","Electronic Article","Electronic Book","Electronic Chapter","Encyclopedia","Equation","Figure","Film or Broadcast","Generic","Government Document","Hearing","Legal Rule or Regulation","Magazine Article","Manuscript","Map","Music","Newspaper Article","Online Database","Pamphlet","Personal Communication","Report","Serial","Standard","Thesis","Unpublished Work","Web Page"]},target:{type:["article","article-magazine","article-newspaper","book","broadcast","chapter","classic","dataset","document","entry","entry-dictionary","entry-encyclopedia","figure","graphic","hearing","manuscript","map","motion_picture","musical_score","pamphlet","periodical","personal_communication","post","post-weblog","regulation","report","software","song","standard","thesis","webpage"]}}},{source:"D",target:"issued",when:{source:{0:["Blog","Book Section","Classical Work","Computer Program","Dataset","Dictionary","Electronic Article","Government Document","Grant","Online Multimedia","Web Page"]},target:{type:["chapter","classic","dataset","entry-dictionary","post","post-weblog","software","webpage"]}},convert:o.YEAR},{source:"D",target:"event-date",when:{source:{0:["Conference Proceedings"]},target:!1},convert:o.DATE},{source:"E",target:"editor",when:{source:{0:["Ancient Text","Blog","Book Section","Conference Paper","Conference Proceedings","Dictionary","Electronic Book","Electronic Chapter","Encyclopedia","Music","Serial"]},target:{type:["chapter","entry-dictionary","entry-encyclopedia","musical_score","paper-conference","periodical","post","post-weblog","song"]}},convert:o.NAMES},{
source:"E",target:"collection-editor",when:{source:{0:["Audiovisual Material","Book","Classical Work","Computer Program","Edited Book","Map","Online Multimedia","Report","Unpublished Work","Web Page"]},target:{type:["article","book","classic","map","report","software","webpage"]}},convert:o.NAMES},{source:"E",target:"recipient",when:{source:{0:["Personal Communication"]},target:{type:["personal_communication"]}}},{source:"F",target:"citation-key",when:{source:{0:["Aggregated Database","Ancient Text","Artwork","Audiovisual Material","Bill","Blog","Book","Book Section","Case","Catalog","Chart or Table","Classical Work","Computer Program","Conference Paper","Conference Proceedings","Dataset","Dictionary","Edited Book","Electronic Article","Electronic Book","Electronic Chapter","Encyclopedia","Equation","Figure","Film or Broadcast","Generic","Government Document","Grant","Hearing","Journal Article","Legal Rule or Regulation","Magazine Article","Manuscript","Map","Music","Newspaper Article","Online Database","Online Multimedia","Pamphlet","Patent","Personal Communication","Report","Serial","Standard","Statute","Thesis","Unpublished Work","Web Page"]},target:{type:["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","classic","dataset","document","entry","entry-dictionary","entry-encyclopedia","figure","graphic","hearing","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","patent","periodical","personal_communication","post","post-weblog","regulation","report","software","song","standard","thesis","webpage"]}}},{source:"G",target:"language",when:{source:{0:["Aggregated Database","Ancient Text","Artwork","Audiovisual Material","Bill","Blog","Book","Book Section","Case","Catalog","Chart or Table","Classical Work","Computer Program","Conference Paper","Conference Proceedings","Dataset","Dictionary","Edited Book","Electronic Article","Electronic Book","Electronic Chapter","Encyclopedia","Equation","Figure","Film or Broadcast","Generic","Government Document","Grant","Hearing","Journal Article","Legal Rule or Regulation","Magazine Article","Manuscript","Map","Music","Newspaper Article","Online Database","Online Multimedia","Pamphlet","Patent","Personal Communication","Report","Serial","Standard","Statute","Thesis","Unpublished Work","Web Page"]},target:{type:["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","classic","dataset","document","entry","entry-dictionary","entry-encyclopedia","figure","graphic","hearing","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","patent","periodical","personal_communication","post","post-weblog","regulation","report","software","song","standard","thesis","webpage"]}}},{source:"I",target:"publisher",when:{source:{0:["Aggregated Database","Ancient Text","Artwork","Audiovisual Material","Blog","Book","Book Section","Catalog","Chart or Table","Classical Work","Computer Program","Conference Paper","Conference Proceedings","Dataset","Dictionary","Edited Book","Electronic Article","Electronic Book","Electronic Chapter","Encyclopedia","Equation","Figure","Film or Broadcast","Generic","Government Document","Hearing","Legal Rule or Regulation","Magazine Article","Map","Music","Newspaper Article","Online Database","Online Multimedia","Pamphlet","Personal Communication","Serial","Standard","Thesis","Unpublished Work","Web Page"]},target:{type:["article","article-magazine","article-newspaper","book","broadcast","chapter","classic","dataset","document","entry","entry-dictionary","entry-encyclopedia","figure","graphic","hearing","map","motion_picture","musical_score","pamphlet","paper-conference","periodical","personal_communication","post","post-weblog","regulation","software","song","standard","thesis","webpage"]}}},{source:"Y",target:"publisher",when:{source:{0:["Report"]},target:{type:["report"]}}},{source:"J",target:"container-title",when:{source:{0:["Journal Article"]},target:{type:["article-journal"]}}},{source:"K",target:"keyword",when:{source:{0:["Aggregated Database","Ancient Text","Artwork","Audiovisual Material","Bill","Blog","Book","Book Section","Case","Catalog","Chart or Table","Classical Work","Computer Program","Conference Paper","Conference Proceedings","Dataset","Dictionary","Edited Book","Electronic Article","Electronic Book","Electronic Chapter","Encyclopedia","Equation","Figure","Film or Broadcast","Generic","Government Document","Grant","Hearing","Journal Article","Legal Rule or Regulation","Magazine Article","Manuscript","Map","Music","Newspaper Article","Online Database","Online Multimedia","Pamphlet","Patent","Personal Communication","Report","Serial","Standard","Statute","Thesis","Unpublished Work","Web Page"]},target:{type:["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","classic","dataset","document","entry","entry-dictionary","entry-encyclopedia","figure","graphic","hearing","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","patent","periodical","personal_communication","post","post-weblog","regulation","report","software","song","standard","thesis","webpage"]}}},{source:"L",target:"call-number",when:{source:{0:["Ancient Text","Artwork","Audiovisual Material","Bill","Blog","Book","Book Section","Case","Catalog","Chart or Table","Classical Work","Computer Program","Conference Proceedings","Dataset","Dictionary","Edited Book","Electronic Book","Electronic Chapter","Encyclopedia","Equation","Figure","Film or Broadcast","Generic","Grant","Hearing","Journal Article","Legal Rule or Regulation","Magazine Article","Manuscript","Map","Music","Newspaper Article","Pamphlet","Patent","Personal Communication","Report","Serial","Standard","Statute","Thesis","Web Page"]},target:{type:["article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","classic","dataset","document","entry","entry-dictionary","entry-encyclopedia","figure","graphic","hearing","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","patent","periodical","personal_communication","post","post-weblog","regulation","report","software","song","standard","thesis","webpage"]}}},{source:"N",target:"number",when:{source:{0:["Aggregated Database","Ancient Text","Audiovisual Material","Bill","Chart or Table","Dictionary","Equation","Figure","Generic","Government Document","Hearing","Thesis","Unpublished Work"]},target:{type:["article","bill","document","entry-dictionary","figure","hearing","thesis"]}}},{source:"N",target:"issue",when:{source:{0:["Conference Paper","Conference Proceedings","Electronic Article","Journal Article","Magazine Article"]},target:{type:["article-journal","article-magazine","paper-conference"]}}},{source:"N",target:"collection-number",when:{source:{0:["Book","Book Section","Catalog","Classical Work","Edited Book","Electronic Chapter","Pamphlet","Serial"]},target:{type:["book","chapter","classic","entry","pamphlet","periodical"]}}},{source:"N",target:"page-first",when:{source:{0:["Legal Rule or Regulation","Newspaper Article","Standard"]},target:{type:["article-newspaper","regulation","standard"]}}},{source:"N",target:"status",when:{source:{0:["Grant"]},target:!1}},{source:"N",target:"accessed",when:{source:{0:["Web Page"]},target:{type:["webpage"]}},convert:o.DATE},{source:"P",target:"page",when:{source:{0:["Aggregated Database","Ancient Text","Bill","Book Section","Catalog","Conference Paper","Conference Proceedings","Dictionary","Electronic Article","Encyclopedia","Generic","Government Document","Grant","Hearing","Journal Article","Legal Rule or Regulation","Magazine Article","Manuscript","Music","Newspaper Article","Online Database","Pamphlet","Patent","Personal Communication","Report","Serial","Standard","Statute","Unpublished Work"]},target:{type:["article","article-journal","article-magazine","article-newspaper","bill","chapter","document","entry","entry-dictionary","entry-encyclopedia","hearing","legislation","manuscript","musical_score","pamphlet","paper-conference","patent","periodical","personal_communication","regulation","report","song","standard"]}}},{source:"P",target:"page-first",when:{source:{0:["Case"]},target:{type:["legal_case"]}}},{source:"P",target:"number-of-pages",when:{source:{0:["Book","Classical Work","Edited Book","Electronic Book","Electronic Chapter","Thesis"]},target:{type:["book","classic","thesis"]}}},{source:"P",target:"dimensions",when:{source:{0:["Film or Broadcast"]},target:{type:["broadcast","motion_picture"]}}},{source:"Q",target:"title",when:{target:{"original-title":!0}}},{source:"T",target:"original-title",when:{source:{Q:!0}}},{source:"T",target:"title",when:{source:{Q:!1},target:{"original-title":!1}}},{source:"1",target:"title",when:{source:{0:["Book Section","Dictionary","Electronic Chapter","Encyclopedia","Serial"],T:!1},target:!1}},{source:"&",target:"title",when:{source:{0:["Book Section","Serial"],1:!1,T:!1},target:!1}},{source:"R",target:"DOI",when:{source:{0:["Aggregated Database","Ancient Text","Artwork","Audiovisual Material","Bill","Blog","Book","Book Section","Case","Catalog","Chart or Table","Classical Work","Computer Program","Conference Paper","Conference Proceedings","Dataset","Dictionary","Edited Book","Electronic Article","Electronic Book","Electronic Chapter","Encyclopedia","Equation","Figure","Film or Broadcast","Generic","Government Document","Grant","Hearing","Journal Article","Legal Rule or Regulation","Magazine Article","Manuscript","Map","Music","Newspaper Article","Online Database","Online Multimedia","Pamphlet","Patent","Personal Communication","Report","Serial","Standard","Statute","Thesis","Unpublished Work","Web Page"]},target:{type:["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","classic","dataset","document","entry","entry-dictionary","entry-encyclopedia","figure","graphic","hearing","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","patent","periodical","personal_communication","post","post-weblog","regulation","report","software","song","standard","thesis","webpage"]}}},{source:"S",target:"collection-title",when:{source:{0:["Book Section","Conference Proceedings","Dataset","Electronic Book","Electronic Chapter","Government Document","Music","Serial"]},target:{type:["chapter","dataset","musical_score","periodical","song"]}}},{source:"U",target:"URL",when:{source:{0:["Aggregated Database","Ancient Text","Artwork","Audiovisual Material","Bill","Blog","Book","Book Section","Case","Catalog","Chart or Table","Classical Work","Computer Program","Conference Paper","Conference Proceedings","Dataset","Dictionary","Edited Book","Electronic Article","Electronic Book","Electronic Chapter","Encyclopedia","Equation","Figure","Film or Broadcast","Generic","Government Document","Grant","Hearing","Journal Article","Legal Rule or Regulation","Magazine Article","Manuscript","Map","Music","Newspaper Article","Online Database","Online Multimedia","Pamphlet","Patent","Personal Communication","Report","Serial","Standard","Statute","Thesis","Unpublished Work","Web Page"]},target:{type:["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","classic","dataset","document","entry","entry-dictionary","entry-encyclopedia","figure","graphic","hearing","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","patent","periodical","personal_communication","post","post-weblog","regulation","report","software","song","standard","thesis","webpage"]}}},{source:"V",target:"issue",when:{source:{0:["Statute"]},target:{type:["legislation"]}}},{source:"V",target:"volume",when:{source:{0:["Aggregated Database","Ancient Text","Audiovisual Material","Bill","Book","Book Section","Case","Catalog","Classical Work","Conference Paper","Conference Proceedings","Dictionary","Edited Book","Electronic Article","Electronic Book","Electronic Chapter","Encyclopedia","Generic","Government Document","Journal Article","Magazine Article","Manuscript","Music","Newspaper Article","Online Database","Report","Serial"]},target:{type:["article-journal","article-magazine","article-newspaper","bill","book","chapter","classic","document","entry","entry-dictionary","entry-encyclopedia","legal_case","manuscript","musical_score","paper-conference","periodical","report","song"]}}},{source:"V",target:"edition",when:{source:{0:["Computer Program"]},target:{type:["software"]}}},{source:"V",target:"dimensions",when:{source:{0:["Chart or Table","Equation","Figure"]},target:{type:["figure"]}}},{source:"V",target:"number",when:{source:{0:["Pamphlet"]},target:{type:["pamphlet"]}}},{source:"V",target:"version",when:{source:{0:["Patent"]},target:{type:["patent"]}}},{source:["[","V"],target:"accessed",when:{source:{0:["Blog"]},target:{type:["post","post-weblog"]}},convert:o.DATE},{source:"X",target:"abstract"},{source:"7",target:"abstract",when:{source:{0:["Manuscript","Personal Communication"],X:!1},target:!1}},{source:"P",target:"abstract",when:{source:{0:["Artwork","Blog","Chart or Table","Computer Program","Equation","Figure","Map","Web Page"],X:!1},target:!1}},{source:"Y",target:"editor",when:{source:{0:["Book"]},target:{type:["book"]}},convert:o.NAMES},{source:"Y",target:"collection-editor",when:{source:{0:["Book Section","Conference Proceedings","Electronic Book","Electronic Chapter","Music","Serial"]},target:{type:["chapter","musical_score","periodical","song"]}},convert:o.NAMES},{source:"Y",target:"illustrator",when:{source:{0:["Blog"]},target:{type:["post","post-weblog"]}},convert:o.NAMES},{source:"Y",target:"producer",when:{source:{0:["Film or Broadcast"]},target:{type:["broadcast","motion_picture"]}},convert:o.NAMES},{source:"Z",target:"note",when:{source:{0:["Aggregated Database","Ancient Text","Artwork","Audiovisual Material","Bill","Book","Book Section","Case","Catalog","Chart or Table","Classical Work","Computer Program","Conference Paper","Conference Proceedings","Dataset","Dictionary","Edited Book","Electronic Article","Electronic Book","Electronic Chapter","Encyclopedia","Equation","Figure","Film or Broadcast","Generic","Government Document","Grant","Hearing","Magazine Article","Manuscript","Map","Music","Newspaper Article","Online Database","Online Multimedia","Pamphlet","Patent","Personal Communication","Report","Serial","Standard","Statute","Thesis","Unpublished Work","Web Page"]},target:{type:["article","article-magazine","article-newspaper","bill","book","broadcast","chapter","classic","dataset","document","entry","entry-dictionary","entry-encyclopedia","figure","graphic","hearing","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","patent","periodical","personal_communication","report","software","song","standard","thesis","webpage"]}}},{source:"[",target:"accessed",when:{source:{0:["Ancient Text","Artwork","Audiovisual Material","Bill","Book","Book Section","Catalog","Chart or Table","Classical Work","Computer Program","Conference Paper","Conference Proceedings","Dataset","Dictionary","Edited Book","Electronic Chapter","Encyclopedia","Equation","Figure","Film or Broadcast","Generic","Government Document","Grant","Hearing","Journal Article","Legal Rule or Regulation","Magazine Article","Manuscript","Map","Music","Newspaper Article","Pamphlet","Patent","Personal Communication","Report","Serial","Standard","Statute","Thesis","Unpublished Work"]},target:{type:["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","classic","dataset","document","entry","entry-dictionary","entry-encyclopedia","figure","graphic","hearing","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","patent","periodical","personal_communication","regulation","report","software","song","standard","thesis"]}}},{source:"]",target:"number",when:{source:{0:["Journal Article"]},target:{type:["article-journal"]}}},{source:"]",target:"PMCID",when:{source:{0:["Electronic Book","Electronic Chapter"]},target:!1}}];r.translator=new i.util.Translator(l)},{"@citation-js/core":"citation-js","@citation-js/date":106,"@citation-js/name":109}],105:[function(e,t,r){"use strict";function i({fields:e},t){let r="";for(const i in e){const s=[].concat(e[i]);for(const e of s)r+="%"+i+" "+e+t}return r}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var s=e("./mapping");r.default={enw(e,t={}){const{format:r="text",lineEnding:n="\n"}=t,a=e.map(e=>({scheme:"enw",fields:s.translator.convertToSource(e)}));return"object"===r?a:a.map(e=>i(e,n)).join(n)}}},{"./mapping":104}],106:[function(e,t,r){arguments[4][53][0].apply(r,arguments)},{"./input":107,"./output":108,dup:53}],107:[function(e,t,r){arguments[4][54][0].apply(r,arguments)},{dup:54}],108:[function(e,t,r){arguments[4][55][0].apply(r,arguments)},{dup:55}],109:[function(e,t,r){arguments[4][42][0].apply(r,arguments)},{"./input":110,"./output":111,dup:42}],110:[function(e,t,r){arguments[4][43][0].apply(r,arguments)},{dup:43}],111:[function(e,t,r){arguments[4][44][0].apply(r,arguments)},{dup:44}],112:[function(e,t,r){"use strict";function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var s={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=n?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(s,a,o):s[a]=e[a]}return s.default=e,r&&r.set(e,s),s}function n(e){return"un"===e.volumeInfo.language&&delete e.volumeInfo.language,0===e.volumeInfo.pageCount&&delete e.volumeInfo.pageCount,m.convertToTarget(e.volumeInfo)}function a(e){return{kind:"books#volumes",totalItems:e.length,items:e.map(m.convertToSource)}}Object.defineProperty(r,"__esModule",{value:!0}),r.GOOGLE_BOOKS_API_VERSION=void 0,r.format=a,r.parse=n;var o=e("@citation-js/core"),l=s(e("@citation-js/name")),u=s(e("@citation-js/date"));const c=[{source:"printType",target:"type",convert:{toTarget:e=>({BOOK:"book",MAGAZINE:"article-magazine"})[e],toSource:e=>"article"===e.slice(0,7)?"MAGAZINE":"BOOK"}},{source:"authors",target:"author",convert:{toTarget:e=>e.map(l.parse),toSource:e=>e.map(l.format)}},{source:"canonicalVolumeLink",target:"URL"},{source:"categories",target:"keyword",convert:{toTarget:e=>e.join(","),toSource:e=>e.split(",")}},{source:"description",target:"abstract"},{source:"dimensions",target:"dimensions",convert:{toTarget:({height:e,width:t,thickness:r})=>`${e} x ${t} x ${r} cm`,toSource(e){}}},{source:"industryIdentifiers",target:["ISBN","ISSN","DOI","PMID","PMCID"],convert:{toTarget:e=>["ISBN_13","ISSN"].map(t=>(e.find(({type:e})=>e===t)||{}).identifier),toSource:(e,t,...r)=>[e&&{type:13===e.length?"ISBN_13":"ISBN_10",identifier:e},t&&{type:"ISSN",identifier:t},...r.map(e=>({type:"OTHER",identifier:e}))].filter(Boolean)}},"language",{source:"pageCount",target:"number-of-pages"},"publisher","title",{source:"publishedDate",target:"issued",convert:{toTarget:u.parse,toSource:u.format}}],m=new o.util.Translator(c),p="v1";r.GOOGLE_BOOKS_API_VERSION=p},{"@citation-js/core":"citation-js","@citation-js/date":116,"@citation-js/name":119}],113:[function(e,t,r){"use strict";var i=e("@citation-js/core"),s=e("./input");i.plugins.add(s.ref,{input:s.formats})},{"./input":114,"@citation-js/core":"citation-js"}],114:[function(e,t,r){"use strict";function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var s={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=n?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(s,a,o):s[a]=e[a]}return s.default=e,r&&r.set(e,s),s}function n(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function a(e){return function(){var t=this,r=arguments;return new Promise(function(i,s){function a(e){n(l,i,s,a,o,"next",e)}function o(e){n(l,i,s,a,o,"throw",e)}var l=e.apply(t,r);a(void 0)})}}function o(e,t){return c(e)||u(e,t)||p(e,t)||l()}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var i,s,n,a,o=[],l=!0,u=!1;try{if(n=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(i=n.call(r)).done)&&(o.push(i.value),o.length!==t);l=!0);}catch(e){u=!0,s=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw s}}return o}}function c(e){if(Array.isArray(e))return e}function m(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=p(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0,s=function(){};return{s:s,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,a=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){o=!0,n=e},f:function(){try{a||null==r.return||r.return()}finally{if(o)throw n}}}}function p(e,t){if(e){if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function f(e){return e=e.replace(/-/g,""),[[`https://www.googleapis.com/books/v1/volumes?q=isbn:${e}`,e=>e.totalItems],[`https://openlibrary.org/api/books?bibkeys=ISBN:${e}&format=json&jscmd=data`,e=>Object.keys(e).length]]}function d(e){var t,r=m(f(e));try{for(r.s();!(t=r.n()).done;){const e=o(t.value,2),r=e[0],i=e[1],s=JSON.parse(y.util.fetchFile(r));if(i(s))return s}}catch(e){r.e(e)}finally{r.f()}throw new Error(`Cannot find resource for ISBN: ${e}`)}function g(e){return b.apply(this,arguments)}function b(){return b=a(function*(e){var t,r=m(f(e));try{for(r.s();!(t=r.n()).done;){const e=o(t.value,2),r=e[0],i=e[1],s=JSON.parse(yield y.util.fetchFileAsync(r));if(i(s))return s}}catch(e){r.e(e)}finally{r.f()}throw new Error(`Cannot find resource for ISBN: ${e}`)}),b.apply(this,arguments)}Object.defineProperty(r,"__esModule",{value:!0}),r.ref=r.formats=void 0;var y=e("@citation-js/core"),v=s(e("./google-books.js")),_=s(e("./open-library.js"));const x="@isbn";r.ref=x;const E={"@isbn/isbn-10":{parse:d,parseAsync:g,parseType:{dataType:"String",predicate:e=>/^\d{10}$/.test(e.replace(/-/g,""))}},"@isbn/isbn-13":{parse:d,parseAsync:g,parseType:{dataType:"String",predicate:e=>/^(978|979)\d{10}$/.test(e.replace(/-/g,""))}},"@isbn/isbn-a":{parse:e=>e.slice(3).replace(/\D/g,""),parseType:{dataType:"String",predicate:/^10\.(978|979)\.\d{2,8}\/\d{2,7}$/},outputs:"@isbn/isbn-13"},"@isbn/number":{parse:e=>e.toString(),parseType:{dataType:"Primitive",predicate:e=>[10,13].includes(e.toString().length)},outputs:"@isbn/isbn-13"},"@isbn/vnd.google.books.volumes+object":{parse:e=>e.items,parseType:{dataType:"SimpleObject",propertyConstraint:[{props:"kind",value:e=>"books#volumes"===e},{props:["totalItems","items"]}]}},"@isbn/vnd.google.books.volume+object":{parse:v.parse,parseType:{dataType:"SimpleObject",propertyConstraint:[{props:"kind",value:e=>"books#volume"===e},{props:["volumeInfo","id"]}]},outputs:"@csl/object"},"@isbn/vnd.archive.openlibrary.books+object":{parse:_.parse,parseType:{dataType:"SimpleObject",predicate:e=>Object.keys(e).every(e=>"ISBN:"===e.slice(0,5))},outputs:"@csl/list+object"}};r.formats=E},{"./google-books.js":112,"./open-library.js":115,"@citation-js/core":"citation-js"}],115:[function(e,t,r){"use strict";function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var s={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=n?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(s,a,o):s[a]=e[a]}return s.default=e,r&&r.set(e,s),s}function n(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=a(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0,s=function(){};return{s:s,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){l=!0,n=e},f:function(){try{o||null==r.return||r.return()}finally{if(l)throw n}}}}function a(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function l(e){return Object.keys(e).map(t=>d.convertToTarget(e[t]))}function u(e){const t={};var r,i=n(e);try{for(i.s();!(r=i.n()).done;){const e=r.value;e.ISBN||(t[`ISBN:${e.ISBN}`]=d.convertToSource(e))}}catch(e){i.e(e)}finally{i.f()}return t}Object.defineProperty(r,"__esModule",{value:!0}),r.format=u,r.parse=l;var c=e("@citation-js/core"),m=s(e("@citation-js/name")),p=s(e("@citation-js/date"));const h={toTarget:([{name:e}])=>e,toSource:e=>[{name:e}]},f=[{target:"type",convert:{toTarget:()=>"book"}},{source:"authors",target:"author",convert:{toTarget:e=>e.map(({name:e,url:t})=>(e=m.parse(e),e._url=t,e)),toSource:e=>e.map(e=>({name:m.format(e)}))}},{source:"identifiers",target:["ISBN","ISSN","DOI","PMID","PMCID"],convert:{toTarget:e=>e.isbn_13||e.isbn_10,toSource(...e){const t=[e[0]&&`isbn_${e[0].length}`,"issn","doi","pmid","pmcid"];return e.reduce((e,r,i)=>(r&&(e[t[i]]=r),e),{})}}},{source:"number_of_pages",target:"number-of-pages"},{source:"publishers",target:"publisher",convert:h},{source:"publish_date",target:"issued",convert:{toTarget:p.parse,toSource:p.format}},{source:"publish_places",target:"publisher-place",convert:h},{source:["subjects","subject_places","subject_people","subject_times"],target:"keyword",convert:{toTarget:(...e)=>[].concat(...e).filter(Boolean).map(({name:e})=>e).join(),toSource:e=>[e.split(",").map(e=>({name:e,url:"https://openlibrary.org/subjects/"+e.toLowerCase().replace(/\W+/g,"_")}))]}},"title",{source:"url",target:"URL"}],d=new c.util.Translator(f)},{"@citation-js/core":"citation-js","@citation-js/date":116,"@citation-js/name":119}],116:[function(e,t,r){arguments[4][53][0].apply(r,arguments)},{"./input":117,"./output":118,dup:53}],117:[function(e,t,r){arguments[4][54][0].apply(r,arguments)},{dup:54}],118:[function(e,t,r){arguments[4][55][0].apply(r,arguments)},{dup:55}],119:[function(e,t,r){arguments[4][42][0].apply(r,arguments)},{"./input":120,"./output":121,dup:42}],120:[function(e,t,r){arguments[4][43][0].apply(r,arguments)},{dup:43}],121:[function(e,t,r){arguments[4][44][0].apply(r,arguments)},{dup:44}],122:[function(e,t,r){"use strict";var i=e("@citation-js/core");e("@citation-js/plugin-doi");var s=e("./input");i.plugins.add(s.ref,{input:s.formats})},{"./input":123,"@citation-js/core":"citation-js","@citation-js/plugin-doi":99}],123:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.formats=r.ref=void 0;var i=e("@citation-js/core");const s="@orcid";r.ref=s;const n={"@orcid/id":{parseAsync(e){const t=`https://pub.orcid.org/v3.0/${e}/works`,r={accept:"application/json"};return i.util.fetchFileAsync(t,{headers:r})},parseType:{dataType:"String",predicate:/^\d{4}-\d{4}-\d{4}-\d{4}$/}},"@orcid/record":{parse(e){const t=e["external-ids"]["external-id"].find(e=>"doi"===e["external-id-type"]);return t?t["external-id-value"]:null},parseType:{dataType:"SimpleObject",propertyConstraint:{props:["last-modified-date","put-code"]}}},"@orcid/records":{parse:e=>e.group.map(e=>e["work-summary"][0]),parseType:{dataType:"SimpleObject",propertyConstraint:{props:["last-modified-date","group"]}}}};r.formats=n},{"@citation-js/core":"citation-js"}],124:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var s=e("@citation-js/core"),n=i(e("./input")),a=i(e("./output"));s.plugins.add("@refworks",{input:n.default,output:a.default})},{"./input":125,"./output":126,"@citation-js/core":"citation-js"}],125:[function(e,t,r){"use strict";function i(e){const t={};for(const r of e.split(/\n/g)){let[e,...i]=r.split(" ");i=i.join(" "),e=e.toUpperCase(),Array.isArray(t[e])?t[e].push(i):t[e]=e in t?[t[e],i]:i}return{scheme:"refworks",fields:t}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var s=e("./shared.js"),n={"@refworks/file":{parse:e=>e.trim().replace(/\r\n?/g,"\n").split(/\n\n/).map(i),parseType:{dataType:"String",tokenList:{token:/^([A-Z][0-9A-Z] |$)/,split:/\r\n?|\n/g,trim:!1}}},"@refworks/record":{parse:e=>s.translator.convertToTarget(e.fields),parseType:{dataType:"SimpleObject",propertyConstraint:{props:"scheme",value:e=>"refworks"===e}}}};r.default=n},{"./shared.js":127}],126:[function(e,t,r){"use strict";function i(e){const t=n.translator.convertToSource(e);for(const e in t)Array.isArray(t[e])&&1===t[e].length&&(t[e]=t[e][0]);return t.RT=t.RT||"Book, Whole",{scheme:"refworks",fields:t}}function s({fields:e},t){let r="RT "+e.RT+t;for(const i in e){if("RT"===i)continue;const s=[].concat(e[i]);for(const e of s)r+=i+" "+e+t}return r}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("./shared.js"),a={refworks(e,t={}){const{format:r="text",lineEnding:n="\n"}=t,a=e.map(i);return"object"===r?a:a.map(e=>s(e,n)).join(n)}};r.default=a},{"./shared.js":127}],127:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.translator=void 0;var i=e("@citation-js/core");const s={toTarget:{Artwork:"graphic",Bills:"bill",Resolutions:"bill","Book, Section":"chapter","Book, Edited":"book","Book, Whole":"book",Case:"legal_case","Court Decisions":"legal_case","Computer Program":"software","Conference Proceedings":"paper-conference",Dissertation:"thesis",Thesis:"thesis","Dissertation, Unpublished":"manuscript","Thesis, Unpublished":"manuscript",Hearing:"hearing","Journal Article":"article-journal","Journal, Electronic":"article-journal",Laws:"legislation",Statutes:"legislation","Magazine Article":"article-magazine",Map:"map",Monograph:"book","Motion Picture":"motion_picture","Music Score":"musical_score","Newspaper Article":"article-newspaper","Online Discussion Forum":"post",Patent:"patent",
"Personal Communication":"personal_communication",Report:"report","Sound Recording":"song","Unpublished Material":"manuscript",Video:"motion_picture",DVD:"motion_picture","Web Page":"webpage"},toSource:{"article-journal":"Journal Article","article-magazine":"Newspaper Article","article-newspaper":"Newspaper Article",bill:"Bills",book:"Book, Whole",chapter:"Book, Section",graphic:"Artwork",hearing:"Hearing",legal_case:"Case",legislation:"Laws",manuscript:"Unpublished Material",map:"Map",motion_picture:"Motion Picture",musical_score:"Music Score","paper-conference":"Conference Proceedings",patent:"Patent",personal_communication:"Personal Communication",post:"Online Discussion Forum","post-weblog":"Online Discussion Forum",report:"Report",software:"Computer Program",song:"Sound Recording",thesis:"Dissertation",webpage:"Web Page"}},n=["b","u","i","sup","sub"],a=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],o={ISBN_ISSN:{toTarget(e){let t,r;return 9===e.length?r=e:t=e.split(" ")[0],[t,r]},toSource:(e,t)=>t||e},KEYWORDS:{toTarget:e=>[].concat(e).join(),toSource:e=>e.split(",")},MEDIUM:{toTarget:e=>"Print(0)"===e?"print":"electronic",toSource:e=>"electronic"===e?"Electronic(1)":"print"===e?"Print(0)":void 0},NAME:{toTarget(e){const[t,r,i]=e.split(/, ?/);if(void 0===r&&t.includes(" "))return{literal:t};const s={family:t};return r&&(s.given=r),i&&(s.suffix=i),s},toSource(e){if(e.literal)return e.literal;const t=[e.family];return void 0!==e.given&&t.push(e.given),void 0!==e.suffix&&(1===t.length&&(t[0]+=","),t.push(e.suffix)),t.join(", ")}},NAMES:{toTarget:e=>[].concat(e).map(o.NAME.toTarget),toSource:e=>[].concat(e).map(o.NAME.toSource)},PAGES:{toTarget:(e,t)=>t?`${e}-${t}`:e,toSource:e=>e.split("-")},PARTIAL_DATE:{toTarget(e,t){if(void 0===e)return{raw:t};if(e=parseInt(e,10),void 0===t)return{"date-parts":[[e]]};const r=[e],i=t.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/i);if(!i)return{raw:t+" "+e};{r.push(a.indexOf(i[0].toLowerCase())+1);const e=t.match(/(^|\D)(3[01]|[12][0-9]|0?[1-9])($|\D)/);e&&r.push(parseInt(e[2],10))}return{"date-parts":[r]}},toSource(e){if(e["date-parts"]){const[t,r,i]=e["date-parts"][0];if(!r)return[t.toString(),void 0];const s=a[r-1];return[t.toString(),i?s+" "+i:s]}return[void 0,e.raw]}},RICH_TEXT:{toTarget:e=>e.replace(/([01])RW1S34RfeSDcfkexd09rT([0-4])/g,(e,t,r)=>("0"===t?"<":"</")+n[r]+">"),toSource:e=>e.replace(/<(\/?)([a-z]+).*?>/g,(e,t,r)=>-1===n.indexOf(r)?"":(t?"1":"0")+"RW1S34RfeSDcfkexd09rT"+n.indexOf(r))},TYPE:{toTarget:e=>s.toTarget[e]||"document",toSource:e=>s.toSource[e]}},l=[{source:"RT",target:"type",convert:o.TYPE},{source:"SR",target:"medium",convert:o.MEDIUM},{source:"ID",target:"id"},{source:"A1",target:"author",convert:o.NAMES},{source:"T1",target:"title",convert:o.RICH_TEXT},{source:"JF",target:"container-title",when:{target:{type:"article-journal"}}},{source:"JO",target:"container-title-short",when:{target:{type:"article-journal"}}},{source:["YR","FD"],target:"issued",convert:o.PARTIAL_DATE},{source:"VO",target:"volume"},{source:"IS",target:"issue"},{source:["SP","OP"],target:"page",convert:o.PAGES},{source:"K1",target:"keyword",convert:o.KEYWORDS},{source:"AB",target:"abstract",convert:o.RICH_TEXT},{source:"NO",target:"note",convert:o.RICH_TEXT},{source:"A2",target:"editor",convert:o.NAMES},{source:"T2",target:"container-title",when:{source:{JF:!1,WT:!1},target:{type:"chapter"}},convert:o.RICH_TEXT},{source:"ED",target:"edition"},{source:"PB",target:"publisher"},{source:"PP",target:"publisher-place"},{source:"A3",target:"collection-editor",convert:o.NAMES},{source:"A4",target:"translator",convert:o.NAMES},{source:"A5",target:"compiler",convert:o.NAMES},{source:"SN",target:["ISBN","ISSN"],convert:o.ISBN_ISSN},{source:"LA",target:"language"},{source:"OT",target:"original-title",convert:o.RICH_TEXT,when:{target:!1}},{source:"DO",target:"DOI"},{source:"CN",target:"call-number"},{source:"DS",target:"source",when:{target:!1}},{source:"IP",target:"citation-key",when:{target:!1}},{source:"RD",target:"accessed",convert:o.DATE},{source:"ST",target:"title-short",convert:o.RICH_TEXT},{source:"UR",target:"URL"},{source:"WT",target:"container-title",convert:o.RICH_TEXT,when:{source:{JO:!1},target:{type:["post","webpage"]}}},{source:"WT",target:"editor",convert:o.NAMES,when:{source:{A2:!1},target:{type:["post","webpage"]}}},{source:"WV",target:"version"},{source:"WP",target:"available-date",convert:o.DATE},"PMID","PMCID",{source:"PA",target:"annote",convert:o.RICH_TEXT}],u=new i.util.Translator(l);r.translator=u},{"@citation-js/core":"citation-js"}],128:[function(e,t,r){t.exports={outputSpec:"mixed"}},{}],129:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var s=e("@citation-js/date"),n=i(e("./spec/types.json"));const a=/^\d{4}-\d{3}[0-9Xx]$/,o=/10(?:\.[0-9]{4,})?\/[^\s]*[^\s.,]/,l={ANY:{toTarget:(...e)=>e.find(Boolean),toSource:e=>[e]},PAGE:{keepAll:!0,toTarget:(e,t)=>[e,t].filter(Boolean).join("-"),toSource:e=>e.replace(/[-]/g,"-")},ISBN:{toTarget:e=>a.test(e)?[e]:[void 0,e],toSource:(...e)=>e.find(Boolean)},DATE:{toTarget:e=>e&&(0,s.parse)(e.split("/").slice(0,3).filter(Boolean).join("/")),toSource(e){const t=Array(4).fill("");return e["date-parts"][0].forEach((e,r)=>{t[r]=e}),e.season&&(t[3]=e.season),t.join("/")}},YEAR:{toTarget:e=>isNaN(+e)?{raw:e}:{"date-parts":[[+e]]},toSource(e){var t;return null===(t=e["date-parts"])||void 0===t||null===(t=t[0])||void 0===t||null===(t=t[0])||void 0===t?void 0:t.toString()}},DATE_YEAR:{keepAll:!0,toTarget:(...e)=>l.DATE.toTarget(l.ANY.toTarget(...e)),toSource:e=>[l.DATE.toSource(e),l.YEAR.toSource(e)]},NAME:{toTarget:e=>e&&[].concat(e).map(e=>{const t=e.split(/, ?/),[r,i,s]=t;switch(t.length){case 3:return{family:r,given:i,suffix:s};case 2:return{family:r,given:i};case 1:if(-1===r.indexOf(" "))return{family:r};default:return{literal:e}}}),toSource:e=>e.map(({family:e,given:t,suffix:r,literal:i})=>{const s=[e,t,r].filter(Boolean);return s.length?s.join(", "):i})},KEYWORD:{toTarget:e=>(e=[].concat(e),e.join(",")),toSource:e=>e.split(",")},ID:{toSource:e=>e.slice(0,20)},TYPE:{toTarget:e=>n.default.RIS[e],toSource:e=>n.default.CSL[e]},DOI:{toTarget:e=>e.match(o)[0],toSource:e=>e.match(o)[0]}};r.default=l},{"./spec/types.json":138,"@citation-js/date":139}],130:[function(e,t,r){t.exports={author:"NAME",chair:"NAME","collection-editor":"NAME",compiler:"NAME",composer:"NAME","container-author":"NAME",contributor:"NAME",curator:"NAME",director:"NAME",editor:"NAME","editorial-director":"NAME","editor-translator":"NAME","executive-producer":"NAME",guest:"NAME",host:"NAME",illustrator:"NAME",interviewer:"NAME",narrator:"NAME",organizer:"NAME","original-author":"NAME",performer:"NAME",producer:"NAME",recipient:"NAME","reviewed-author":"NAME","script-writer":"NAME","series-creator":"NAME",translator:"NAME",accessed:"DATE","available-date":"DATE","event-date":"DATE",issued:"DATE_YEAR","original-date":"DATE",submitted:"DATE",id:"ID","ISSN,ISBN":"ISBN",keyword:"KEYWORD",page:"PAGE",type:"TYPE",DOI:"DOI"}},{}],131:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var s=e("@citation-js/core"),n=i(e("./config.json")),a=e("./ris.js");const o=["A1","AV","BT","CP","ED","EP","ID","J1","JA","JF","JO","L2","L3","N2","T1","U1","U2","U3","U4","U5","U6","Y1"],l=["A4","AD","AN","C1","C2","C3","C4","C5","C6","C7","C8","CA","CN","DA","DB","DO","DP","ET","LA","LB","NV","OP","PY","RI","RN","SE","ST","SV","TA","TT"];s.plugins.add("@ris",{input:{"@ris/file":{parse:a.parse,parseType:{dataType:"String",predicate:/^TY {2}- /m}},"@ris/record":{parse:a.parseMixed,parseType:{dataType:"SimpleObject",propertyConstraint:{props:["TY"]}}},"@ris/new+record":{parse:a.parseNew,parseType:{extends:"@ris/record",propertyConstraint:[{props:l,match:"some"},{props:o,match:"none"}]}},"@ris/old+record":{parse:a.parseOld,parseType:{extends:"@ris/record",propertyConstraint:[{props:o,match:"some"},{props:l,match:"none"}]}}},config:n.default,output:{ris:a.format}})},{"./config.json":128,"./ris.js":132,"@citation-js/core":"citation-js"}],132:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function s(e){if(!b.has(e)){for(const t of e)if("issued"!==t.target||Array.isArray(t.source)){if(t.target in f.default&&(t.convert=h.default[f.default[t.target]]),(!t.convert||!0!==t.convert.keepAll)&&Array.isArray(t.source))if(t.convert){const{toSource:e,toTarget:r}=t.convert;t.convert={toTarget:(...e)=>r(h.default.ANY.toTarget(...e)),toSource:(...t)=>h.default.ANY.toSource(e(...t))}}else t.convert=h.default.ANY}else t.convert=h.default.YEAR;b.set(e,new c.util.Translator(e))}return b.get(e)}function n(e){const t=[];let r,i;for(let s of e.split(/\r?\n/)){if(s=s.trim(),!d.test(s)){r&&i&&(r[i]+=" "+s);continue}const[e,n]=s.split(g);switch(e){case"ER":r=void 0,i=void 0;break;case"TY":r={},t.push(r);default:Array.isArray(r[e])?r[e].push(n):r[e]=r[e]?[r[e],n]:n,i=e}}return t}function a(e){return s(p.SPECS.old).convertToTarget(e)}function o(e){return s(p.SPECS.new).convertToTarget(e)}function l(e){return s(p.SPECS.mixed).convertToTarget(e)}function u(e,{type:t,format:r=t||"text",spec:i}={}){const n=i||m.default.outputSpec,a=e.map(s(p.SPECS[n]).convertToSource);return"object"===r?a:a.map(e=>{const t=[];for(const r in e)"TY"!==r&&t.push(...[].concat(e[r]).map(e=>`${r}  - ${e.toString().replace(/(.{70})/g,"$1\n")}`));return t.unshift(`TY  - ${e.TY}`),t.push("ER  - "),t.join("\n")}).join("\n")}Object.defineProperty(r,"__esModule",{value:!0}),r.format=u,r.parse=n,r.parseMixed=l,r.parseNew=o,r.parseOld=a;var c=e("@citation-js/core"),m=i(e("./config.json")),p=e("./spec/index.js"),h=i(e("./converters.js")),f=i(e("./dataTypes.json"));const d=/^[A-Z][A-Z0-9] {2}-( |$)/,g=/ {2}-(?: |$)/,b=new Map},{"./config.json":128,"./converters.js":129,"./dataTypes.json":130,"./spec/index.js":134,"@citation-js/core":"citation-js"}],133:[function(e,t,r){t.exports=[{source:["T1","BT"],target:"title",when:{source:{TY:["ABST","ADVS","AGGR","ANCIENT","ART","BILL","BLOG","BOOK","CASE","CHAP","CHART","CLSWK","COMP","CONF","CPAPER","CTLG","DATA","DBASE","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ELEC","ENCYC","EQUA","FIGURE","GEN","GOVDOC","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MPCT","MULTI","MUSIC","NEWS","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","STAT","THES","UNBILL","UNPB","VIDEO"],TI:!1},target:!1}},{source:"A1",target:"author",when:{source:{TY:["ABST","ADVS","AGGR","ANCIENT","ART","BLOG","BOOK","CHAP","CHART","CLSWK","COMP","CONF","CPAPER","CTLG","DATA","DBASE","DICT","EBOOK","ECHAP","EJOUR","ELEC","ENCYC","EQUA","FIGURE","GEN","GOVDOC","GRANT","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MULTI","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","THES","UNPB","VIDEO"],AU:!1},target:!1}},{source:"Y1",target:"issued",when:{source:{TY:["CONF"],C2:!1,DA:!1},target:!1}},{source:"Y1",target:"issued",when:{source:{TY:["PAT"],C2:!1,DA:!1,PY:!1},target:!1}},{source:"Y1",target:"issued",when:{source:{TY:["EBOOK"],C5:!1,PY:!1},target:!1}},{source:"Y1",target:"issued",when:{source:{TY:["ABST","ADVS","ANCIENT","ART","BILL","BLOG","BOOK","CASE","CHART","CPAPER","CTLG","DATA","EDBOOK","ELEC","ENCYC","EQUA","FIGURE","GEN","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MPCT","MUSIC","PAMP","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","THES","UNBILL","UNPB","VIDEO"],DA:!1,PY:!1},target:!1}},{source:"Y1",target:"issued",when:{source:{TY:["STAT"],DA:!1,PY:!1,Y2:!1},target:!1}},{source:"Y1",target:"issued",when:{source:{TY:["AGGR","DBASE"],ET:!1,PY:!1},target:!1}},{source:"Y1",target:"issued",when:{source:{TY:["CHAP","CLSWK","COMP","DICT","ECHAP","GOVDOC","MULTI","NEWS"],PY:!1},target:!1}},{source:"Y1",target:"issued",when:{source:{TY:["EJOUR"],PY:!1,SE:!1},target:!1}},{source:["JO","JF","J1"],target:"container-title",when:{source:{TY:["CONF"],C3:!1},target:!1}},{source:["JO","JF","J1"],target:"container-title",when:{source:{TY:["ABST","ANCIENT","BILL","BLOG","CHAP","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ENCYC","GEN","INPR","JFULL","JOUR","MGZN","MUSIC","NEWS","PAMP","PAT","SER","STAT","THES","UNBILL"],T2:!1},target:!1}},{source:"JA",target:"container-title-short",when:{source:{TY:["ABST","ANCIENT","BOOK","CHAP","CTLG","DATA","DICT","ENCYC","GRANT","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MGZN","PAMP","PCOMM","SER","STAND","STAT","UNPB"],J2:!1},target:!1}},{source:"N2",target:"abstract",when:{source:{TY:["ABST","ADVS","AGGR","ANCIENT","ART","BILL","BLOG","BOOK","CASE","CHAP","CHART","CLSWK","COMP","CONF","CPAPER","CTLG","DATA","DBASE","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ELEC","ENCYC","EQUA","FIGURE","GEN","GOVDOC","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MPCT","MULTI","MUSIC","NEWS","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","STAT","THES","UNBILL","UNPB","VIDEO"],AB:!1},target:!1}},{source:["SP","EP"],target:"page",when:{source:{TY:["BOOK"],SE:!1},target:!1}},{source:["SP","EP"],target:"page",when:{source:{TY:["ABST","AGGR","ANCIENT","BILL","CHAP","CONF","CPAPER","CTLG","DBASE","DICT","ECHAP","EJOUR","ENCYC","GEN","GOVDOC","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MGZN","MUSIC","NEWS","PAMP","PAT","PCOMM","RPRT","SER","STAND","STAT","UNBILL","UNPB"],EP:!0},target:!1}},{source:"AV",target:"archive_location",when:{target:!1}},{source:"LK",target:"URL",when:{source:{TY:["HEAR"],L4:!1,UR:!1},target:!1}},{source:"LK",target:"URL",when:{source:{TY:["ABST","ADVS","AGGR","ANCIENT","ART","BILL","BLOG","BOOK","CASE","CHAP","CHART","CLSWK","COMP","CONF","CPAPER","CTLG","DATA","DBASE","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ELEC","ENCYC","EQUA","FIGURE","GEN","GOVDOC","GRANT","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MPCT","MULTI","MUSIC","NEWS","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","STAT","THES","UNBILL","UNPB","VIDEO"],UR:!1},target:!1}},{source:"IS",target:"issue",when:{source:{TY:"MGZN",M1:!1},target:!1}}]},{}],134:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0}),r.SPECS=void 0,Object.defineProperty(r,"TYPES",{enumerable:!0,get:function(){return s.default}});var s=i(e("./types.json")),n=i(e("./new.json")),a=i(e("./old.js")),o=i(e("./mixed.js"));r.SPECS={new:n.default,old:a.default,mixed:o.default}},{"./mixed.js":135,"./new.json":136,"./old.js":137,"./types.json":138}],135:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var s=i(e("./new.json")),n=i(e("./additions.json"));r.default=s.default.concat(n.default)},{"./additions.json":133,"./new.json":136}],136:[function(e,t,r){t.exports=[{source:"A2",target:"editor",when:{source:{TY:["ANCIENT","BLOG","CHAP","CONF","CPAPER","DICT","EBOOK","ECHAP","ENCYC","MUSIC","SER"]},target:{type:["chapter","entry-dictionary","entry-encyclopedia","musical_score","paper-conference","periodical","post-weblog"]}}},{source:"A2",target:"performer",when:{source:{TY:["ADVS","SLIDE","SOUND","VIDEO"]},target:{type:["song","speech"]}}},{source:"A2",target:"collection-editor",when:{source:{TY:["BOOK","CLSWK","COMP","EDBOOK","ELEC","MAP","MULTI","RPRT","UNPB"]},target:{type:["book","classic","map","report","review-book","software","webpage"]}}},{source:"A2",target:"reporter",when:{source:{TY:["CASE"]},target:{type:["legal_case"]}}},{source:"A2",target:"producer",when:{source:{TY:["DATA"]},target:{type:["dataset"]}}},{source:"A2",target:"recipient",when:{source:{TY:["ICOMM","PCOMM"]},target:{type:["personal_communication","post"]}}},{source:"A3",target:"collection-editor",when:{source:{TY:["ADVS","CHAP","CONF","EBOOK","MUSIC","SER","SLIDE","SOUND","VIDEO"]},target:{type:["chapter","musical_score","paper-conference","periodical","song","speech"]}}},{source:"A3",target:"illustrator",when:{source:{TY:["BLOG"]},target:{type:["post-weblog"]}}},{source:"A3",target:"editor",when:{source:{TY:["BOOK"]},target:{type:["book","review-book"]}}},{source:"A3",target:"producer",when:{source:{TY:["MPCT"]},target:{type:["broadcast","motion_picture"]}}},{source:"A4",target:"translator",when:{source:{TY:["ANCIENT","BOOK","CHAP","CLSWK","CTLG","DICT","EDBOOK","ENCYC","GRANT","PAMP"]},target:{type:["book","chapter","classic","entry","entry-dictionary","entry-encyclopedia","pamphlet","review-book"]}}},{source:"A4",target:"performer",when:{source:{TY:["MPCT"]},target:{type:["broadcast","motion_picture"]}}},{source:"A4",target:"producer",when:{source:{TY:["MUSIC"]},target:{type:["musical_score"]}}},{source:"AB",target:"abstract",when:{source:{TY:["ABST","ADVS","AGGR","ANCIENT","ART","BILL","BLOG","BOOK","CASE","CHAP","CHART","CLSWK","COMP","CONF","CPAPER","CTLG","DATA","DBASE","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ELEC","ENCYC","EQUA","FIGURE","GEN","GOVDOC","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MPCT","MULTI","MUSIC","NEWS","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","STAT","THES","UNBILL","UNPB","VIDEO"]},target:{type:["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","classic","collection","dataset","document","entry","entry-dictionary","entry-encyclopedia","event","figure","graphic","hearing","interview","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","patent","performance","periodical","personal_communication","post","post-weblog","regulation","report","review","review-book","software","song","speech","standard","thesis","treaty","webpage"]}}},{source:"AU",target:"author",when:{source:{TY:["ABST","ADVS","AGGR","ANCIENT","ART","BLOG","BOOK","CHAP","CHART","CLSWK","COMP","CONF","CPAPER","CTLG","DATA","DBASE","DICT","EBOOK","ECHAP","EJOUR","ELEC","ENCYC","EQUA","FIGURE","GEN","GOVDOC","GRANT","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MULTI","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","THES","UNPB","VIDEO"]},target:{type:["article","article-journal","article-magazine","book","chapter","classic","collection","dataset","document","entry","entry-dictionary","entry-encyclopedia","event","figure","graphic","interview","legislation","manuscript","map","pamphlet","paper-conference","patent","performance","periodical","personal_communication","post","post-weblog","regulation","report","review","review-book","software","song","speech","standard","thesis","treaty","webpage"]}}},{source:"AU",target:"editor",when:{source:{TY:["EDBOOK"]},target:!1}},{source:"AU",target:"director",when:{source:{TY:["MPCT"]},target:{type:["broadcast","motion_picture"]}}},{source:"AU",target:"composer",when:{source:{TY:["MUSIC"]},target:{type:["musical_score"]}}},{source:"AU",target:"reporter",when:{source:{TY:["NEWS"]},target:{type:["article-newspaper"]}}},{source:"C1",target:"section",when:{source:{TY:["CHAP","ECHAP","SER"]},target:{type:["chapter","periodical"]}}},{source:"C1",target:"publisher-place",when:{source:{TY:["CONF","CPAPER"]},target:{type:["paper-conference"]}}},{source:"C1",target:"scale",when:{source:{TY:["MAP"]},target:{type:["map"]}}},{source:"C2",target:"PMCID",when:{source:{TY:["ABST","INPR","JFULL","JOUR"]},target:{type:["article","article-journal","review"]}}},{source:"C2",target:"issue",when:{source:{TY:["NEWS"]},target:{type:["article-newspaper"]}}},{source:"C2",target:"number",when:{source:{TY:["SER"]},target:{type:["periodical"]}}},{source:"C3",target:"dimensions",when:{source:{TY:["ADVS","MAP","SLIDE","SOUND","VIDEO"]},target:{type:["map","song","speech"]}}},{source:"C3",target:"container-title",when:{source:{TY:["CONF"]},target:{type:["paper-conference"]}}},{source:"C3",target:"PMCID",when:{source:{TY:["EJOUR"]},target:!1}},{source:"C3",target:"jurisdiction",when:{source:{TY:["PAT"]},target:{type:["patent"]}}},{source:["C3","M1"],target:"dimensions",when:{source:{TY:["ART"]},target:{type:["graphic"]}}},{source:"C5",target:"volume-title",when:{source:{TY:["EJOUR"]},target:!1}},{source:"C5",target:"number",when:{source:{TY:["GRANT"]},target:!1}},{source:"C5",target:"dimensions",when:{source:{TY:["MULTI"]},target:!1}},{source:"C5",target:"references",when:{source:{TY:["PAT"]},target:{type:["patent"]}}},{source:["C5","PY"],target:"issued",when:{source:{TY:["EBOOK"]},target:!1}},{source:"C6",target:"status",when:{source:{TY:["PAT"]},target:{type:["patent"]}}},{source:"C6",target:"issue",when:{source:{TY:["RPRT"]},target:{type:["report"]}}},{source:"C6",target:"volume",when:{source:{TY:["STAT"]},target:!1}},{source:"C7",target:"number",when:{source:{TY:["ABST","INPR","JFULL","JOUR"]},target:{type:["article","article-journal","review"]}}},{source:"C7",target:"PMCID",when:{source:{TY:["EBOOK","ECHAP"]},target:!1}},{source:["C7","NV"],target:"number",when:{source:{TY:["EJOUR"]},target:!1}},{source:"CN",target:"call-number",when:{source:{TY:["ABST","ADVS","ANCIENT","ART","BILL","BLOG","BOOK","CASE","CHAP","CHART","CLSWK","COMP","CONF","CTLG","DATA","DICT","EBOOK","ECHAP","EDBOOK","ELEC","ENCYC","EQUA","FIGURE","GEN","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MPCT","MUSIC","NEWS","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","STAT","THES","UNBILL","VIDEO"]},target:{type:["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","classic","collection","dataset","document","entry","entry-dictionary","entry-encyclopedia","event","figure","graphic","hearing","interview","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","patent","performance","periodical","personal_communication","post","post-weblog","regulation","report","review","review-book","software","song","speech","standard","thesis","treaty","webpage"]}}},{source:"CY",target:"publisher-place",when:{source:{TY:["ADVS","AGGR","ANCIENT","ART","BLOG","BOOK","CHAP","CHART","CLSWK","COMP","CTLG","DATA","DBASE","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ELEC","ENCYC","EQUA","FIGURE","GEN","GOVDOC","HEAR","ICOMM","LEGAL","MANSCPT","MAP","MGZN","MUSIC","NEWS","PAMP","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","THES","UNPB","VIDEO"]},target:{type:["article-magazine","article-newspaper","book","chapter","classic","collection","dataset","document","entry","entry-dictionary","entry-encyclopedia","event","figure","graphic","hearing","interview","legislation","manuscript","map","musical_score","pamphlet","performance","periodical","personal_communication","post","post-weblog","regulation","report","review-book","software","song","speech","standard","thesis","treaty","webpage"]}}},{source:"CY",target:"event-place",when:{source:{TY:["CONF","CPAPER"]},target:{type:["paper-conference"]}}},{source:"DA",target:"accessed",when:{source:{TY:["AGGR","DBASE","EBOOK","EJOUR","MULTI"]},target:!1}},{source:["DA","C2"],target:"issued",when:{source:{TY:["CONF"]},target:{type:["paper-conference"]}}},{source:["DA","PY","C2"],target:"issued",when:{source:{TY:["PAT"]},target:{type:["patent"]}}},{source:["DA","PY"],target:"issued",when:{source:{TY:["ABST","ADVS","ANCIENT","ART","BILL","BLOG","BOOK","CASE","CHART","CPAPER","CTLG","DATA","EDBOOK","ELEC","ENCYC","EQUA","FIGURE","GEN","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MPCT","MUSIC","PAMP","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","THES","UNBILL","UNPB","VIDEO"]},target:{type:["article","article-journal","article-magazine","bill","book","broadcast","collection","dataset","document","entry","entry-encyclopedia","event","figure","graphic","hearing","interview","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","performance","periodical","personal_communication","post","post-weblog","regulation","report","review","review-book","song","speech","standard","thesis","treaty","webpage"]}}},{source:["DA","PY","Y2"],target:"issued",when:{source:{TY:["STAT"]},target:!1}},{source:["DA","Y2"],target:"accessed",when:{source:{TY:["ECHAP"]},target:!1}},{source:"DB",target:"source",when:{source:{TY:["ABST","ADVS","AGGR","ANCIENT","ART","BILL","BLOG","BOOK","CASE","CHAP","CHART","CLSWK","COMP","CONF","CPAPER","CTLG","DATA","DBASE","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ELEC","ENCYC","EQUA","FIGURE","GEN","GOVDOC","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MPCT","MULTI","MUSIC","NEWS","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","STAT","THES","UNBILL","UNPB","VIDEO"]},target:{type:["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","classic","collection","dataset","document","entry","entry-dictionary","entry-encyclopedia","event","figure","graphic","hearing","interview","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","patent","performance","periodical","personal_communication","post","post-weblog","regulation","report","review","review-book","software","song","speech","standard","thesis","treaty","webpage"]}}},{source:"DO",target:"DOI",when:{source:{TY:["ABST","ADVS","AGGR","ANCIENT","ART","BILL","BLOG","BOOK","CASE","CHAP","CHART","CLSWK","COMP","CONF","CPAPER","CTLG","DATA","DBASE","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ELEC","ENCYC","EQUA","FIGURE","GEN","GOVDOC","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MPCT","MULTI","MUSIC","NEWS","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","STAT","THES","UNBILL","UNPB","VIDEO"]},target:{type:["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","classic","collection","dataset","document","entry","entry-dictionary","entry-encyclopedia","event","figure","graphic","hearing","interview","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","patent","performance","periodical","personal_communication","post","post-weblog","regulation","report","review","review-book","software","song","speech","standard","thesis","treaty","webpage"]}}},{source:"ET",target:"edition",when:{source:{TY:["ADVS","ANCIENT","ART","BLOG","BOOK","CHAP","CLSWK","CONF","CTLG","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ELEC","ENCYC","GEN","GOVDOC","LEGAL","MAP","MGZN","MPCT","MUSIC","NEWS","PAMP","RPRT","SER","SLIDE","SOUND","VIDEO"]},target:{type:["article-magazine","article-newspaper","book","broadcast","chapter","classic","collection","document","entry","entry-dictionary","entry-encyclopedia","event","graphic","interview","legislation","map","motion_picture","musical_score","pamphlet","paper-conference","performance","periodical","post-weblog","regulation","report","review-book","song","speech","treaty","webpage"]}}},{source:"ET",target:"version",when:{source:{TY:["CHART","COMP","DATA","EQUA","FIGURE"]},target:{type:["dataset","figure","software"]}}},{source:"ET",target:"available-date",when:{source:{TY:["ABST","INPR","JFULL","JOUR"]},target:{type:["article","article-journal","review"]}}},{source:"ET",target:"medium",when:{source:{TY:["MANSCPT"]},target:{type:["manuscript"]}}},{source:["ET","PY"],target:"issued",when:{source:{TY:["AGGR","DBASE"]},target:!1}},{source:"ID",target:"id"},{source:"IS",target:"number-of-volumes",when:{source:{TY:["CHAP"]},target:{type:["chapter"]}}},{source:"IS",target:"issue",when:{source:{TY:["ABST","INPR","JFULL","JOUR"]},target:{type:["article","article-journal","review"]}}},{source:"J2",target:"container-title-short",when:{source:{TY:["ABST","ANCIENT","BOOK","CHAP","CTLG","DATA","DICT","ENCYC","GRANT","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MGZN","PAMP","PCOMM","SER","STAND","STAT","UNPB"]},target:{type:["article","article-journal","article-magazine","book","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","legislation","manuscript","pamphlet","periodical","personal_communication","post","regulation","review","review-book","standard"]}}},{source:"KW",target:"keyword",when:{source:{TY:["ABST","ADVS","AGGR","ANCIENT","ART","BILL","BLOG","BOOK","CASE","CHAP","CHART","CLSWK","COMP","CONF","CPAPER","CTLG","DATA","DBASE","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ELEC","ENCYC","EQUA","FIGURE","GEN","GOVDOC","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MPCT","MULTI","MUSIC","NEWS","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","STAT","THES","UNBILL","UNPB","VIDEO"]},target:{type:["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","classic","collection","dataset","document","entry","entry-dictionary","entry-encyclopedia","event","figure","graphic","hearing","interview","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","patent","performance","periodical","personal_communication","post","post-weblog","regulation","report","review","review-book","software","song","speech","standard","thesis","treaty","webpage"]}}},{source:"LA",target:"language",when:{source:{TY:["ABST","ADVS","AGGR","ANCIENT","ART","BILL","BLOG","BOOK","CASE","CHAP","CHART","CLSWK","COMP","CONF","CPAPER","CTLG","DATA","DBASE","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ELEC","ENCYC","EQUA","FIGURE","GEN","GOVDOC","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MPCT","MULTI","MUSIC","NEWS","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","STAT","THES","UNBILL","UNPB","VIDEO"]},target:{type:["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","classic","collection","dataset","document","entry","entry-dictionary","entry-encyclopedia","event","figure","graphic","hearing","interview","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","patent","performance","periodical","personal_communication","post","post-weblog","regulation","report","review","review-book","software","song","speech","standard","thesis","treaty","webpage"]}}},{source:"LB",target:"citation-label",when:{source:{TY:["ABST","ADVS","AGGR","ANCIENT","ART","BILL","BLOG","BOOK","CASE","CHAP","CHART","CLSWK","COMP","CONF","CPAPER","CTLG","DATA","DBASE","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ELEC","ENCYC","EQUA","FIGURE","GEN","GOVDOC","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MPCT","MULTI","MUSIC","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","STAT","THES","UNBILL","UNPB","VIDEO"]},target:{type:["article","article-journal","article-magazine","bill","book","broadcast","chapter","classic","collection","dataset","document","entry","entry-dictionary","entry-encyclopedia","event","figure","graphic","hearing","interview","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","patent","performance","periodical","personal_communication","post","post-weblog","regulation","report","review","review-book","software","song","speech","standard","thesis","treaty","webpage"]}}},{source:"M1",target:"number",when:{source:{TY:["ADVS","AGGR","ANCIENT","BILL","CHART","DICT","EQUA","FIGURE","GEN","HEAR","SLIDE","SOUND","THES","UNBILL","UNPB","VIDEO"]},target:{type:["bill","collection","document","entry-dictionary","event","figure","hearing","interview","performance","song","speech","thesis","treaty"]}}},{source:"M1",target:"collection-number",when:{source:{TY:["BOOK","CLSWK","CTLG","EDBOOK","PAMP","SER"]},target:{type:["book","classic","entry","pamphlet","periodical","review-book"]}}},{source:"M1",target:"issue",when:{source:{TY:["CONF","EJOUR","GOVDOC","MGZN"]},target:{type:["article-magazine","paper-conference"]}}},{source:"M1",target:"chapter-number",when:{source:{TY:["ECHAP"]},target:!1}},{source:"M1",target:"status",when:{
source:{TY:["GRANT"]},target:!1}},{source:"M1",target:"page-first",when:{source:{TY:["LEGAL","NEWS","STAND"]},target:{type:["article-newspaper","legislation","regulation","standard"]}}},{source:["M1","NV"],target:"number",when:{source:{TY:"STAT"},target:!1}},{source:["NV","M1"],target:"number",when:{source:{TY:["ICOMM","MANSCPT","PCOMM"]},target:{type:["manuscript","personal_communication","post"]}}},{source:["M1","VL"],target:"accessed",when:{source:{TY:["ELEC"]},target:{type:["webpage"]}}},{source:"M2",target:"page-first",when:{source:{TY:["ABST","INPR","JFULL","JOUR"]},target:{type:["article","article-journal","review"]}}},{source:"M2",target:"number-of-pages",when:{source:{TY:["PAMP"]},target:{type:["pamphlet"]}}},{source:"M3",target:"genre",when:{source:{TY:["ABST","ADVS","AGGR","ANCIENT","ART","BOOK","CHART","CLSWK","COMP","CPAPER","CTLG","DBASE","DICT","ECHAP","EDBOOK","EJOUR","EQUA","FIGURE","GEN","GRANT","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MULTI","NEWS","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","THES","UNPB","VIDEO"]},target:{type:["article","article-journal","article-magazine","article-newspaper","book","classic","collection","document","entry","entry-dictionary","event","figure","graphic","interview","legislation","manuscript","map","pamphlet","patent","performance","periodical","personal_communication","post","regulation","report","review","review-book","software","song","speech","standard","thesis","treaty"]}}},{source:"M3",target:"medium",when:{source:{TY:["BLOG","EBOOK","ELEC","MPCT","MUSIC"]},target:{type:["broadcast","motion_picture","musical_score","post-weblog","webpage"]}}},{source:["N1","RN"],target:"note",when:{source:{TY:["ABST","ADVS","AGGR","ANCIENT","ART","BILL","BLOG","BOOK","CASE","CHAP","CHART","CLSWK","COMP","CONF","CPAPER","CTLG","DATA","DBASE","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ELEC","ENCYC","EQUA","FIGURE","GEN","GOVDOC","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MPCT","MULTI","MUSIC","NEWS","PAMP","PCOMM","SER","SLIDE","SOUND","STAND","STAT","THES","UNBILL","UNPB","VIDEO"]},target:{type:["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","classic","collection","dataset","document","entry","entry-dictionary","entry-encyclopedia","event","figure","graphic","hearing","interview","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","performance","periodical","personal_communication","post","post-weblog","regulation","review","review-book","software","song","speech","standard","thesis","treaty","webpage"]}}},{source:["N1","RN","RP"],target:"note",when:{source:{TY:["PAT","RPRT"]},target:{type:["patent","report"]}}},{source:"NV",target:"number-of-volumes",when:{source:{TY:["ANCIENT","BOOK","CLSWK","CONF","DICT","ECHAP","EDBOOK","ENCYC","GEN","HEAR","MUSIC","SER"]},target:{type:["book","classic","collection","document","entry-dictionary","entry-encyclopedia","event","hearing","interview","musical_score","paper-conference","performance","periodical","review-book","treaty"]}}},{source:"NV",target:"number",when:{source:{TY:["CTLG","DATA"]},target:{type:["dataset","entry"]}}},{source:"NV",target:"version",when:{source:{TY:["EBOOK"]},target:!1}},{source:"NV",target:"dimensions",when:{source:{TY:["GRANT"]},target:!1}},{source:"NV",target:"collection-number",when:{source:{TY:["RPRT"]},target:{type:["report"]}}},{source:"OP",target:"original-title",when:{source:{TY:["ABST","AGGR","ANCIENT","BOOK","CHAP","CLSWK","CTLG","DICT","EBOOK","ECHAP","EDBOOK","ENCYC","GEN","INPR","JFULL","JOUR","MGZN","MUSIC","PAMP","SER"]},target:{type:["article","article-journal","article-magazine","book","chapter","classic","collection","document","entry","entry-dictionary","entry-encyclopedia","event","interview","musical_score","pamphlet","performance","periodical","review","review-book","treaty"]}}},{source:"OP",target:"references",when:{source:{TY:["BILL","CASE","HEAR","LEGAL","STAT","UNBILL"]},target:{type:["bill","hearing","legal_case","legislation","regulation"]}}},{source:"PB",target:"publisher",when:{source:{TY:["ADVS","AGGR","ANCIENT","ART","BLOG","BOOK","CHAP","CHART","CLSWK","COMP","CONF","CPAPER","CTLG","DATA","DBASE","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ELEC","ENCYC","EQUA","FIGURE","GEN","GOVDOC","GRANT","HEAR","ICOMM","LEGAL","MAP","MGZN","MPCT","MULTI","MUSIC","NEWS","PAMP","PCOMM","SER","SLIDE","SOUND","STAND","THES","UNPB","VIDEO"]},target:{type:["article-magazine","article-newspaper","book","broadcast","chapter","classic","collection","dataset","document","entry","entry-dictionary","entry-encyclopedia","event","figure","graphic","hearing","interview","legislation","map","motion_picture","musical_score","pamphlet","paper-conference","performance","periodical","personal_communication","post","post-weblog","regulation","review-book","software","song","speech","standard","thesis","treaty","webpage"]}}},{source:"PB",target:"authority",when:{source:{TY:["CASE"]},target:{type:["legal_case"]}}},{source:"PB",target:"archive",when:{source:{TY:["MANSCPT"]},target:{type:["manuscript"]}}},{source:["PB","A3"],target:"publisher",when:{source:{TY:["RPRT"]},target:{type:["report"]}}},{source:["PB","C5"],target:"publisher",when:{source:{TY:["STAT"]},target:!1}},{source:"PY",target:"issued",when:{source:{TY:["CHAP","CLSWK","COMP","DICT","ECHAP","GOVDOC","MULTI","NEWS"]},target:{type:["article-newspaper","chapter","classic","entry-dictionary","software"]}}},{source:"PY",target:"event-date",when:{source:{TY:["CONF"]},target:{type:["paper-conference"]}}},{source:"RI",target:"reviewed-title",when:{source:{TY:["ABST","ANCIENT","CHAP","DICT","EBOOK","ECHAP","EJOUR","ENCYC","GEN","GRANT","INPR","JFULL","JOUR","MGZN","NEWS","SER"]},target:{type:["article","article-journal","article-magazine","article-newspaper","chapter","collection","document","entry-dictionary","entry-encyclopedia","event","interview","performance","periodical","review","treaty"]}}},{source:"RI",target:"locator",when:{source:{TY:["STAT"]},target:!1}},{source:"SE",target:"section",when:{source:{TY:["BILL","GEN","GOVDOC","MUSIC","NEWS","STAT","UNBILL"]},target:{type:["article-newspaper","bill","collection","document","event","interview","musical_score","performance","treaty"]}}},{source:"SE",target:"number",when:{source:{TY:["BLOG"]},target:{type:["post-weblog"]}}},{source:"SE",target:"chapter-number",when:{source:{TY:["CHAP","SER"]},target:{type:["chapter","periodical"]}}},{source:"SE",target:"page",when:{source:{TY:["BOOK"]},target:{type:["book","review-book"]}}},{source:"SE",target:"submitted",when:{source:{TY:["CASE"]},target:{type:["legal_case"]}}},{source:"SE",target:"number-of-pages",when:{source:{TY:["CTLG"]},target:{type:["entry"]}}},{source:"SE",target:"original-date",when:{source:{TY:["DATA"]},target:{type:["dataset"]}}},{source:"SE",target:"version",when:{source:{TY:["DICT"]},target:{type:["entry-dictionary"]}}},{source:"SE",target:"locator",when:{source:{TY:["STAND"]},target:{type:["standard"]}}},{source:"SE",target:"page-first",when:{source:{TY:["MANSCPT","MGZN"]},target:{type:["article-magazine","manuscript"]}}},{source:["SE","PY"],target:"issued",when:{source:{TY:["EJOUR"]},target:!1}},{source:["SE","T2"],target:"locator",when:{source:{TY:["LEGAL"]},target:{type:["legislation","regulation"]}}},{source:"SN",target:["ISSN","ISBN"],when:{source:{TY:["AGGR","CLSWK","GEN"]},target:{type:["classic","collection","document","event","interview","performance","treaty"]}}},{source:"SN",target:"ISBN",when:{source:{TY:["ADVS","ANCIENT","BLOG","BOOK","CHAP","COMP","CONF","CTLG","DICT","EBOOK","ECHAP","EDBOOK","ELEC","ENCYC","HEAR","MAP","PAMP","SER","SLIDE","SOUND","VIDEO"]},target:{type:["book","chapter","entry","entry-dictionary","entry-encyclopedia","hearing","map","pamphlet","paper-conference","periodical","post-weblog","review-book","software","song","speech","webpage"]}}},{source:"SN",target:"ISSN",when:{source:{TY:["ABST","DATA","EJOUR","INPR","JFULL","JOUR","MGZN","MUSIC","NEWS"]},target:{type:["article","article-journal","article-magazine","article-newspaper","dataset","musical_score","review"]}}},{source:"SN",target:"number",when:{source:{TY:["DBASE","GOVDOC"]},target:!1}},{source:["SN","M1"],target:"number",when:{source:{TY:["RPRT"]},target:{type:["report"]}}},{source:["SN","SE","M1"],target:"number",when:{source:{TY:["PAT"]},target:{type:["patent"]}}},{source:["SN","T3"],target:"number",when:{source:{TY:["LEGAL","STAND"]},target:{type:["legislation","regulation","standard"]}}},{source:"SP",target:"page",when:{source:{TY:["ABST","AGGR","ANCIENT","BILL","CHAP","CONF","CPAPER","CTLG","DBASE","DICT","ECHAP","EJOUR","ENCYC","GEN","GOVDOC","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MGZN","MUSIC","NEWS","PAMP","PAT","PCOMM","RPRT","SER","STAND","STAT","UNBILL","UNPB"]},target:{type:["article","article-journal","article-magazine","article-newspaper","bill","chapter","collection","document","entry","entry-dictionary","entry-encyclopedia","event","hearing","interview","legislation","manuscript","musical_score","pamphlet","paper-conference","patent","performance","periodical","personal_communication","post","regulation","report","review","standard","treaty"]}}},{source:"SP",target:"number-of-pages",when:{source:{TY:["BOOK","CLSWK","EBOOK","EDBOOK","THES"]},target:{type:["book","classic","review-book","thesis"]}}},{source:"SP",target:"page-first",when:{source:{TY:["CASE"]},target:{type:["legal_case"]}}},{source:"SP",target:"dimensions",when:{source:{TY:["MPCT"]},target:{type:["broadcast","motion_picture"]}}},{source:"ST",target:"title-short",when:{source:{TY:["ABST","ADVS","AGGR","ANCIENT","ART","BILL","BLOG","BOOK","CASE","CHAP","CLSWK","COMP","CONF","CTLG","DATA","DICT","ECHAP","EDBOOK","EJOUR","ELEC","ENCYC","GEN","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","MANSCPT","MAP","MGZN","MPCT","MUSIC","NEWS","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAT","THES","UNBILL","UNPB","VIDEO"]},target:{type:["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","classic","collection","dataset","document","entry","entry-dictionary","entry-encyclopedia","event","graphic","hearing","interview","legal_case","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","patent","performance","periodical","personal_communication","post","post-weblog","report","review","review-book","software","song","speech","thesis","treaty","webpage"]}}},{source:"SV",target:"collection-number",when:{source:{TY:["CHAP"]},target:{type:["chapter"]}}},{source:"T2",target:"collection-title",when:{source:{TY:["AGGR","BOOK","CLSWK","COMP","CTLG","DBASE","ELEC","MANSCPT","MAP","MPCT","MULTI","RPRT","UNPB"]},target:{type:["book","broadcast","classic","entry","manuscript","map","motion_picture","report","review-book","software","webpage"]}}},{source:"T2",target:"container-title",when:{source:{TY:["ABST","ANCIENT","BILL","BLOG","CHAP","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ENCYC","GEN","INPR","JFULL","JOUR","MGZN","MUSIC","NEWS","PAMP","PAT","SER","STAT","THES","UNBILL"]},target:{type:["article","article-journal","article-magazine","article-newspaper","bill","chapter","collection","document","entry-dictionary","entry-encyclopedia","event","interview","musical_score","pamphlet","patent","performance","periodical","post-weblog","review","thesis","treaty"]}}},{source:"T2",target:"event",when:{source:{TY:["CONF","CPAPER"]},target:{type:["paper-conference"]}}},{source:"T2",target:"committee",when:{source:{TY:["HEAR"]},target:{type:["hearing"]}}},{source:"T2",target:"section",when:{source:{TY:["STAND"]},target:{type:["standard"]}}},{source:"T3",target:"collection-title",when:{source:{TY:["ADVS","ANCIENT","CHAP","CONF","DATA","EBOOK","ECHAP","EJOUR","GEN","GOVDOC","MUSIC","SER","SLIDE","SOUND","VIDEO"]},target:{type:["chapter","collection","dataset","document","event","interview","musical_score","paper-conference","performance","periodical","song","speech","treaty"]}}},{source:"TI",target:"title",when:{source:{TY:["ABST","ADVS","AGGR","ANCIENT","ART","BILL","BLOG","BOOK","CASE","CHAP","CHART","CLSWK","COMP","CONF","CPAPER","CTLG","DATA","DBASE","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ELEC","ENCYC","EQUA","FIGURE","GEN","GOVDOC","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MPCT","MULTI","MUSIC","NEWS","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","STAT","THES","UNBILL","UNPB","VIDEO"]},target:{type:["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","classic","collection","dataset","document","entry","entry-dictionary","entry-encyclopedia","event","figure","graphic","hearing","interview","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","patent","performance","periodical","personal_communication","post","post-weblog","regulation","report","review","review-book","software","song","speech","standard","thesis","treaty","webpage"]}}},{source:"TY",target:"type"},{source:"UR",target:"URL",when:{source:{TY:["ABST","ADVS","AGGR","ANCIENT","ART","BILL","BLOG","BOOK","CASE","CHAP","CHART","CLSWK","COMP","CONF","CPAPER","CTLG","DATA","DBASE","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ELEC","ENCYC","EQUA","FIGURE","GEN","GOVDOC","GRANT","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MPCT","MULTI","MUSIC","NEWS","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","STAT","THES","UNBILL","UNPB","VIDEO"]},target:{type:["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","classic","collection","dataset","document","entry","entry-dictionary","entry-encyclopedia","event","figure","graphic","interview","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","patent","performance","periodical","personal_communication","post","post-weblog","regulation","report","review","review-book","software","song","speech","standard","thesis","treaty","webpage"]}}},{source:["UR","L4"],target:"URL",when:{source:{TY:["HEAR"]},target:{type:["hearing"]}}},{source:"VL",target:"volume",when:{source:{TY:["ABST","ADVS","AGGR","ANCIENT","BILL","BOOK","CASE","CHAP","CLSWK","CONF","CPAPER","CTLG","DBASE","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ENCYC","GEN","GOVDOC","INPR","JFULL","JOUR","LEGAL","MANSCPT","MGZN","MUSIC","NEWS","RPRT","SER","SLIDE","SOUND","STAND","UNBILL","VIDEO"]},target:{type:["article","article-journal","article-magazine","article-newspaper","bill","book","chapter","classic","collection","document","entry","entry-dictionary","entry-encyclopedia","event","interview","legal_case","legislation","manuscript","musical_score","paper-conference","performance","periodical","regulation","report","review","review-book","song","speech","standard","treaty"]}}},{source:"VL",target:"dimensions",when:{source:{TY:["CHART","EQUA","FIGURE"]},target:{type:["figure"]}}},{source:"VL",target:"edition",when:{source:{TY:["COMP"]},target:{type:["software"]}}},{source:"VL",target:"number",when:{source:{TY:["PAMP"]},target:{type:["pamphlet"]}}},{source:"VL",target:"version",when:{source:{TY:["PAT"]},target:{type:["patent"]}}},{source:["VL","Y2"],target:"accessed",when:{source:{TY:["BLOG"]},target:{type:["post-weblog"]}}},{source:"Y2",target:"accessed",when:{source:{TY:["ABST","ADVS","ANCIENT","ART","BILL","BOOK","CASE","CHAP","CHART","CLSWK","COMP","CONF","CPAPER","CTLG","DATA","DICT","EDBOOK","ENCYC","EQUA","FIGURE","GEN","GOVDOC","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MPCT","MUSIC","NEWS","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","THES","UNBILL","UNPB","VIDEO"]},target:{type:["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","classic","collection","dataset","document","entry","entry-dictionary","entry-encyclopedia","event","figure","graphic","hearing","interview","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","patent","performance","periodical","personal_communication","post","regulation","report","review","review-book","software","song","speech","standard","thesis","treaty"]}}},{source:"C4",target:"author",when:{source:{TY:["BOOK","CHAP","EBOOK","ECHAP","EJOUR"]},target:{"reviewed-author":!0,type:["book","chapter","review-book","review"]}}},{source:"AU",target:"reviewed-author",when:{source:{C4:!0,TY:["BOOK","CHAP","EBOOK","ECHAP","EJOUR"]},target:{type:["book","chapter","review-book","review"]}}},{source:"TA",target:"author",when:{source:{TY:["ABST","ADVS","AGGR","ANCIENT","ART","BILL","BLOG","BOOK","CASE","CHAP","CHART","CLSWK","COMP","CONF","CPAPER","CTLG","DATA","DBASE","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ELEC","ENCYC","EQUA","FIGURE","GEN","GOVDOC","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MPCT","MULTI","MUSIC","NEWS","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","STAT","THES","UNBILL","UNPB","VIDEO"]},target:{"original-author":!0,translator:!0}}},{source:"AU",target:"original-author",when:{source:{TA:!0,TY:["ABST","ADVS","AGGR","ANCIENT","ART","BILL","BLOG","BOOK","CASE","CHAP","CHART","CLSWK","COMP","CONF","CPAPER","CTLG","DATA","DBASE","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ELEC","ENCYC","EQUA","FIGURE","GEN","GOVDOC","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MPCT","MULTI","MUSIC","NEWS","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","STAT","THES","UNBILL","UNPB","VIDEO"]},target:{translator:!0}}},{source:"TT",target:"title",when:{source:{TY:["ABST","ADVS","AGGR","ANCIENT","ART","BILL","BLOG","BOOK","CASE","CHAP","CHART","CLSWK","COMP","CONF","CPAPER","CTLG","DATA","DBASE","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ELEC","ENCYC","EQUA","FIGURE","GEN","GOVDOC","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MPCT","MULTI","MUSIC","NEWS","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","STAT","THES","UNBILL","UNPB","VIDEO"]},target:{"original-author":!0,translator:!0}}},{source:"TI",target:"original-title",when:{source:{TT:!0,TY:["ABST","ADVS","AGGR","ANCIENT","ART","BILL","BLOG","BOOK","CASE","CHAP","CHART","CLSWK","COMP","CONF","CPAPER","CTLG","DATA","DBASE","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ELEC","ENCYC","EQUA","FIGURE","GEN","GOVDOC","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MPCT","MULTI","MUSIC","NEWS","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","STAT","THES","UNBILL","UNPB","VIDEO"]},target:{translator:!0}}}]},{}],137:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var s=i(e("../converters.js"));r.default=[{source:"TY",target:"type"},{source:"ID",target:"id"},{source:["T1","TI","CT"],target:"title"},{source:"BT",target:"title",when:{source:{type:["BOOK","UNPB"],T1:!1,TI:!1,CT:!1},target:!1}},{source:"T2",target:"container-title",when:{target:{type:["bill","book","broadcast","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","figure","graphic","interview","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","patent","personal_communication","post","post-weblog","report","review","review-book","song","speech","thesis","treaty","webpage"]}}},{source:"BT",target:"container-title",when:{source:{type:["ABST","ADVS","ART","BILL","CASE","CHAP","COMP","CONF","CTLG","DATA","ELEC","GEN","HEAR","ICOMM","INPR","JFULL","JOUR","MAP","MGZN","MPCT","MUSIC","NEWS","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAT","THES","UNBILL","VIDEO"],T2:!1},target:!1}},{source:"T3",target:"collection-title"},{source:["A1","AU"],target:"author"},{source:["A2","ED"],target:"editor"},{source:"A3",target:"collection-editor"},{source:["Y1","PY"],target:"issued"},{source:"Y2",target:"event-date",convert:s.default.DATE,when:{source:{type:["CONF","CPAPER"]},target:{type:["paper-conference"]}}},{source:"Y2",target:"submitted",convert:s.default.DATE,when:{source:{type:["PAT"]},target:{type:"patent"}}},{source:["AB","N1"],target:"note"},{source:"N2",target:"abstract"},{source:"KW",target:"keyword"},{source:["JF","JO"],target:"container-title",convert:s.default.ANY,when:{target:{type:["article","article-journal","article-magazine","article-newspaper"]}}},{source:["JA","J1","J2"],target:"container-title-short"},{source:"VL",target:"volume"},{source:["IS","CP"],target:"issue"},{source:"SP",target:"page-first"},{source:["SP","EP"],target:"page",convert:s.default.PAGE,when:{source:{SP:!0,EP:!0}}},{source:"CY",target:"publisher-place"},{source:"PB",target:"publisher"},{source:"SN",target:["ISSN","ISBN"]},{source:"AV",target:"archive_location"},{source:"UR",target:"URL"}]},{"../converters.js":129}],138:[function(e,t,r){t.exports={RIS:{ABST:"article-journal",ADVS:"motion_picture",AGGR:"dataset",ANCIENT:"classic",ART:"graphic",BILL:"bill",BLOG:"post-weblog",BOOK:"book",CASE:"legal_case",CHAP:"chapter",CHART:"figure",CLSWK:"classic",COMP:"software",CONF:"paper-conference",CPAPER:"paper-conference",CTLG:"entry",DATA:"dataset",DBASE:"dataset",DICT:"entry-dictionary",EBOOK:"book",ECHAP:"chapter",EDBOOK:"book",EJOUR:"article-journal",ELEC:"webpage",ENCYC:"entry-encyclopedia",EQUA:"article",FIGURE:"figure",GEN:"document",GOVDOC:"report",GRANT:"article",HEAR:"hearing",ICOMM:"personal_communication",INPR:"article-journal",JFULL:"article-journal",JOUR:"article-journal",LEGAL:"legislation",MANSCPT:"manuscript",MAP:"map",MGZN:"article-magazine",MPCT:"broadcast",MULTI:"motion_picture",MUSIC:"musical_score",NEWS:"article-newspaper",PAMP:"pamphlet",PAT:"patent",PCOMM:"personal_communication",RPRT:"report",SER:"periodical",SLIDE:"motion_picture",SOUND:"motion_picture",STAND:"standard",STAT:"legislation",THES:"thesis",UNBILL:"manuscript",UNPB:"manuscript",VIDEO:"motion_picture",WEB:"webpage"},CSL:{"article-journal":"JOUR","article-magazine":"MGZN","article-newspaper":"NEWS",article:"JOUR",bill:"BILL",book:"BOOK",broadcast:"MPCT",chapter:"CHAP",classic:"CLSWK",collection:"GEN",dataset:"DATA",document:"GEN",entry:"CTLG","entry-dictionary":"DICT","entry-encyclopedia":"ENCYC",event:"GEN",figure:"FIGURE",graphic:"ART",hearing:"HEAR",interview:"GEN",legal_case:"CASE",legislation:"LEGAL",manuscript:"MANSCPT",map:"MAP",motion_picture:"MPCT",musical_score:"MUSIC",pamphlet:"PAMP","paper-conference":"CONF",patent:"PAT",performance:"GEN",periodical:"SER",personal_communication:"PCOMM","post-weblog":"BLOG",post:"ICOMM",regulation:"LEGAL",report:"RPRT","review-book":"BOOK",review:"JOUR",software:"COMP",song:"SOUND",speech:"SOUND",standard:"STAND",thesis:"THES",treaty:"GEN",webpage:"ELEC"}}},{}],139:[function(e,t,r){arguments[4][53][0].apply(r,arguments)},{"./input":140,"./output":141,dup:53}],140:[function(e,t,r){arguments[4][54][0].apply(r,arguments)},{dup:54}],141:[function(e,t,r){arguments[4][55][0].apply(r,arguments)},{dup:55}],142:[function(e,t,r){"use strict";function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){n(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}async function a(e){return(await fetch(e)).text()}function o(e,t){return Object.keys(e).reduce((r,i)=>{if(i.slice(0,t.length)===t){let s=i.slice(t.length);s=s[0].toLowerCase()+s.slice(1),r[s]="false"!==e[i]&&e[i]}return r},{})}e("whatwg-fetch");var l=e("@citation-js/core");const u="cdn.jsdelivr.net/gh/citation-style-language",c=document.currentScript.dataset;window.addEventListener("load",function(){const e=o(c,"input"),t=o(c,"plugin");for(const e of l.plugins.list()){const r=l.plugins.config.get(e);r&&Object.assign(r,o(t,e.slice(1)))}const r=document.getElementsByClassName("citation-js");Array.prototype.map.call(r,async function(t){const r=t.dataset.outputFormat||"bibliography",i=s(s({},o(t.dataset,"output")),{},{format:"html"});try{const e=l.plugins.config.get("@csl");i.template&&!e.templates.has(i.template)&&e.templates.add(i.template,await a(`https://${u}/styles@master/${i.template}.csl`)),i.lang&&!e.locales.has(i.lang)&&e.locales.add(i.lang,await a(`https://${u}/locales@master/${i.lang}.csl`))}catch(e){console.error(e)}const n=await l.Cite.async(t.dataset.input||t,e),c=n.format(r,i);for(;t.firstChild;)t.removeChild(t.firstChild);t.insertAdjacentHTML("beforeend",c)})})},{"@citation-js/core":"citation-js","whatwg-fetch":143}],143:[function(e,t,r){(function(e){(function(){(function(e,i){"object"==typeof r&&void 0!==t?i(r):"function"==typeof define&&define.amd?define(["exports"],i):i(e.WHATWGFetch={})})(this,function(t){"use strict";function r(e){return e&&DataView.prototype.isPrototypeOf(e)}function i(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function s(e){return"string"!=typeof e&&(e=String(e)),e}function n(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return x.iterable&&(t[Symbol.iterator]=function(){return t}),t}function a(e){this.map={},e instanceof a?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){if(2!=e.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function o(e){if(!e._noBody)return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function l(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function u(e){var t=new FileReader,r=l(t);return t.readAsArrayBuffer(e),r}function c(e){var t=new FileReader,r=l(t),i=/charset=([A-Za-z0-9_-]+)/.exec(e.type),s=i?i[1]:"utf-8";return t.readAsText(e,s),r}function m(e){for(var t=new Uint8Array(e),r=new Array(t.length),i=0;i<t.length;i++)r[i]=String.fromCharCode(t[i]);return r.join("")}function p(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function h(){return this.bodyUsed=!1,this._initBody=function(e){this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:x.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:x.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:x.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():x.arrayBuffer&&x.blob&&r(e)?(this._bodyArrayBuffer=p(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):x.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||A(e))?this._bodyArrayBuffer=p(e):this._bodyText=e=Object.prototype.toString.call(e):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):x.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},x.blob&&(this.blob=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=o(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}if(x.blob)return this.blob().then(u);throw new Error("could not read as ArrayBuffer")},this.text=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return c(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(m(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},x.formData&&(this.formData=function(){return this.text().then(g)}),this.json=function(){return this.text().then(JSON.parse)},this}function f(e){var t=e.toUpperCase();return w.indexOf(t)>-1?t:e}function d(e,t){if(!(this instanceof d))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t=t||{};var r=t.body;if(e instanceof d){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new a(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new a(t.headers)),this.method=f(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if("AbortController"in _){var e=new AbortController;return e.signal}}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(r),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var i=/([?&])_=[^&]*/;if(i.test(this.url))this.url=this.url.replace(i,"$1_="+(new Date).getTime());else{var s=/\?/;this.url+=(s.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function g(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),i=r.shift().replace(/\+/g," "),s=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(s))}}),t}function b(e){var t=new a,r=e.replace(/\r?\n[\t ]+/g," ");return r.split("\r").map(function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e}).forEach(function(e){var r=e.split(":"),i=r.shift().trim();if(i){var s=r.join(":").trim();try{t.append(i,s)}catch(e){console.warn("Response "+e.message)}}}),t}function y(e,t){if(!(this instanceof y))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new a(t.headers),this.url=t.url||"",this._initBody(e)}function v(e,r){return new Promise(function(n,o){function l(){m.abort()}function u(e){try{return""===e&&_.location.href?_.location.href:e}catch(t){return e}}var c=new d(e,r);if(c.signal&&c.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var m=new XMLHttpRequest;if(m.onload=function(){var e={statusText:m.statusText,headers:b(m.getAllResponseHeaders()||"")};0===c.url.indexOf("file://")&&(m.status<200||m.status>599)?e.status=200:e.status=m.status,e.url="responseURL"in m?m.responseURL:e.headers.get("X-Request-URL");var t="response"in m?m.response:m.responseText;setTimeout(function(){n(new y(t,e))},0)},m.onerror=function(){setTimeout(function(){
o(new TypeError("Network request failed"))},0)},m.ontimeout=function(){setTimeout(function(){o(new TypeError("Network request timed out"))},0)},m.onabort=function(){setTimeout(function(){o(new t.DOMException("Aborted","AbortError"))},0)},m.open(c.method,u(c.url),!0),"include"===c.credentials?m.withCredentials=!0:"omit"===c.credentials&&(m.withCredentials=!1),"responseType"in m&&(x.blob?m.responseType="blob":x.arrayBuffer&&(m.responseType="arraybuffer")),r&&"object"==typeof r.headers&&!(r.headers instanceof a||_.Headers&&r.headers instanceof _.Headers)){var p=[];Object.getOwnPropertyNames(r.headers).forEach(function(e){p.push(i(e)),m.setRequestHeader(e,s(r.headers[e]))}),c.headers.forEach(function(e,t){-1===p.indexOf(t)&&m.setRequestHeader(t,e)})}else c.headers.forEach(function(e,t){m.setRequestHeader(t,e)});c.signal&&(c.signal.addEventListener("abort",l),m.onreadystatechange=function(){4===m.readyState&&c.signal.removeEventListener("abort",l)}),m.send(void 0===c._bodyInit?null:c._bodyInit)})}var _="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==e&&e||{},x={searchParams:"URLSearchParams"in _,iterable:"Symbol"in _&&"iterator"in Symbol,blob:"FileReader"in _&&"Blob"in _&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in _,arrayBuffer:"ArrayBuffer"in _};if(x.arrayBuffer)var E=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],A=ArrayBuffer.isView||function(e){return e&&E.indexOf(Object.prototype.toString.call(e))>-1};a.prototype.append=function(e,t){e=i(e),t=s(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},a.prototype.delete=function(e){delete this.map[i(e)]},a.prototype.get=function(e){return e=i(e),this.has(e)?this.map[e]:null},a.prototype.has=function(e){return this.map.hasOwnProperty(i(e))},a.prototype.set=function(e,t){this.map[i(e)]=s(t)},a.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},a.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),n(e)},a.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),n(e)},a.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),n(e)},x.iterable&&(a.prototype[Symbol.iterator]=a.prototype.entries);var w=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];d.prototype.clone=function(){return new d(this,{body:this._bodyInit})},h.call(d.prototype),h.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new a(this.headers),url:this.url})},y.error=function(){var e=new y(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e};var T=[301,302,303,307,308];y.redirect=function(e,t){if(-1===T.indexOf(t))throw new RangeError("Invalid status code");return new y(null,{status:t,headers:{location:e}})},t.DOMException=_.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}v.polyfill=!0,_.fetch||(_.fetch=v,_.Headers=a,_.Request=d,_.Response=y),t.Headers=a,t.Request=d,t.Response=y,t.fetch=v,Object.defineProperty(t,"__esModule",{value:!0})})}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],144:[function(e,t,r){arguments[4][45][0].apply(r,arguments)},{dup:45}],145:[function(e,t,r){(function(t){(function(){"use strict";function t(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}function i(e){if(e>J)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return t.__proto__=s.prototype,t}function s(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return l(e)}return n(e,t,r)}function n(e,t,r){if("string"==typeof e)return u(e,t);if(ArrayBuffer.isView(e))return c(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(V(e,ArrayBuffer)||e&&V(e.buffer,ArrayBuffer))return m(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var i=e.valueOf&&e.valueOf();if(null!=i&&i!==e)return s.from(i,t,r);var n=p(e);if(n)return n;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return s.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function a(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function o(e,t,r){return a(e),e<=0?i(e):void 0!==t?"string"==typeof r?i(e).fill(t,r):i(e).fill(t):i(e)}function l(e){return a(e),i(e<0?0:0|h(e))}function u(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!s.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|d(e,t),n=i(r),a=n.write(e,t);return a!==r&&(n=n.slice(0,a)),n}function c(e){for(var t=e.length<0?0:0|h(e.length),r=i(t),s=0;s<t;s+=1)r[s]=255&e[s];return r}function m(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var i;return i=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),i.__proto__=s.prototype,i}function p(e){if(s.isBuffer(e)){var t=0|h(e.length),r=i(t);return 0===r.length?r:(e.copy(r,0,0,t),r)}return void 0!==e.length?"number"!=typeof e.length||Y(e.length)?i(0):c(e):"Buffer"===e.type&&Array.isArray(e.data)?c(e.data):void 0}function h(e){if(e>=J)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+J.toString(16)+" bytes");return 0|e}function f(e){return+e!=e&&(e=0),s.alloc(+e)}function d(e,t){if(s.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||V(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return F(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return q(e).length;default:if(n)return i?-1:F(e).length;t=(""+t).toLowerCase(),n=!0}}function g(e,t,r){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if(r>>>=0,t>>>=0,r<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,r);case"utf8":case"utf-8":return S(this,t,r);case"ascii":return k(this,t,r);case"latin1":case"binary":return N(this,t,r);case"base64":return O(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,r);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function b(e,t,r){var i=e[t];e[t]=e[r],e[r]=i}function y(e,t,r,i,n){if(0===e.length)return-1;if("string"==typeof r?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,Y(r)&&(r=n?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(n)return-1;r=e.length-1}else if(r<0){if(!n)return-1;r=0}if("string"==typeof t&&(t=s.from(t,i)),s.isBuffer(t))return 0===t.length?-1:v(e,t,r,i,n);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):v(e,[t],r,i,n);throw new TypeError("val must be string, number or Buffer")}function v(e,t,r,i,s){function n(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}var a,o=1,l=e.length,u=t.length;if(void 0!==i&&(i=String(i).toLowerCase(),"ucs2"===i||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;o=2,l/=2,u/=2,r/=2}if(s){var c=-1;for(a=r;a<l;a++)if(n(e,a)===n(t,-1===c?0:a-c)){if(-1===c&&(c=a),a-c+1===u)return c*o}else-1!==c&&(a-=a-c),c=-1}else for(r+u>l&&(r=l-u),a=r;a>=0;a--){for(var m=!0,p=0;p<u;p++)if(n(e,a+p)!==n(t,p)){m=!1;break}if(m)return a}return-1}function _(e,t,r,i){r=Number(r)||0;var s=e.length-r;i?(i=Number(i),i>s&&(i=s)):i=s;var n=t.length;i>n/2&&(i=n/2);for(var a=0;a<i;++a){var o=parseInt(t.substr(2*a,2),16);if(Y(o))return a;e[r+a]=o}return a}function x(e,t,r,i){return H(F(t,e.length-r),e,r,i)}function E(e,t,r,i){return H(G(t),e,r,i)}function A(e,t,r,i){return E(e,t,r,i)}function w(e,t,r,i){return H(q(t),e,r,i)}function T(e,t,r,i){return H(z(t,e.length-r),e,r,i)}function O(e,t,r){return 0===t&&r===e.length?$.fromByteArray(e):$.fromByteArray(e.slice(t,r))}function S(e,t,r){r=Math.min(e.length,r);for(var i=[],s=t;s<r;){var n,a,o,l,u=e[s],c=null,m=u>239?4:u>223?3:u>191?2:1;if(s+m<=r)switch(m){case 1:u<128&&(c=u);break;case 2:n=e[s+1],128==(192&n)&&(l=(31&u)<<6|63&n,l>127&&(c=l));break;case 3:n=e[s+1],a=e[s+2],128==(192&n)&&128==(192&a)&&(l=(15&u)<<12|(63&n)<<6|63&a,l>2047&&(l<55296||l>57343)&&(c=l));break;case 4:n=e[s+1],a=e[s+2],o=e[s+3],128==(192&n)&&128==(192&a)&&128==(192&o)&&(l=(15&u)<<18|(63&n)<<12|(63&a)<<6|63&o,l>65535&&l<1114112&&(c=l))}null===c?(c=65533,m=1):c>65535&&(c-=65536,i.push(c>>>10&1023|55296),c=56320|1023&c),i.push(c),s+=m}return C(i)}function C(e){var t=e.length;if(t<=X)return String.fromCharCode.apply(String,e);for(var r="",i=0;i<t;)r+=String.fromCharCode.apply(String,e.slice(i,i+=X));return r}function k(e,t,r){var i="";r=Math.min(e.length,r);for(var s=t;s<r;++s)i+=String.fromCharCode(127&e[s]);return i}function N(e,t,r){var i="";r=Math.min(e.length,r);for(var s=t;s<r;++s)i+=String.fromCharCode(e[s]);return i}function I(e,t,r){var i=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>i)&&(r=i);for(var s="",n=t;n<r;++n)s+=U(e[n]);return s}function P(e,t,r){for(var i=e.slice(t,r),s="",n=0;n<i.length;n+=2)s+=String.fromCharCode(i[n]+256*i[n+1]);return s}function j(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,r,i,n,a){if(!s.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>n||t<a)throw new RangeError('"value" argument is out of bounds');if(r+i>e.length)throw new RangeError("Index out of range")}function D(e,t,r,i,s,n){if(r+i>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function B(e,t,r,i,s){return t=+t,r>>>=0,s||D(e,t,r,4,3.4028234663852886e38,-3.4028234663852886e38),W.write(e,t,r,i,23,4),r+4}function M(e,t,r,i,s){return t=+t,r>>>=0,s||D(e,t,r,8,1.7976931348623157e308,-1.7976931348623157e308),W.write(e,t,r,i,52,8),r+8}function L(e){if(e=e.split("=")[0],e=e.trim().replace(K,""),e.length<2)return"";for(;e.length%4!=0;)e+="=";return e}function U(e){return e<16?"0"+e.toString(16):e.toString(16)}function F(e,t){var r;t=t||1/0;for(var i=e.length,s=null,n=[],a=0;a<i;++a){if(r=e.charCodeAt(a),r>55295&&r<57344){if(!s){if(r>56319){(t-=3)>-1&&n.push(239,191,189);continue}if(a+1===i){(t-=3)>-1&&n.push(239,191,189);continue}s=r;continue}if(r<56320){(t-=3)>-1&&n.push(239,191,189),s=r;continue}r=65536+(s-55296<<10|r-56320)}else s&&(t-=3)>-1&&n.push(239,191,189);if(s=null,r<128){if((t-=1)<0)break;n.push(r)}else if(r<2048){if((t-=2)<0)break;n.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;n.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;n.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return n}function G(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function z(e,t){for(var r,i,s,n=[],a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),i=r>>8,s=r%256,n.push(s),n.push(i);return n}function q(e){return $.toByteArray(L(e))}function H(e,t,r,i){for(var s=0;s<i&&!(s+r>=t.length||s>=e.length);++s)t[s+r]=e[s];return s}function V(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Y(e){return e!=e}var $=e("base64-js"),W=e("ieee754");r.Buffer=s,r.SlowBuffer=f,r.INSPECT_MAX_BYTES=50;var J=2147483647;r.kMaxLength=J,s.TYPED_ARRAY_SUPPORT=t(),s.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),s.poolSize=8192,s.from=function(e,t,r){return n(e,t,r)},s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,s.alloc=function(e,t,r){return o(e,t,r)},s.allocUnsafe=function(e){return l(e)},s.allocUnsafeSlow=function(e){return l(e)},s.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==s.prototype},s.compare=function(e,t){if(V(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),V(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,i=t.length,n=0,a=Math.min(r,i);n<a;++n)if(e[n]!==t[n]){r=e[n],i=t[n];break}return r<i?-1:i<r?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var i=s.allocUnsafe(t),n=0;for(r=0;r<e.length;++r){var a=e[r];if(V(a,Uint8Array)&&(a=s.from(a)),!s.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,n),n+=a.length}return i},s.byteLength=d,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)b(this,t,t+1);return this},s.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},s.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},s.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?S(this,0,e):g.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){var e="",t=r.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},s.prototype.compare=function(e,t,r,i,n){if(V(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===i&&(i=0),void 0===n&&(n=this.length),t<0||r>e.length||i<0||n>this.length)throw new RangeError("out of range index");if(i>=n&&t>=r)return 0;if(i>=n)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,i>>>=0,n>>>=0,this===e)return 0;for(var a=n-i,o=r-t,l=Math.min(a,o),u=this.slice(i,n),c=e.slice(t,r),m=0;m<l;++m)if(u[m]!==c[m]){a=u[m],o=c[m];break}return a<o?-1:o<a?1:0},s.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},s.prototype.indexOf=function(e,t,r){return y(this,e,t,r,!0)},s.prototype.lastIndexOf=function(e,t,r){return y(this,e,t,r,!1)},s.prototype.write=function(e,t,r,i){if(void 0===t)i="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)i=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===i&&(i="utf8")):(i=r,r=void 0)}var s=this.length-t;if((void 0===r||r>s)&&(r=s),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var n=!1;;)switch(i){case"hex":return _(this,e,t,r);case"utf8":case"utf-8":return x(this,e,t,r);case"ascii":return E(this,e,t,r);case"latin1":case"binary":return A(this,e,t,r);case"base64":return w(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,r);default:if(n)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),n=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var X=4096;s.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),t<e&&(t=e);var i=this.subarray(e,t);return i.__proto__=s.prototype,i},s.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||j(e,t,this.length);for(var i=this[e],s=1,n=0;++n<t&&(s*=256);)i+=this[e+n]*s;return i},s.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||j(e,t,this.length);for(var i=this[e+--t],s=1;t>0&&(s*=256);)i+=this[e+--t]*s;return i},s.prototype.readUInt8=function(e,t){return e>>>=0,t||j(e,1,this.length),this[e]},s.prototype.readUInt16LE=function(e,t){return e>>>=0,t||j(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUInt16BE=function(e,t){return e>>>=0,t||j(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUInt32LE=function(e,t){return e>>>=0,t||j(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUInt32BE=function(e,t){return e>>>=0,t||j(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||j(e,t,this.length);for(var i=this[e],s=1,n=0;++n<t&&(s*=256);)i+=this[e+n]*s;return s*=128,i>=s&&(i-=Math.pow(2,8*t)),i},s.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||j(e,t,this.length);for(var i=t,s=1,n=this[e+--i];i>0&&(s*=256);)n+=this[e+--i]*s;return s*=128,n>=s&&(n-=Math.pow(2,8*t)),n},s.prototype.readInt8=function(e,t){return e>>>=0,t||j(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},s.prototype.readInt16LE=function(e,t){e>>>=0,t||j(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt16BE=function(e,t){e>>>=0,t||j(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt32LE=function(e,t){return e>>>=0,t||j(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return e>>>=0,t||j(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readFloatLE=function(e,t){return e>>>=0,t||j(e,4,this.length),W.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return e>>>=0,t||j(e,4,this.length),W.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return e>>>=0,t||j(e,8,this.length),W.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return e>>>=0,t||j(e,8,this.length),W.read(this,e,!1,52,8)},s.prototype.writeUIntLE=function(e,t,r,i){if(e=+e,t>>>=0,r>>>=0,!i){var s=Math.pow(2,8*r)-1;R(this,e,t,r,s,0)}var n=1,a=0;for(this[t]=255&e;++a<r&&(n*=256);)this[t+a]=e/n&255;return t+r},s.prototype.writeUIntBE=function(e,t,r,i){if(e=+e,t>>>=0,r>>>=0,!i){var s=Math.pow(2,8*r)-1;R(this,e,t,r,s,0)}var n=r-1,a=1;for(this[t+n]=255&e;--n>=0&&(a*=256);)this[t+n]=e/a&255;return t+r},s.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,1,255,0),this[t]=255&e,t+1},s.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},s.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeIntLE=function(e,t,r,i){if(e=+e,t>>>=0,!i){var s=Math.pow(2,8*r-1);R(this,e,t,r,s-1,-s)}var n=0,a=1,o=0;for(this[t]=255&e;++n<r&&(a*=256);)e<0&&0===o&&0!==this[t+n-1]&&(o=1),this[t+n]=(e/a>>0)-o&255;return t+r},s.prototype.writeIntBE=function(e,t,r,i){if(e=+e,t>>>=0,!i){var s=Math.pow(2,8*r-1);R(this,e,t,r,s-1,-s)}var n=r-1,a=1,o=0;for(this[t+n]=255&e;--n>=0&&(a*=256);)e<0&&0===o&&0!==this[t+n+1]&&(o=1),this[t+n]=(e/a>>0)-o&255;return t+r},s.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},s.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeFloatLE=function(e,t,r){return B(this,e,t,!0,r)},s.prototype.writeFloatBE=function(e,t,r){return B(this,e,t,!1,r)},s.prototype.writeDoubleLE=function(e,t,r){return M(this,e,t,!0,r)},s.prototype.writeDoubleBE=function(e,t,r){return M(this,e,t,!1,r)},s.prototype.copy=function(e,t,r,i){if(!s.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<r&&(i=r),i===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-r&&(i=e.length-t+r);var n=i-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,i);else if(this===e&&r<t&&t<i)for(var a=n-1;a>=0;--a)e[a+t]=this[a+r];else Uint8Array.prototype.set.call(e,this.subarray(r,i),t);return n},s.prototype.fill=function(e,t,r,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!s.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(1===e.length){var n=e.charCodeAt(0);("utf8"===i&&n<128||"latin1"===i)&&(e=n)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var a;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(a=t;a<r;++a)this[a]=e;else{var o=s.isBuffer(e)?e:s.from(e,i),l=o.length;if(0===l)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<r-t;++a)this[a+t]=o[a%l]}return this};var K=/[^+/0-9A-Za-z-_]/g}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":144,buffer:145,ieee754:146}],146:[function(e,t,r){arguments[4][48][0].apply(r,arguments)},{dup:48}],147:[function(e,t,r){function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function n(e){if(m===setTimeout)return setTimeout(e,0);if((m===i||!m)&&setTimeout)return m=setTimeout,setTimeout(e,0);try{return m(e,0)}catch(t){try{return m.call(null,e,0)}catch(t){return m.call(this,e,0)}}}function a(e){if(p===clearTimeout)return clearTimeout(e);if((p===s||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(e);try{return p(e)}catch(t){try{return p.call(null,e)}catch(t){return p.call(this,e)}}}function o(){g&&f&&(g=!1,f.length?d=f.concat(d):b=-1,d.length&&l())}function l(){if(!g){var e=n(o);g=!0;for(var t=d.length;t;){for(f=d,d=[];++b<t;)f&&f[b].run();b=-1,t=d.length}f=null,g=!1,a(e)}}function u(e,t){this.fun=e,this.array=t}function c(){}var m,p,h=t.exports={};(function(){try{m="function"==typeof setTimeout?setTimeout:i}catch(e){m=i}try{p="function"==typeof clearTimeout?clearTimeout:s}catch(e){p=s}})();var f,d=[],g=!1,b=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];d.push(new u(e,t)),1!==d.length||g||n(l)},u.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.prependListener=c,h.prependOnceListener=c,h.listeners=function(e){return[]},h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}],"citation-js":[function(e,t,r){"use strict";function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var s={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=n?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(s,a,o):s[a]=e[a]}return s.default=e,r&&r.set(e,s),s}function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"Cite",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(r,"logger",{enumerable:!0,get:function(){return u.default}}),r.version=r.util=r.plugins=void 0;var a=n(e("./Cite/index.js")),o=s(e("./plugins/index.js"));r.plugins=o;var l=s(e("./util/index.js"));r.util=l;var u=n(e("./logger.js")),c=n(e("../package.json"));e("./plugin-common/index.js");r.version=c.default.version},{"../package.json":50,"./Cite/index.js":3,"./logger.js":10,"./plugin-common/index.js":11,"./plugins/index.js":22,"./util/index.js":38}]},{},[51,60,91,99,102,113,122,124,131,142]);
